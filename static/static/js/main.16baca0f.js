/*! For license information please see main.16baca0f.js.LICENSE.txt */
(()=>{var e={45:e=>{e.exports={options:{usePureJavaScript:!1}}},310:()=>{},434:(e,t,n)=>{e.exports=n(45),n(9353),n(587),n(5465),n(9151),n(2986),n(9611),n(8163),n(3473),n(2024),n(2316),n(1657),n(8009),n(5224),n(7668),n(3588),n(5106),n(470),n(8353),n(1513),n(4188),n(2795),n(1577),n(2208),n(5711),n(3900)},470:(e,t,n)=>{var r=n(45);n(5465),n(3225),n(3555),n(5224),n(8009),n(3588),n(4188),n(9408),n(3900),n(4620);var a=r.asn1,s=e.exports=r.pki=r.pki||{};s.pemToDer=function(e){var t=r.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return r.util.createBuffer(t.body)},s.privateKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var n=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var i=a.fromDer(t.body);return s.privateKeyFromAsn1(i)},s.privateKeyToPem=function(e,t){var n={type:"RSA PRIVATE KEY",body:a.toDer(s.privateKeyToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},s.privateKeyInfoToPem=function(e,t){var n={type:"PRIVATE KEY",body:a.toDer(e).getBytes()};return r.pem.encode(n,{maxline:t})}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},587:(e,t,n)=>{var r=n(45);n(9353),n(5711);var a=e.exports=r.tls;function s(e,t,n){var s=t.entity===r.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:r.cipher.createDecipher("AES-CBC",s?n.keys.server_write_key:n.keys.client_write_key),iv:s?n.keys.server_write_IV:n.keys.client_write_IV},e.write.cipherState={init:!1,cipher:r.cipher.createCipher("AES-CBC",s?n.keys.client_write_key:n.keys.server_write_key),iv:s?n.keys.client_write_IV:n.keys.server_write_IV},e.read.cipherFunction=c,e.write.cipherFunction=i,e.read.macLength=e.write.macLength=n.mac_length,e.read.macFunction=e.write.macFunction=a.hmac_sha1}function i(e,t){var n,s=!1,i=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(i),t.updateSequenceNumber(),n=e.version.minor===a.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:r.random.getBytesSync(16),t.cipherState.init=!0;var l=t.cipherState.cipher;return l.start({iv:n}),e.version.minor>=a.Versions.TLS_1_1.minor&&l.output.putBytes(n),l.update(e.fragment),l.finish(o)&&(e.fragment=l.output,e.length=e.fragment.length(),s=!0),s}function o(e,t,n){if(!n){var r=e-t.length()%e;t.fillWithByte(r-1,r)}return!0}function l(e,t,n){var r=!0;if(n){for(var a=t.length(),s=t.last(),i=a-1-s;i<a-1;++i)r=r&&t.at(i)==s;r&&t.truncate(s+1)}return r}function c(e,t){var n,s=!1;n=e.version.minor===a.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),s=i.finish(l);var o=t.macLength,c=r.random.getBytesSync(o),u=i.output.length();u>=o?(e.fragment=i.output.getBytes(u-o),c=i.output.getBytes(o)):e.fragment=i.output.getBytes(),e.fragment=r.util.createBuffer(e.fragment),e.length=e.fragment.length();var d=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),s=function(e,t,n){var a=r.hmac.create();return a.start("SHA1",e),a.update(t),t=a.digest().getBytes(),a.start(null,null),a.update(n),n=a.digest().getBytes(),t===n}(t.macKey,c,d)&&s,s}a.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=a.BulkCipherAlgorithm.aes,e.cipher_type=a.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=a.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:s},a.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=a.BulkCipherAlgorithm.aes,e.cipher_type=a.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=a.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:s}},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1513:(e,t,n)=>{var r=n(45);n(3900);var a=null;!r.util.isNodejs||r.options.usePureJavaScript||process.versions["node-webkit"]||(a=n(310)),(e.exports=r.prng=r.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},n=e.md,s=new Array(32),i=0;i<32;++i)s[i]=n.create();function o(){if(t.pools[0].messageLength>=32)return l();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),l()}function l(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var n=1,r=0;r<32;++r)t.reseeds%n===0&&(e.update(t.pools[r].digest().getBytes()),t.pools[r].start()),n<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var a=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(a),t.generated=0}function c(e){var t=null,n=r.util.globalScope,a=n.crypto||n.msCrypto;a&&a.getRandomValues&&(t=function(e){return a.getRandomValues(e)});var s=r.util.createBuffer();if(t)for(;s.length()<e;){var i=Math.max(1,Math.min(e-s.length(),65536)/4),o=new Uint32Array(Math.floor(i));try{t(o);for(var l=0;l<o.length;++l)s.putInt32(o[l])}catch(f){if(!("undefined"!==typeof QuotaExceededError&&f instanceof QuotaExceededError))throw f}}if(s.length()<e)for(var c,u,d,h=Math.floor(65536*Math.random());s.length()<e;){u=16807*(65535&h),u+=(32767&(c=16807*(h>>16)))<<16,h=4294967295&(u=(2147483647&(u+=c>>15))+(u>>31));for(l=0;l<3;++l)d=h>>>(l<<3),d^=Math.floor(256*Math.random()),s.putByte(255&d)}return s.getBytes(e)}return t.pools=s,t.pool=0,t.generate=function(e,n){if(!n)return t.generateSync(e);var a=t.plugin.cipher,s=t.plugin.increment,i=t.plugin.formatKey,o=t.plugin.formatSeed,c=r.util.createBuffer();t.key=null,function u(d){if(d)return n(d);if(c.length()>=e)return n(null,c.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return r.util.nextTick(function(){!function(e){if(t.pools[0].messageLength>=32)return l(),e();var n=32-t.pools[0].messageLength<<5;t.seedFile(n,function(n,r){if(n)return e(n);t.collect(r),l(),e()})}(u)});var h=a(t.key,t.seed);t.generated+=h.length,c.putBytes(h),t.key=i(a(t.key,s(t.seed))),t.seed=o(a(t.key,t.seed)),r.util.setImmediate(u)}()},t.generateSync=function(e){var n=t.plugin.cipher,a=t.plugin.increment,s=t.plugin.formatKey,i=t.plugin.formatSeed;t.key=null;for(var l=r.util.createBuffer();l.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&o();var c=n(t.key,t.seed);t.generated+=c.length,l.putBytes(c),t.key=s(n(t.key,a(t.seed))),t.seed=i(n(t.key,t.seed))}return l.getBytes(e)},a?(t.seedFile=function(e,t){a.randomBytes(e,function(e,n){if(e)return t(e);t(null,n.toString())})},t.seedFileSync=function(e){return a.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,c(e))}catch(n){t(n)}},t.seedFileSync=c),t.collect=function(e){for(var n=e.length,r=0;r<n;++r)t.pools[t.pool].update(e.substr(r,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,n){for(var r="",a=0;a<n;a+=8)r+=String.fromCharCode(e>>a&255);t.collect(r)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",function e(n){var r=n.data;r.forge&&r.forge.prng&&(self.removeEventListener("message",e),t(r.forge.prng.err,r.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",function(n){var r=n.data;r.forge&&r.forge.prng&&t.seedFile(r.forge.prng.needed,function(t,n){e.postMessage({forge:{prng:{err:t,bytes:n}}})})})}},t}},1577:(e,t,n)=>{var r=n(45);n(3900);var a=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],i=function(e,t){return e<<t&65535|(65535&e)>>16-t},o=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=r.rc2=r.rc2||{},r.rc2.expandKey=function(e,t){"string"===typeof e&&(e=r.util.createBuffer(e)),t=t||128;var n,s=e,i=e.length(),o=t,l=Math.ceil(o/8),c=255>>(7&o);for(n=i;n<128;n++)s.putByte(a[s.at(n-1)+s.at(n-i)&255]);for(s.setAt(128-l,a[s.at(128-l)&c]),n=127-l;n>=0;n--)s.setAt(n,a[s.at(n+1)^s.at(n+l)]);return s};var l=function(e,t,n){var a,l,c,u,d=!1,h=null,f=null,p=null,m=[];for(e=r.rc2.expandKey(e,t),c=0;c<64;c++)m.push(e.getInt16Le());n?(a=function(e){for(c=0;c<4;c++)e[c]+=m[u]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),e[c]=i(e[c],s[c]),u++},l=function(e){for(c=0;c<4;c++)e[c]+=m[63&e[(c+3)%4]]}):(a=function(e){for(c=3;c>=0;c--)e[c]=o(e[c],s[c]),e[c]-=m[u]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),u--},l=function(e){for(c=3;c>=0;c--)e[c]-=m[63&e[(c+3)%4]]});var g=function(e){var t=[];for(c=0;c<4;c++){var r=h.getInt16Le();null!==p&&(n?r^=p.getInt16Le():p.putInt16Le(r)),t.push(65535&r)}u=n?0:63;for(var a=0;a<e.length;a++)for(var s=0;s<e[a][0];s++)e[a][1](t);for(c=0;c<4;c++)null!==p&&(n?p.putInt16Le(t[c]):t[c]^=p.getInt16Le()),f.putInt16Le(t[c])},y=null;return y={start:function(e,t){e&&"string"===typeof e&&(e=r.util.createBuffer(e)),d=!1,h=r.util.createBuffer(),f=t||new r.util.createBuffer,p=e,y.output=f},update:function(e){for(d||h.putBuffer(e);h.length()>=8;)g([[5,a],[1,l],[6,a],[1,l],[5,a]])},finish:function(e){var t=!0;if(n)if(e)t=e(8,h,!n);else{var r=8===h.length()?8:8-h.length();h.fillWithByte(r,r)}if(t&&(d=!0,y.update()),!n&&(t=0===h.length()))if(e)t=e(8,f,!n);else{var a=f.length(),s=f.at(a-1);s>a?t=!1:f.truncate(s)}return t}}};r.rc2.startEncrypting=function(e,t,n){var a=r.rc2.createEncryptionCipher(e,128);return a.start(t,n),a},r.rc2.createEncryptionCipher=function(e,t){return l(e,t,!0)},r.rc2.startDecrypting=function(e,t,n){var a=r.rc2.createDecryptionCipher(e,128);return a.start(t,n),a},r.rc2.createDecryptionCipher=function(e,t){return l(e,t,!1)}},1655:(e,t,n)=>{var r=n(45);n(3900),r.cipher=r.cipher||{};var a=e.exports=r.cipher.modes=r.cipher.modes||{};function s(e,t){if("string"===typeof e&&(e=r.util.createBuffer(e)),r.util.isArray(e)&&e.length>4){var n=e;e=r.util.createBuffer();for(var a=0;a<n.length;++a)e.putByte(n[a])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!r.util.isArray(e)){var s=[],i=t/4;for(a=0;a<i;++a)s.push(e.getInt32());e=s}return e}function i(e){e[e.length-1]=e[e.length-1]+1&4294967295}function o(e){return[e/4294967296|0,4294967295&e]}a.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},a.ecb.prototype.start=function(e){},a.ecb.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])},a.ecb.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])},a.ecb.prototype.pad=function(e,t){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0},a.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)},a.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},a.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},a.cbc.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock},a.cbc.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)},a.cbc.prototype.pad=function(e,t){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0},a.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)},a.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},a.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.cfb.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32()^this._outBlock[a],t.putInt32(this._inBlock[a]);else{var s=(this.blockSize-r)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(a=0;a<this._ints;++a)this._partialBlock[a]=e.getInt32()^this._outBlock[a],this._partialOutput.putInt32(this._partialBlock[a]);if(s>0)e.read-=this.blockSize;else for(a=0;a<this._ints;++a)this._inBlock[a]=this._partialBlock[a];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!n)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},a.cfb.prototype.decrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var a=0;a<this._ints;++a)this._inBlock[a]=e.getInt32(),t.putInt32(this._inBlock[a]^this._outBlock[a]);else{var s=(this.blockSize-r)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(a=0;a<this._ints;++a)this._partialBlock[a]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[a]^this._outBlock[a]);if(s>0)e.read-=this.blockSize;else for(a=0;a<this._ints;++a)this._inBlock[a]=this._partialBlock[a];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!n)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},a.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},a.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.ofb.prototype.encrypt=function(e,t,n){var r=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var a=0;a<this._ints;++a)t.putInt32(e.getInt32()^this._outBlock[a]),this._inBlock[a]=this._outBlock[a];else{var s=(this.blockSize-r)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(a=0;a<this._ints;++a)this._partialOutput.putInt32(e.getInt32()^this._outBlock[a]);if(s>0)e.read-=this.blockSize;else for(a=0;a<this._ints;++a)this._inBlock[a]=this._outBlock[a];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!n)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},a.ofb.prototype.decrypt=a.ofb.prototype.encrypt,a.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},a.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=s(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},a.ctr.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var a=0;a<this._ints;++a)t.putInt32(e.getInt32()^this._outBlock[a]);else{var s=(this.blockSize-r)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(a=0;a<this._ints;++a)this._partialOutput.putInt32(e.getInt32()^this._outBlock[a]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!n)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}i(this._inBlock)},a.ctr.prototype.decrypt=a.ctr.prototype.encrypt,a.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0,this._R=3774873600},a.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,n=r.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?r.util.createBuffer(e.additionalData):r.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=r.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var a=n.length();if(12===a)this._j0=[n.getInt32(),n.getInt32(),n.getInt32(),1];else{for(this._j0=[0,0,0,0];n.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[n.getInt32(),n.getInt32(),n.getInt32(),n.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(o(8*a)))}this._inBlock=this._j0.slice(0),i(this._inBlock),this._partialBytes=0,t=r.util.createBuffer(t),this._aDataLength=o(8*t.length());var s=t.length()%this.blockSize;for(s&&t.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},a.gcm.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize){for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-r)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(a=0;a<this._ints;++a)this._partialOutput.putInt32(e.getInt32()^this._outBlock[a]);if(s<=0||n){if(n){var o=r%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(a=0;a<this._ints;++a)this._outBlock[a]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!n)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),i(this._inBlock)},a.gcm.prototype.decrypt=function(e,t,n){var r=e.length();if(r<this.blockSize&&!(n&&r>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),i(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var a=0;a<this._ints;++a)t.putInt32(this._outBlock[a]^this._hashBlock[a]);r<this.blockSize?this._cipherLength+=r%this.blockSize:this._cipherLength+=this.blockSize},a.gcm.prototype.afterFinish=function(e,t){var n=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=r.util.createBuffer();var a=this._aDataLength.concat(o(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,a);var s=[];this.cipher.encrypt(this._j0,s);for(var i=0;i<this._ints;++i)this.tag.putInt32(this._s[i]^s[i]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(n=!1),n},a.gcm.prototype.multiply=function(e,t){for(var n=[0,0,0,0],r=t.slice(0),a=0;a<128;++a){e[a/32|0]&1<<31-a%32&&(n[0]^=r[0],n[1]^=r[1],n[2]^=r[2],n[3]^=r[3]),this.pow(r,r)}return n},a.gcm.prototype.pow=function(e,t){for(var n=1&e[3],r=3;r>0;--r)t[r]=e[r]>>>1|(1&e[r-1])<<31;t[0]=e[0]>>>1,n&&(t[0]^=this._R)},a.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],n=0;n<32;++n){var r=e[n/8|0]>>>4*(7-n%8)&15,a=this._m[n][r];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t},a.gcm.prototype.ghash=function(e,t,n){return t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3],this.tableMultiply(t)},a.gcm.prototype.generateHashTable=function(e,t){for(var n=8/t,r=4*n,a=16*n,s=new Array(a),i=0;i<a;++i){var o=[0,0,0,0],l=(r-1-i%r)*t;o[i/r|0]=1<<t-1<<l,s[i]=this.generateSubHashTable(this.multiply(o,e),t)}return s},a.gcm.prototype.generateSubHashTable=function(e,t){var n=1<<t,r=n>>>1,a=new Array(n);a[r]=e.slice(0);for(var s=r>>>1;s>0;)this.pow(a[2*s],a[s]=[]),s>>=1;for(s=2;s<r;){for(var i=1;i<s;++i){var o=a[s],l=a[i];a[s+i]=[o[0]^l[0],o[1]^l[1],o[2]^l[2],o[3]^l[3]]}s*=2}for(a[0]=[0,0,0,0],s=r+1;s<n;++s){var c=a[s^r];a[s]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return a}},1657:(e,t,n)=>{var r=n(45);n(3900),r.mgf=r.mgf||{},(e.exports=r.mgf.mgf1=r.mgf1=r.mgf1||{}).create=function(e){return{generate:function(t,n){for(var a=new r.util.ByteBuffer,s=Math.ceil(n/e.digestLength),i=0;i<s;i++){var o=new r.util.ByteBuffer;o.putInt32(i),e.start(),e.update(t+o.getBytes()),a.putBuffer(e.digest())}return a.truncate(a.length()-n),a.getBytes()}}}},2024:(e,t,n)=>{var r=n(45);n(3900),e.exports=r.log=r.log||{},r.log.levels=["none","error","warning","info","debug","verbose","max"];var a={},s=[],i=null;r.log.LEVEL_LOCKED=2,r.log.NO_LEVEL_CHECK=4,r.log.INTERPOLATE=8;for(var o=0;o<r.log.levels.length;++o){var l=r.log.levels[o];a[l]={index:o,name:l.toUpperCase()}}r.log.logMessage=function(e){for(var t=a[e.level].index,n=0;n<s.length;++n){var i=s[n];if(i.flags&r.log.NO_LEVEL_CHECK)i.f(e);else t<=a[i.level].index&&i.f(i,e)}},r.log.prepareStandard=function(e){"standard"in e||(e.standard=a[e.level].name+" ["+e.category+"] "+e.message)},r.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||0),e.full=r.util.format.apply(this,t)}},r.log.prepareStandardFull=function(e){"standardFull"in e||(r.log.prepareStandard(e),e.standardFull=e.standard)};var c=["error","warning","info","debug","verbose"];for(o=0;o<c.length;++o)(function(e){r.log[e]=function(t,n){var a=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:e,category:t,message:n,arguments:a};r.log.logMessage(s)}})(c[o]);if(r.log.makeLogger=function(e){var t={flags:0,f:e};return r.log.setLevel(t,"none"),t},r.log.setLevel=function(e,t){var n=!1;if(e&&!(e.flags&r.log.LEVEL_LOCKED))for(var a=0;a<r.log.levels.length;++a){if(t==r.log.levels[a]){e.level=t,n=!0;break}}return n},r.log.lock=function(e,t){"undefined"===typeof t||t?e.flags|=r.log.LEVEL_LOCKED:e.flags&=~r.log.LEVEL_LOCKED},r.log.addLogger=function(e){s.push(e)},"undefined"!==typeof console&&"log"in console){var u;if(console.error&&console.warn&&console.info&&console.debug){var d={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},h=function(e,t){r.log.prepareStandard(t);var n=d[t.level],a=[t.standard];a=a.concat(t.arguments.slice()),n.apply(console,a)};u=r.log.makeLogger(h)}else{h=function(e,t){r.log.prepareStandardFull(t),console.log(t.standardFull)};u=r.log.makeLogger(h)}r.log.setLevel(u,"debug"),r.log.addLogger(u),i=u}else console={log:function(){}};if(null!==i&&"undefined"!==typeof window&&window.location){var f=new URL(window.location.href).searchParams;if(f.has("console.level")&&r.log.setLevel(i,f.get("console.level").slice(-1)[0]),f.has("console.lock"))"true"==f.get("console.lock").slice(-1)[0]&&r.log.lock(i)}r.log.consoleLogger=i},2208:(e,t,n)=>{var r=n(45);n(9353),n(8163),n(6574),n(3753),n(3900);var a=e.exports=r.ssh=r.ssh||{};function s(e,t){var n=t.toString(16);n[0]>="8"&&(n="00"+n);var a=r.util.hexToBytes(n);e.putInt32(a.length),e.putBytes(a)}function i(e,t){e.putInt32(t.length),e.putString(t)}function o(){for(var e=r.md.sha1.create(),t=arguments.length,n=0;n<t;++n)e.update(arguments[n]);return e.digest()}a.privateKeyToPutty=function(e,t,n){var a="ssh-rsa",l=""===(t=t||"")?"none":"aes256-cbc",c="PuTTY-User-Key-File-2: "+a+"\r\n";c+="Encryption: "+l+"\r\n",c+="Comment: "+(n=n||"")+"\r\n";var u=r.util.createBuffer();i(u,a),s(u,e.e),s(u,e.n);var d=r.util.encode64(u.bytes(),64),h=Math.floor(d.length/66)+1;c+="Public-Lines: "+h+"\r\n",c+=d;var f,p=r.util.createBuffer();if(s(p,e.d),s(p,e.p),s(p,e.q),s(p,e.qInv),t){var m=p.length()+16-1;m-=m%16;var g=o(p.bytes());g.truncate(g.length()-m+p.length()),p.putBuffer(g);var y=r.util.createBuffer();y.putBuffer(o("\0\0\0\0",t)),y.putBuffer(o("\0\0\0\x01",t));var v=r.aes.createEncryptionCipher(y.truncate(8),"CBC");v.start(r.util.createBuffer().fillWithByte(0,16)),v.update(p.copy()),v.finish();var b=v.output;b.truncate(16),f=r.util.encode64(b.bytes(),64)}else f=r.util.encode64(p.bytes(),64);c+="\r\nPrivate-Lines: "+(h=Math.floor(f.length/66)+1)+"\r\n",c+=f;var w=o("putty-private-key-file-mac-key",t),x=r.util.createBuffer();i(x,a),i(x,l),i(x,n),x.putInt32(u.length()),x.putBuffer(u),x.putInt32(p.length()),x.putBuffer(p);var E=r.hmac.create();return E.start("sha1",w),E.update(x.bytes()),c+="\r\nPrivate-MAC: "+E.digest().toHex()+"\r\n"},a.publicKeyToOpenSSH=function(e,t){var n="ssh-rsa";t=t||"";var a=r.util.createBuffer();return i(a,n),s(a,e.e),s(a,e.n),n+" "+r.util.encode64(a.bytes())+" "+t},a.privateKeyToOpenSSH=function(e,t){return t?r.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):r.pki.privateKeyToPem(e)},a.getPublicKeyFingerprint=function(e,t){var n=(t=t||{}).md||r.md.md5.create(),a=r.util.createBuffer();i(a,"ssh-rsa"),s(a,e.e),s(a,e.n),n.start(),n.update(a.getBytes());var o=n.digest();if("hex"===t.encoding){var l=o.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}if("binary"===t.encoding)return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return o}},2316:(e,t,n)=>{e.exports=n(5693),n(6574),n(3753),n(3899),n(8138)},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,_=Object.assign;function U(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var M=!1;function F(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case S:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case B:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return _({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return _({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ce=null,Ae=null;function Se(e){if(e=ba(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=xa(t),Ee(e.stateNode,e.type,t))}}function Ne(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function ke(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Be=!1;function Re(e,t,n){if(Be)return e(t,n);Be=!0;try{return Te(e,t,n)}finally{Be=!1,(null!==Ce||null!==Ae)&&(Ie(),ke())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Pe=!1}function De(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,_e=null,Ue=!1,Me=null,Fe={onError:function(e){Oe=!0,_e=e}};function Ve(e,t,n,r,a,s,i,o,l){Oe=!1,_e=null,De.apply(Fe,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return He(a),e;if(i===r)return He(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,We=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Ze=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=dt(o):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Et,Ct,At,St,Nt=!1,kt=[],Tt=null,It=null,Bt=null,Rt=new Map,jt=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Ot(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function _t(e){var t=va(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void St(e.priority,function(){Ct(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Mt(e,t,n){Ut(e)&&n.delete(t)}function Ft(){Nt=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==It&&Ut(It)&&(It=null),null!==Bt&&Ut(Bt)&&(Bt=null),Rt.forEach(Mt),jt.forEach(Mt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function zt(e){function t(t){return Vt(t,e)}if(0<kt.length){Vt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==It&&Vt(It,e),null!==Bt&&Vt(Bt,e),Rt.forEach(t),jt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)_t(n),null===n.blockedOn&&Pt.shift()}var Kt=w.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var a=bt,s=Kt.transition;Kt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=a,Kt.transition=s}}function Qt(e,t,n,r){var a=bt,s=Kt.transition;Kt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=a,Kt.transition=s}}function qt(e,t,n,r){if(Ht){var a=Jt(e,t,n,r);if(null===a)Hr(e,t,r,Wt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,a),!0;case"dragenter":return It=Ot(It,e,t,n,r,a),!0;case"mouseover":return Bt=Ot(Bt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Rt.set(s,Ot(Rt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,jt.set(s,Ot(jt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==a;){var s=ba(a);if(null!==s&&xt(s),null===(s=Jt(e,t,n,r))&&Hr(e,t,r,Wt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Wt=null;function Jt(e,t,n,r){if(Wt=null,null!==(e=va(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Xt=null,$t=null;function en(){if($t)return $t;var e,t,n=Xt,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=_({},cn,{view:0,detail:0}),hn=an(dn),fn=_({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),mn=an(_({},fn,{dataTransfer:0})),gn=an(_({},dn,{relatedTarget:0})),yn=an(_({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=_({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),wn=an(_({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return An}var Nn=_({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=an(Nn),Tn=an(_({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(_({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Bn=an(_({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=_({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=an(Rn),Pn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var On=u&&"TextEvent"in window&&!Dn,_n=u&&(!Ln||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Mn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ne(r),0<(t=Qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,qn=null;function Wn(e){Ur(e,0)}function Jn(e){if(q(wa(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Xn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Xn=$n}else Xn=!1;Zn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),qn=Qn=null)}function nr(e){if("value"===e.propertyName&&Jn(qn)){var t=[];Gn(t,qn,e,xe(e)),Re(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(qn)}function sr(e,t){if("click"===e)return Jn(t)}function ir(e,t){if("input"===e||"change"===e)return Jn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==W(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Cr={},Ar={};function Sr(e){if(Cr[e])return Cr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return Cr[e]=n[t];return e}u&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Nr=Sr("animationend"),kr=Sr("animationiteration"),Tr=Sr("animationstart"),Ir=Sr("transitionend"),Br=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Br.set(e,t),l(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Lr=Rr[Pr];jr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}jr(Nr,"onAnimationEnd"),jr(kr,"onAnimationIteration"),jr(Tr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(Ve.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var u=_e;Oe=!1,_e=null,Ue||(Ue=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;_r(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;_r(a,o,c),s=l}}}if(Ue)throw e=Me,Ue=!1,Me=null,e}function Mr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Or.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Fr("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Yt(t)){case 1:var a=Gt;break;case 4:a=Qt;break;default:a=qt}n=a.bind(null,t,n,e),a=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=va(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Re(function(){var r=s,a=xe(n),i=[];e:{var o=Br.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Nr:case kr:case Tr:l=yn;break;case Ir:l=Bn;break;case"scroll":l=hn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=je(p,h))&&u.push(Gr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wa(l),f=null==c?o:wa(c),(o=new u(m,p+"leave",l,n,a)).target=d,o.relatedTarget=f,m=null,va(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=qr(f))p++;for(f=0,m=h;m;m=qr(m))f++;for(;0<p-f;)u=qr(u),p--;for(;0<f-p;)h=qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=qr(u),h=qr(h)}u=null}else u=null;null!==l&&Wr(i,o,l,u,!1),null!==c&&null!==d&&Wr(i,d,c,u,!0)}if("select"===(l=(o=r?wa(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Hn(o))if(Zn)g=ir;else{g=ar;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(i,g,n,a):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?wa(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,a)}var v;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(_n&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Xt="value"in(Zt=a)?Zt.value:Zt.textContent,zn=!0)),0<(y=Qr(r,b)).length&&(b=new wn(b,e,null,n,a),i.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Un);case"textInput":return(e=t.data)===Un&&Mn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Ln&&Fn(e,t)?(e=en(),$t=Xt=Zt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=v))}Ur(i,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=je(e,n))&&r.unshift(Gr(e,s,a)),null!=(s=je(e,t))&&r.push(Gr(e,s,a))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=je(n,s))&&i.unshift(Gr(n,l,o)):a||null!=(l=je(n,s))&&i.push(Gr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(s(425))}function $r(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);zt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xa(e){return e[fa]||null}var Ea=[],Ca=-1;function Aa(e){return{current:e}}function Sa(e){0>Ca||(e.current=Ea[Ca],Ea[Ca]=null,Ca--)}function Na(e,t){Ca++,Ea[Ca]=e.current,e.current=t}var ka={},Ta=Aa(ka),Ia=Aa(!1),Ba=ka;function Ra(e,t){var n=e.type.contextTypes;if(!n)return ka;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ja(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pa(){Sa(Ia),Sa(Ta)}function La(e,t,n){if(Ta.current!==ka)throw Error(s(168));Na(Ta,t),Na(Ia,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,K(e)||"Unknown",a));return _({},n,r)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,Ba=Ta.current,Na(Ta,e),Na(Ia,Ia.current),!0}function _a(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Da(e,t,Ba),r.__reactInternalMemoizedMergedChildContext=e,Sa(Ia),Sa(Ta),Na(Ta,e)):Sa(Ia),Na(Ia,n)}var Ua=null,Ma=!1,Fa=!1;function Va(e){null===Ua?Ua=[e]:Ua.push(e)}function za(){if(!Fa&&null!==Ua){Fa=!0;var e=0,t=bt;try{var n=Ua;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ua=null,Ma=!1}catch(a){throw null!==Ua&&(Ua=Ua.slice(e+1)),qe($e,za),a}finally{bt=t,Fa=!1}}return null}var Ka=[],Ha=0,Ga=null,Qa=0,qa=[],Wa=0,Ja=null,Ya=1,Za="";function Xa(e,t){Ka[Ha++]=Qa,Ka[Ha++]=Ga,Ga=e,Qa=t}function $a(e,t,n){qa[Wa++]=Ya,qa[Wa++]=Za,qa[Wa++]=Ja,Ja=e;var r=Ya;e=Za;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ya=1<<32-it(t)+a|n<<a|r,Za=s+e}else Ya=1<<s|n<<a|r,Za=e}function es(e){null!==e.return&&(Xa(e,1),$a(e,1,0))}function ts(e){for(;e===Ga;)Ga=Ka[--Ha],Ka[Ha]=null,Qa=Ka[--Ha],Ka[Ha]=null;for(;e===Ja;)Ja=qa[--Wa],qa[Wa]=null,Za=qa[--Wa],qa[Wa]=null,Ya=qa[--Wa],qa[Wa]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Ya,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=_c(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===j&&vs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=_c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?c(e,t,n,r):null;case E:return n.key===a?u(e,t,n,r):null;case j:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,a,null);ys(t,r)}return null}function m(a,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(a,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),s=i(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(a,d),as&&Xa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return as&&Xa(a,m),c}for(d=r(a,d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Xa(a,m),c}function g(a,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(a,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),o=i(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(a,m),as&&Xa(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(o=i(v,o,g),null===d?u=v:d.sibling=v,d=v);return as&&Xa(a,g),u}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=i(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),as&&Xa(a,g),u}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===C&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===C){if(7===u.tag){n(r,u.sibling),(s=a(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&vs(c)===u.type){n(r,u.sibling),(s=a(u,i.props)).ref=gs(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===C?((s=Dc(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Lc(i.type,i.key,i.props,null,r.mode,l)).ref=gs(r,s,i),l.return=r,r=l)}return o(r);case E:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(i,r.mode,l)).return=r,r=s}return o(r);case j:return e(r,s,(u=i._init)(i._payload),l)}if(te(i))return m(r,s,i,l);if(D(i))return g(r,s,i,l);ys(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=_c(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),Es=Aa(null),Cs=null,As=null,Ss=null;function Ns(){Ss=As=Cs=null}function ks(e){var t=Es.current;Sa(Es),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Cs=e,Ss=As=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===As){if(null===Cs)throw Error(s(308));As=e,Cs.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Rs=null;function js(e){null===Rs?Rs=[e]:Rs.push(e)}function Ps(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,js(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _s(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ls(e,n)}return null===(a=r.interleaved)?(t.next=t,js(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ls(e,n)}function Fs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var a=e.updateQueue;Ds=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=_({},d,h);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ol|=i,e.lanes=i,e.memoizedState=d}}function Ks(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Hs={},Gs=Aa(Hs),Qs=Aa(Hs),qs=Aa(Hs);function Ws(e){if(e===Hs)throw Error(s(174));return e}function Js(e,t){switch(Na(qs,t),Na(Qs,e),Na(Gs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Gs),Na(Gs,t)}function Ys(){Sa(Gs),Sa(Qs),Sa(qs)}function Zs(e){Ws(qs.current);var t=Ws(Gs.current),n=le(t,e.type);t!==n&&(Na(Qs,e),Na(Gs,n))}function Xs(e){Qs.current===e&&(Sa(Gs),Sa(Qs))}var $s=Aa(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=w.ReactCurrentDispatcher,ai=w.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,ui=!1,di=0,hi=0;function fi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:$i,e=n(r,a),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,a)}while(ui)}if(ri.current=Zi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==di;return di=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function vi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function bi(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=vi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((si&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=d,Ol|=d}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Ol|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xi(e){var t=vi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(bo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ei(){}function Ci(e,t){var n=ii,r=vi(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,bo=!0),r=r.queue,Di(Ni.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Bi(9,Si.bind(null,n,r,a,t),void 0,null),null===Il)throw Error(s(349));0!==(30&si)||Ai(n,t,a)}return a}function Ai(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,r){t.value=n,t.getSnapshot=r,ki(t)&&Ti(e)}function Ni(e,t,n){return n(function(){ki(t)&&Ti(e)})}function ki(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ti(e){var t=Ls(e,1);null!==t&&nc(t,e,1,-1)}function Ii(e){var t=yi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=qi.bind(null,ii,e),[t.memoizedState,e]}function Bi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ri(){return vi().memoizedState}function ji(e,t,n,r){var a=yi();ii.flags|=e,a.memoizedState=Bi(1|t,n,void 0,void 0===r?null:r)}function Pi(e,t,n,r){var a=vi();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&pi(r,i.deps))return void(a.memoizedState=Bi(t,n,s,r))}ii.flags|=e,a.memoizedState=Bi(1|t,n,s,r)}function Li(e,t){return ji(8390656,8,e,t)}function Di(e,t){return Pi(2048,8,e,t)}function Oi(e,t){return Pi(4,2,e,t)}function _i(e,t){return Pi(4,4,e,t)}function Ui(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Mi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pi(4,4,Ui.bind(null,t,e),n)}function Fi(){}function Vi(e,t){var n=vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zi(e,t){var n=vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ki(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ii.lanes|=n,Ol|=n,e.baseState=!0),t)}function Hi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=n,ai.transition=r}}function Gi(){return vi().memoizedState}function Qi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wi(e))Ji(t,n);else if(null!==(n=Ps(e,t,n,r))){nc(n,e,r,ec()),Yi(n,t,r)}}function qi(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wi(e))Ji(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,js(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ps(e,t,a,r))&&(nc(n,e,r,a=ec()),Yi(n,t,r))}}function Wi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Ji(e,t){ui=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zi={readContext:Bs,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Xi={readContext:Bs,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:Bs,useEffect:Li,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ji(4194308,4,Ui.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return ji(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Ii,useDebugValue:Fi,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=Hi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=yi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Il)throw Error(s(349));0!==(30&si)||Ai(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Li(Ni.bind(null,r,i,e),[e]),r.flags|=2048,Bi(9,Si.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=yi(),t=Il.identifierPrefix;if(as){var n=Za;t=":"+t+"R"+(n=(Ya&~(1<<32-it(Ya)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$i={readContext:Bs,useCallback:Vi,useContext:Bs,useEffect:Di,useImperativeHandle:Mi,useInsertionEffect:Oi,useLayoutEffect:_i,useMemo:zi,useReducer:wi,useRef:Ri,useState:function(){return wi(bi)},useDebugValue:Fi,useDeferredValue:function(e){return Ki(vi(),oi.memoizedState,e)},useTransition:function(){return[wi(bi)[0],vi().memoizedState]},useMutableSource:Ei,useSyncExternalStore:Ci,useId:Gi,unstable_isNewReconciler:!1},eo={readContext:Bs,useCallback:Vi,useContext:Bs,useEffect:Di,useImperativeHandle:Mi,useInsertionEffect:Oi,useLayoutEffect:_i,useMemo:zi,useReducer:xi,useRef:Ri,useState:function(){return xi(bi)},useDebugValue:Fi,useDeferredValue:function(e){var t=vi();return null===oi?t.memoizedState=e:Ki(t,oi.memoizedState,e)},useTransition:function(){return[xi(bi)[0],vi().memoizedState]},useMutableSource:Ei,useSyncExternalStore:Ci,useId:Gi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=_({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:_({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Us(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,a))&&(nc(t,e,a,r),Fs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Us(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,a))&&(nc(t,e,a,r),Fs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Us(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ms(e,a,r))&&(nc(t,e,r,n),Fs(t,e,r))}};function ao(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function so(e,t,n){var r=!1,a=ka,s=t.contextType;return"object"===typeof s&&null!==s?s=Bs(s):(a=ja(t)?Ba:Ta.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ra(e,a):ka),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Bs(s):(s=ja(t)?Ba:Ta.current,a.context=Ra(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),zs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Gl=r),uo(0,t)},n}function po(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Ms(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xo(e,t,n,r,a){n=n.render;var s=t.ref;return Is(t,a),r=mi(e,t,n,r,s,a),n=gi(),null===e||bo?(as&&n&&es(t),t.flags|=1,wo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function Eo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||jc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Co(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Ho(e,t,a)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function Co(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Ho(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return No(e,t,n,r,a)}function Ao(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Pl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Pl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Na(Pl,jl),jl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Na(Pl,jl),jl|=r;return wo(e,t,a,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,a){var s=ja(n)?Ba:Ta.current;return s=Ra(t,s),Is(t,a),n=mi(e,t,n,r,s,a),r=gi(),null===e||bo?(as&&r&&es(t),t.flags|=1,wo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function ko(e,t,n,r,a){if(ja(n)){var s=!0;Oa(t)}else s=!1;if(Is(t,a),null===t.stateNode)Ko(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Bs(c):c=Ra(t,c=ja(n)?Ba:Ta.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),Ds=!1;var h=t.memoizedState;i.state=h,zs(t,r,i,a),l=t.memoizedState,o!==r||h!==l||Ia.current||Ds?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ds||ao(t,n,o,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,_s(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Bs(l):l=Ra(t,l=ja(n)?Ba:Ta.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,r,l),Ds=!1,h=t.memoizedState,i.state=h,zs(t,r,i,a);var p=t.memoizedState;o!==d||h!==p||Ia.current||Ds?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ds||ao(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,a)}function To(e,t,n,r,a,s){So(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&_a(t,n,!1),Ho(e,t,s);r=t.stateNode,vo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,a&&_a(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),Js(e,t.containerInfo)}function Bo(e,t,n,r,a){return fs(),ps(a),t.flags|=256,wo(e,t,n,r),t.child}var Ro,jo,Po,Lo,Do={dehydrated:null,treeContext:null,retryLane:0};function Oo(e){return{baseLanes:e,cachePool:null,transitions:null}}function _o(e,t,n){var r,a=t.pendingProps,i=$s.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Na($s,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Oc(l,a,0,null),e=Dc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oo(n),t.memoizedState=Do,e):Uo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Mo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Oc({mode:"visible",children:r.children},a,0,null),(i=Dc(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Oo(o),t.memoizedState=Do,i);if(0===(1&t.mode))return Mo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Mo(e,t,o,r=co(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Il)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ls(e,a),nc(r,e,a,-1))}return mc(),Mo(e,t,o,r=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(qa[Wa++]=Ya,qa[Wa++]=Za,qa[Wa++]=Ja,Ya=e.id,Za=e.overflow,Ja=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Pc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Pc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Oo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,a}return e=(o=e.child).sibling,a=Pc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Uo(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Vo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function zo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=$s.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fo(e,n,t);else if(19===e.tag)Fo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na($s,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Vo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ko(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(t),null;case 1:case 17:return ja(t.type)&&Pa(),Qo(t),null;case 3:return r=t.stateNode,Ys(),Sa(Ia),Sa(Ta),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),jo(e,t),Qo(t),null;case 5:Xs(t);var a=Ws(qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Qo(t),null}if(e=Ws(Gs.current),ds(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Mr(Dr[a],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Y(r,i),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mr("invalid",r);break;case"textarea":ae(r,i),Mr("invalid",r)}for(var l in ve(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Mr("scroll",r)}switch(n){case"input":Q(r),$(r,i,!0);break;case"textarea":Q(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=$r)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),a=r;break;case"iframe":case"object":case"embed":Mr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Mr(Dr[a],e);a=r;break;case"source":Mr("error",e),a=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=r;break;case"details":Mr("toggle",e),a=r;break;case"input":Y(e,r),a=J(e,r),Mr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=_({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Mr("invalid",e)}for(i in ve(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Mr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":Q(e),$(e,r,!1);break;case"textarea":Q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ws(qs.current),Ws(Gs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Qo(t),null;case 13:if(Sa($s),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,i=!1;else if(i=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Qo(t),null);case 4:return Ys(),jo(e,t),null===e&&zr(t.stateNode.containerInfo),Qo(t),null;case 10:return ks(t.type._context),Qo(t),null;case 19:if(Sa($s),null===(i=t.memoizedState))return Qo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Go(i,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Go(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na($s,1&$s.current|2),t.child}e=e.sibling}null!==i.tail&&Ze()>zl&&(t.flags|=128,r=!0,Go(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Qo(t),null}else 2*Ze()-i.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Go(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ze(),t.sibling=null,n=$s.current,Na($s,r?1&n|2:1&n),t):(Qo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Wo(e,t){switch(ts(t),t.tag){case 1:return ja(t.type)&&Pa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Sa(Ia),Sa(Ta),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Sa($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa($s),null;case 4:return Ys(),null;case 10:return ks(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},jo=function(){},Po=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ws(Gs.current);var s,i=null;switch(n){case"input":a=J(e,a),r=J(e,r),i=[];break;case"select":a=_({},a,{value:void 0}),r=_({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Yo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Yo||$o(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),zt(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(n,t,i),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Yo&&($o(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ac(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,hl(e,t,n),Yo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(i,o,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Ac(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ac(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ac(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&$o(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&$o(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Ac(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Z(a,i),be(l,o);var u=be(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):b(a,d,h,u)}switch(l){case"input":X(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){Ac(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Ac(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ac(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Vl=Ze())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(u=Yo)||d,ml(t,e),Yo=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:$o(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ac(r,n,g)}}break;case 5:$o(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Xo=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ac(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ac(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){Ac(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var a=Xo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Jo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Jo;var c=Yo;if(Jo=i,(Yo=l)&&!c)for(Xo=a;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?El(a):null!==l?(l.return=i,Xo=l):El(a);for(;null!==s;)Xo=s,bl(s,t,n),s=s.sibling;Xo=a,Jo=o,Yo=c}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xo=s):wl(e)}}function wl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ks(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ks(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&al(t)}catch(f){Ac(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function El(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ac(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Ac(t,a,l)}}var s=t.return;try{al(t)}catch(l){Ac(t,s,l)}break;case 5:var i=t.return;try{al(t)}catch(l){Ac(t,i,l)}}}catch(l){Ac(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Cl,Al=Math.ceil,Sl=w.ReactCurrentDispatcher,Nl=w.ReactCurrentOwner,kl=w.ReactCurrentBatchConfig,Tl=0,Il=null,Bl=null,Rl=0,jl=0,Pl=Aa(0),Ll=0,Dl=null,Ol=0,_l=0,Ul=0,Ml=null,Fl=null,Vl=0,zl=1/0,Kl=null,Hl=!1,Gl=null,Ql=null,ql=!1,Wl=null,Jl=0,Yl=0,Zl=null,Xl=-1,$l=0;function ec(){return 0!==(6&Tl)?Ze():-1!==Xl?Xl:Xl=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===$l&&($l=mt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Zl=null,Error(s(185));yt(e,n,r),0!==(2&Tl)&&e===Il||(e===Il&&(0===(2&Tl)&&(_l|=n),4===Ll&&oc(e,Rl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(zl=Ze()+500,Ma&&za()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Il?Rl:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Ma=!0,Va(e)}(lc.bind(null,e)):Va(lc.bind(null,e)),ia(function(){0===(6&Tl)&&za()}),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xl=-1,$l=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Tl;Tl|=2;var i=pc();for(Il===e&&Rl===t||(Kl=null,zl=Ze()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ns(),Sl.current=i,Tl=a,null!==Bl?t=0:(Il=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Dl,hc(e,0),oc(e,r),rc(e,Ze()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t))throw n=Dl,hc(e,0),oc(e,r),rc(e,Ze()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Fl,Kl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vl+500-Ze())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xc.bind(null,e,Fl,Kl),t);break}xc(e,Fl,Kl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=ra(xc.bind(null,e,Fl,Kl),r);break}xc(e,Fl,Kl);break;default:throw Error(s(329))}}}return rc(e,Ze()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&ic(t)),e}function ic(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function oc(e,t){for(t&=~Ul,t&=~_l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(s(327));Ec();var t=ht(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Dl,hc(e,0),oc(e,t),rc(e,Ze()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Fl,Kl),rc(e,Ze()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(zl=Ze()+500,Ma&&za())}}function uc(e){null!==Wl&&0===Wl.tag&&0===(6&Tl)&&Ec();var t=Tl;Tl|=1;var n=kl.transition,r=bt;try{if(kl.transition=null,bt=1,e)return e()}finally{bt=r,kl.transition=n,0===(6&(Tl=t))&&za()}}function dc(){jl=Pl.current,Sa(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Bl)for(n=Bl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pa();break;case 3:Ys(),Sa(Ia),Sa(Ta),ni();break;case 5:Xs(r);break;case 4:Ys();break;case 13:case 19:Sa($s);break;case 10:ks(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Bl=e=Pc(e.current,null),Rl=jl=t,Ll=0,Dl=null,Ul=_l=Ol=0,Fl=Ml=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Rs=null}return e}function fc(e,t){for(;;){var n=Bl;try{if(Ns(),ri.current=Zi,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,li=oi=ii=null,ui=!1,di=0,Nl.current=null,null===n||null===n.return){Ll=1,Dl=t,Bl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(i,u,t),mc();break e}c=Error(s(426))}else if(as&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),ps(lo(c,l));break e}}i=c=lo(c,l),4!==Ll&&(Ll=2),null===Ml?Ml=[i]:Ml.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Vs(i,fo(0,c,t));break e;case 1:l=c;var v=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Vs(i,po(i,l,t));break e}}i=i.return}while(null!==i)}wc(n)}catch(w){t=w,Bl===n&&null!==n&&(Bl=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Zi,null===e?Zi:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Il||0===(268435455&Ol)&&0===(268435455&_l)||oc(Il,Rl)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(Il===e&&Rl===t||(Kl=null,hc(e,t));;)try{yc();break}catch(a){fc(e,a)}if(Ns(),Tl=n,Sl.current=r,null!==Bl)throw Error(s(261));return Il=null,Rl=0,Ll}function yc(){for(;null!==Bl;)bc(Bl)}function vc(){for(;null!==Bl&&!Je();)bc(Bl)}function bc(e){var t=Cl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?wc(e):Bl=t,Nl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qo(n,t,jl)))return void(Bl=n)}else{if(null!==(n=Wo(n,t)))return n.flags&=32767,void(Bl=n);if(null===e)return Ll=6,void(Bl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Bl=t);Bl=t=e}while(null!==t);0===Ll&&(Ll=5)}function xc(e,t,n){var r=bt,a=kl.transition;try{kl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Wl);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Il&&(Bl=Il=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Ic(tt,function(){return Ec(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=kl.transition,kl.transition=null;var o=bt;bt=1;var l=Tl;Tl|=4,Nl.current=null,function(e,t){if(ea=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Ac(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ta),Ht=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Ye(),Tl=l,bt=o,kl.transition=i}else e.current=n;if(ql&&(ql=!1,Wl=e,Jl=a),i=e.pendingLanes,0===i&&(Ql=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Gl,Gl=null,e;0!==(1&Jl)&&0!==e.tag&&Ec(),i=e.pendingLanes,0!==(1&i)?e===Zl?Yl++:(Yl=0,Zl=e):Yl=0,za()}(e,t,n,r)}finally{kl.transition=a,bt=r}return null}function Ec(){if(null!==Wl){var e=wt(Jl),t=kl.transition,n=bt;try{if(kl.transition=null,bt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Jl=0,0!==(6&Tl))throw Error(s(331));var a=Tl;for(Tl|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,p=d.return;if(sl(d),d===u){Xo=null;break}if(null!==f){f.return=p,Xo=f;break}Xo=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Xo=v;break e}Xo=i.return}}var b=e.current;for(Xo=b;null!==Xo;){var w=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Xo=w;else e:for(o=b;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(E){Ac(l,l.return,E)}if(l===o){Xo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Xo=x;break e}Xo=l.return}}if(Tl=a,za(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(E){}r=!0}return r}finally{bt=n,kl.transition=t}}return!1}function Cc(e,t,n){e=Ms(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ac(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){t=Ms(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>Ze()-Vl?hc(e,0):Ul|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ls(e,t))&&(yt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Nc(e,n)}function Ic(e,t){return qe(e,t)}function Bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Bc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)jc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case C:return Dc(n.children,a,i,t);case A:o=8,a|=8;break;case S:return(e=Rc(12,n,t,2|a)).elementType=S,e.lanes=i,e;case I:return(e=Rc(13,n,t,a)).elementType=I,e.lanes=i,e;case B:return(e=Rc(19,n,t,a)).elementType=B,e.lanes=i,e;case P:return Oc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case k:o=9;break e;case T:o=11;break e;case R:o=14;break e;case j:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Dc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function _c(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,a,s,i,o,l){return e=new Mc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Vc(e){if(!e)return ka;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ja(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(ja(n))return Da(e,n,t)}return t}function zc(e,t,n,r,a,s,i,o,l){return(e=Fc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=Us(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Ms(n,s,a),e.current.lanes=a,yt(e,a,r),rc(e,r),e}function Kc(e,t,n,r){var a=t.current,s=ec(),i=tc(a);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ms(a,t,i))&&(nc(e,a,i,s),Fs(e,a,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ia.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),fs();break;case 5:Zs(t);break;case 1:ja(t.type)&&Oa(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(Es,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na($s,1&$s.current),t.flags|=128,null):0!==(n&t.child.childLanes)?_o(e,t,n):(Na($s,1&$s.current),null!==(e=Ho(e,t,n))?e.sibling:null);Na($s,1&$s.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na($s,$s.current),r)break;return null;case 22:case 23:return t.lanes=0,Ao(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,as&&0!==(1048576&t.flags)&&$a(t,Qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ko(e,t),e=t.pendingProps;var a=Ra(t,Ta.current);Is(t,n),a=mi(null,t,r,e,a,n);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ja(r)?(i=!0,Oa(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Os(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),wo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ko(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=to(r,e),a){case 0:t=No(null,t,r,e,n);break e;case 1:t=ko(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,No(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,ko(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Io(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,_s(e,t),zs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Bo(e,t,r,n,a=lo(Error(s(423)),t));break e}if(r!==a){t=Bo(e,t,r,n,a=lo(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Ho(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Zs(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),So(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return _o(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Na(Es,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Ia.current){t=Ho(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Us(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ts(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}wo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Is(t,n),r=r(a=Bs(a)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),Eo(e,t,r,a=to(r.type,a),n);case 15:return Co(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Ko(e,t),t.tag=1,ja(r)?(e=!0,Oa(t)):e=!1,Is(t,n),so(t,r,a),oo(t,r,a,n),To(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return Ao(e,t,n)}throw Error(s(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function $c(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Hc(i);o.call(e)}}Kc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Hc(i);s.call(e)}}var i=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[pa]=i.current,zr(8===e.nodeType?e.parentNode:e),uc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pa]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){Kc(t,l,n,r)}),l}(n,t,e,a,r);return Hc(i)}Jc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kc(e,t,null,null)},Jc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Kc(null,e,null,null)}),t[pa]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&_t(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ze()),0===(6&Tl)&&(zl=Ze()+500,za()))}break;case 13:uc(function(){var t=Ls(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Qc(e,1)}},Et=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)nc(t,e,134217728,ec());Qc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Ls(e,t);if(null!==n)nc(n,e,t,ec());Qc(e,t)}},At=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(s(90));q(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[ba,wa,xa,Ne,ke,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",a=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,zr(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,a,0,i,o),e[pa]=t.current,zr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2795:(e,t,n)=>{var r=n(45);n(9353),n(3899),n(1513),n(3900),r.random&&r.random.getBytes?e.exports=r.random:function(t){var n={},a=new Array(4),s=r.util.createBuffer();function i(){var e=r.prng.create(n);return e.getBytes=function(t,n){return e.generate(t,n)},e.getBytesSync=function(t){return e.generate(t)},e}n.formatKey=function(e){var t=r.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),r.aes._expandKey(e,!1)},n.formatSeed=function(e){var t=r.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},n.cipher=function(e,t){return r.aes._updateBlock(e,t,a,!1),s.putInt32(a[0]),s.putInt32(a[1]),s.putInt32(a[2]),s.putInt32(a[3]),s.getBytes()},n.increment=function(e){return++e[3],e},n.md=r.md.sha256;var o=i(),l=null,c=r.util.globalScope,u=c.crypto||c.msCrypto;if(u&&u.getRandomValues&&(l=function(e){return u.getRandomValues(e)}),r.options.usePureJavaScript||!r.util.isNodejs&&!l){if("undefined"===typeof window||window.document,o.collectInt(+new Date,32),"undefined"!==typeof navigator){var d="";for(var h in navigator)try{"string"==typeof navigator[h]&&(d+=navigator[h])}catch(f){}o.collect(d),d=null}t&&(t().mousemove(function(e){o.collectInt(e.clientX,16),o.collectInt(e.clientY,16)}),t().keypress(function(e){o.collectInt(e.charCode,8)}))}if(r.random)for(var h in o)r.random[h]=o[h];else r.random=o;r.random.createInstance=i,e.exports=r.random}("undefined"!==typeof jQuery?jQuery:null)},2986:(e,t,n)=>{var r=n(45);function a(e,t){r.cipher.registerAlgorithm(e,function(){return new r.des.Algorithm(e,t)})}n(9151),n(1655),n(3900),e.exports=r.des=r.des||{},r.des.startEncrypting=function(e,t,n,r){var a=p({key:e,output:n,decrypt:!1,mode:r||(null===t?"ECB":"CBC")});return a.start(t),a},r.des.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},r.des.startDecrypting=function(e,t,n,r){var a=p({key:e,output:n,decrypt:!0,mode:r||(null===t?"ECB":"CBC")});return a.start(t),a},r.des.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},r.des.Algorithm=function(e,t){var n=this;n.name=e,n.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return f(n._keys,e,t,!1)},decrypt:function(e,t){return f(n._keys,e,t,!0)}}}),n._init=!1},r.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=r.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,n=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],a=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],i=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],f=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,y=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<g;w++){var x=e.getInt32(),E=e.getInt32();x^=(t=252645135&(x>>>4^E))<<4,x^=t=65535&((E^=t)>>>-16^x),x^=(t=858993459&(x>>>2^(E^=t<<-16)))<<2,x^=t=65535&((E^=t)>>>-16^x),x^=(t=1431655765&(x>>>1^(E^=t<<-16)))<<1,x^=t=16711935&((E^=t)>>>8^x),t=(x^=(t=1431655765&(x>>>1^(E^=t<<8)))<<1)<<8|(E^=t)>>>20&240,x=E<<24|E<<8&16711680|E>>>8&65280|E>>>24&240,E=t;for(var C=0;C<v.length;++C){v[C]?(x=x<<2|x>>>26,E=E<<2|E>>>26):(x=x<<1|x>>>27,E=E<<1|E>>>27),E&=-15;var A=n[(x&=-15)>>>28]|r[x>>>24&15]|a[x>>>20&15]|s[x>>>16&15]|i[x>>>12&15]|o[x>>>8&15]|l[x>>>4&15],S=c[E>>>28]|u[E>>>24&15]|d[E>>>20&15]|h[E>>>16&15]|f[E>>>12&15]|p[E>>>8&15]|m[E>>>4&15];t=65535&(S>>>16^A),y[b++]=A^t,y[b++]=S^t<<16}}return y}(t),this._init=!0}},a("DES-ECB",r.cipher.modes.ecb),a("DES-CBC",r.cipher.modes.cbc),a("DES-CFB",r.cipher.modes.cfb),a("DES-OFB",r.cipher.modes.ofb),a("DES-CTR",r.cipher.modes.ctr),a("3DES-ECB",r.cipher.modes.ecb),a("3DES-CBC",r.cipher.modes.cbc),a("3DES-CFB",r.cipher.modes.cfb),a("3DES-OFB",r.cipher.modes.ofb),a("3DES-CTR",r.cipher.modes.ctr);var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],i=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],o=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],l=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],u=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function f(e,t,n,r){var a,f,p=32===e.length?3:9;a=3===p?r?[30,-2,-2]:[0,32,2]:r?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var m=t[0],g=t[1];m^=(f=252645135&(m>>>4^g))<<4,m^=(f=65535&(m>>>16^(g^=f)))<<16,m^=f=858993459&((g^=f)>>>2^m),m^=f=16711935&((g^=f<<2)>>>8^m),m=(m^=(f=1431655765&(m>>>1^(g^=f<<8)))<<1)<<1|m>>>31,g=(g^=f)<<1|g>>>31;for(var y=0;y<p;y+=3){for(var v=a[y+1],b=a[y+2],w=a[y];w!=v;w+=b){var x=g^e[w],E=(g>>>4|g<<28)^e[w+1];f=m,m=g,g=f^(i[x>>>24&63]|l[x>>>16&63]|u[x>>>8&63]|h[63&x]|s[E>>>24&63]|o[E>>>16&63]|c[E>>>8&63]|d[63&E])}f=m,m=g,g=f}g=g>>>1|g<<31,g^=f=1431655765&((m=m>>>1|m<<31)>>>1^g),g^=(f=16711935&(g>>>8^(m^=f<<1)))<<8,g^=(f=858993459&(g>>>2^(m^=f)))<<2,g^=f=65535&((m^=f)>>>16^g),g^=f=252645135&((m^=f<<16)>>>4^g),m^=f<<4,n[0]=m,n[1]=g}function p(e){var t,n="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),a=(t=e.decrypt?r.cipher.createDecipher(n,e.key):r.cipher.createCipher(n,e.key)).start;return t.start=function(e,n){var s=null;n instanceof r.util.ByteBuffer&&(s=n,n={}),(n=n||{}).output=s,n.iv=e,a.call(t,n)},t}},3225:(e,t,n)=>{var r=n(45);r.pki=r.pki||{};var a=e.exports=r.pki.oids=r.oids=r.oids||{};function s(e,t){a[e]=t,a[t]=e}function i(e,t){a[e]=t}s("1.2.840.113549.1.1.1","rsaEncryption"),s("1.2.840.113549.1.1.4","md5WithRSAEncryption"),s("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),s("1.2.840.113549.1.1.7","RSAES-OAEP"),s("1.2.840.113549.1.1.8","mgf1"),s("1.2.840.113549.1.1.9","pSpecified"),s("1.2.840.113549.1.1.10","RSASSA-PSS"),s("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),s("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),s("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),s("1.3.101.112","EdDSA25519"),s("1.2.840.10040.4.3","dsa-with-sha1"),s("1.3.14.3.2.7","desCBC"),s("1.3.14.3.2.26","sha1"),s("1.3.14.3.2.29","sha1WithRSASignature"),s("2.16.840.1.101.3.4.2.1","sha256"),s("2.16.840.1.101.3.4.2.2","sha384"),s("2.16.840.1.101.3.4.2.3","sha512"),s("2.16.840.1.101.3.4.2.4","sha224"),s("2.16.840.1.101.3.4.2.5","sha512-224"),s("2.16.840.1.101.3.4.2.6","sha512-256"),s("1.2.840.113549.2.2","md2"),s("1.2.840.113549.2.5","md5"),s("1.2.840.113549.1.7.1","data"),s("1.2.840.113549.1.7.2","signedData"),s("1.2.840.113549.1.7.3","envelopedData"),s("1.2.840.113549.1.7.4","signedAndEnvelopedData"),s("1.2.840.113549.1.7.5","digestedData"),s("1.2.840.113549.1.7.6","encryptedData"),s("1.2.840.113549.1.9.1","emailAddress"),s("1.2.840.113549.1.9.2","unstructuredName"),s("1.2.840.113549.1.9.3","contentType"),s("1.2.840.113549.1.9.4","messageDigest"),s("1.2.840.113549.1.9.5","signingTime"),s("1.2.840.113549.1.9.6","counterSignature"),s("1.2.840.113549.1.9.7","challengePassword"),s("1.2.840.113549.1.9.8","unstructuredAddress"),s("1.2.840.113549.1.9.14","extensionRequest"),s("1.2.840.113549.1.9.20","friendlyName"),s("1.2.840.113549.1.9.21","localKeyId"),s("1.2.840.113549.1.9.22.1","x509Certificate"),s("1.2.840.113549.1.12.10.1.1","keyBag"),s("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),s("1.2.840.113549.1.12.10.1.3","certBag"),s("1.2.840.113549.1.12.10.1.4","crlBag"),s("1.2.840.113549.1.12.10.1.5","secretBag"),s("1.2.840.113549.1.12.10.1.6","safeContentsBag"),s("1.2.840.113549.1.5.13","pkcs5PBES2"),s("1.2.840.113549.1.5.12","pkcs5PBKDF2"),s("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),s("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),s("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),s("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),s("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),s("1.2.840.113549.2.7","hmacWithSHA1"),s("1.2.840.113549.2.8","hmacWithSHA224"),s("1.2.840.113549.2.9","hmacWithSHA256"),s("1.2.840.113549.2.10","hmacWithSHA384"),s("1.2.840.113549.2.11","hmacWithSHA512"),s("1.2.840.113549.3.7","des-EDE3-CBC"),s("2.16.840.1.101.3.4.1.2","aes128-CBC"),s("2.16.840.1.101.3.4.1.22","aes192-CBC"),s("2.16.840.1.101.3.4.1.42","aes256-CBC"),s("2.5.4.3","commonName"),s("2.5.4.4","surname"),s("2.5.4.5","serialNumber"),s("2.5.4.6","countryName"),s("2.5.4.7","localityName"),s("2.5.4.8","stateOrProvinceName"),s("2.5.4.9","streetAddress"),s("2.5.4.10","organizationName"),s("2.5.4.11","organizationalUnitName"),s("2.5.4.12","title"),s("2.5.4.13","description"),s("2.5.4.15","businessCategory"),s("2.5.4.17","postalCode"),s("2.5.4.42","givenName"),s("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),s("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),s("2.16.840.1.113730.1.1","nsCertType"),s("2.16.840.1.113730.1.13","nsComment"),i("2.5.29.1","authorityKeyIdentifier"),i("2.5.29.2","keyAttributes"),i("2.5.29.3","certificatePolicies"),i("2.5.29.4","keyUsageRestriction"),i("2.5.29.5","policyMapping"),i("2.5.29.6","subtreesConstraint"),i("2.5.29.7","subjectAltName"),i("2.5.29.8","issuerAltName"),i("2.5.29.9","subjectDirectoryAttributes"),i("2.5.29.10","basicConstraints"),i("2.5.29.11","nameConstraints"),i("2.5.29.12","policyConstraints"),i("2.5.29.13","basicConstraints"),s("2.5.29.14","subjectKeyIdentifier"),s("2.5.29.15","keyUsage"),i("2.5.29.16","privateKeyUsagePeriod"),s("2.5.29.17","subjectAltName"),s("2.5.29.18","issuerAltName"),s("2.5.29.19","basicConstraints"),i("2.5.29.20","cRLNumber"),i("2.5.29.21","cRLReason"),i("2.5.29.22","expirationDate"),i("2.5.29.23","instructionCode"),i("2.5.29.24","invalidityDate"),i("2.5.29.25","cRLDistributionPoints"),i("2.5.29.26","issuingDistributionPoint"),i("2.5.29.27","deltaCRLIndicator"),i("2.5.29.28","issuingDistributionPoint"),i("2.5.29.29","certificateIssuer"),i("2.5.29.30","nameConstraints"),s("2.5.29.31","cRLDistributionPoints"),s("2.5.29.32","certificatePolicies"),i("2.5.29.33","policyMappings"),i("2.5.29.34","policyConstraints"),s("2.5.29.35","authorityKeyIdentifier"),i("2.5.29.36","policyConstraints"),s("2.5.29.37","extKeyUsage"),i("2.5.29.46","freshestCRL"),i("2.5.29.54","inhibitAnyPolicy"),s("1.3.6.1.4.1.11129.2.4.2","timestampList"),s("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),s("1.3.6.1.5.5.7.3.1","serverAuth"),s("1.3.6.1.5.5.7.3.2","clientAuth"),s("1.3.6.1.5.5.7.3.3","codeSigning"),s("1.3.6.1.5.5.7.3.4","emailProtection"),s("1.3.6.1.5.5.7.3.8","timeStamping")},3473:(e,t,n)=>{var r=n(45);n(3900),n(2795),n(9463),e.exports=r.kem=r.kem||{};var a=r.jsbn.BigInteger;function s(e,t,n,a){e.generate=function(e,s){for(var i=new r.util.ByteBuffer,o=Math.ceil(s/a)+n,l=new r.util.ByteBuffer,c=n;c<o;++c){l.putInt32(c),t.start(),t.update(e+l.getBytes());var u=t.digest();i.putBytes(u.getBytes(a))}return i.truncate(i.length()-s),i.getBytes()}}r.kem.rsa={},r.kem.rsa.create=function(e,t){var n=(t=t||{}).prng||r.random,s={encrypt:function(t,s){var i,o=Math.ceil(t.n.bitLength()/8);do{i=new a(r.util.bytesToHex(n.getBytesSync(o)),16).mod(t.n)}while(i.compareTo(a.ONE)<=0);var l=o-(i=r.util.hexToBytes(i.toString(16))).length;return l>0&&(i=r.util.fillString(String.fromCharCode(0),l)+i),{encapsulation:t.encrypt(i,"NONE"),key:e.generate(i,s)}},decrypt:function(t,n,r){var a=t.decrypt(n,"NONE");return e.generate(a,r)}};return s},r.kem.kdf1=function(e,t){s(this,e,0,t||e.digestLength)},r.kem.kdf2=function(e,t){s(this,e,1,t||e.digestLength)}},3555:(e,t,n)=>{var r=n(45);if(n(9353),n(5465),n(2986),n(5693),n(3225),n(8009),n(5224),n(2795),n(1577),n(9408),n(3900),"undefined"===typeof a)var a=r.jsbn.BigInteger;var s=r.asn1,i=r.pki=r.pki||{};e.exports=i.pbe=r.pbe=r.pbe||{};var o=i.oids,l={name:"EncryptedPrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},u={name:"pkcs-12PbeParams",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"iterations"}]};function d(e,t){return e.start().update(t).digest().getBytes()}function h(e){var t;if(e){if(!(t=i.oids[s.derToOid(e)])){var n=new Error("Unsupported PRF OID.");throw n.oid=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}}else t="hmacWithSHA1";return f(t)}function f(e){var t=r.md;switch(e){case"hmacWithSHA224":t=r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var n=new Error("Unsupported PRF algorithm.");throw n.algorithm=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}i.encryptPrivateKeyInfo=function(e,t,n){(n=n||{}).saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||"aes128",n.prfAlgorithm=n.prfAlgorithm||"sha1";var a,l,c,u=r.random.getBytesSync(n.saltSize),d=n.count,h=s.integerToDer(d);if(0===n.algorithm.indexOf("aes")||"des"===n.algorithm){var p,m,g;switch(n.algorithm){case"aes128":a=16,p=16,m=o["aes128-CBC"],g=r.aes.createEncryptionCipher;break;case"aes192":a=24,p=16,m=o["aes192-CBC"],g=r.aes.createEncryptionCipher;break;case"aes256":a=32,p=16,m=o["aes256-CBC"],g=r.aes.createEncryptionCipher;break;case"des":a=8,p=8,m=o.desCBC,g=r.des.createEncryptionCipher;break;default:throw(E=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm,E}var y="hmacWith"+n.prfAlgorithm.toUpperCase(),v=f(y),b=r.pkcs5.pbkdf2(t,u,d,a,v),w=r.random.getBytesSync(p);(C=g(b)).start(w),C.update(s.toDer(e)),C.finish(),c=C.output.getBytes();var x=function(e,t,n,a){var o=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,e),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==a&&o.value.push(s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,r.util.hexToBytes(n.toString(16))),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(i.oids[a]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]));return o}(u,h,a,y);l=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.pkcs5PBES2).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o.pkcs5PBKDF2).getBytes()),x]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(m).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,w)])])])}else{var E;if("3des"!==n.algorithm)throw(E=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm,E;a=24;var C,A=new r.util.ByteBuffer(u);b=i.pbe.generatePkcs12Key(t,A,1,d,a),w=i.pbe.generatePkcs12Key(t,A,2,d,a);(C=r.des.createEncryptionCipher(b)).start(w),C.update(s.toDer(e)),C.finish(),c=C.output.getBytes(),l=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(o["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,u),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,h.getBytes())])])}return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[l,s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,c)])},i.decryptPrivateKeyInfo=function(e,t){var n=null,a={},o=[];if(!s.validate(e,l,a,o)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=o,c}var u=s.derToOid(a.encryptionOid),d=i.pbe.getCipher(u,a.encryptionParams,t),h=r.util.createBuffer(a.encryptedData);return d.update(h),d.finish()&&(n=s.fromDer(d.output)),n},i.encryptedPrivateKeyToPem=function(e,t){var n={type:"ENCRYPTED PRIVATE KEY",body:s.toDer(e).getBytes()};return r.pem.encode(n,{maxline:t})},i.encryptedPrivateKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var n=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return s.fromDer(t.body)},i.encryptRsaPrivateKey=function(e,t,n){if(!(n=n||{}).legacy){var a=i.wrapRsaPrivateKey(i.privateKeyToAsn1(e));return a=i.encryptPrivateKeyInfo(a,t,n),i.encryptedPrivateKeyToPem(a)}var o,l,c,u;switch(n.algorithm){case"aes128":o="AES-128-CBC",c=16,l=r.random.getBytesSync(16),u=r.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",c=24,l=r.random.getBytesSync(16),u=r.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",c=32,l=r.random.getBytesSync(16),u=r.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",c=24,l=r.random.getBytesSync(8),u=r.des.createEncryptionCipher;break;case"des":o="DES-CBC",c=8,l=r.random.getBytesSync(8),u=r.des.createEncryptionCipher;break;default:var d=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');throw d.algorithm=n.algorithm,d}var h=u(r.pbe.opensslDeriveBytes(t,l.substr(0,8),c));h.start(l),h.update(s.toDer(i.privateKeyToAsn1(e))),h.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:r.util.bytesToHex(l).toUpperCase()},body:h.output.getBytes()};return r.pem.encode(f)},i.decryptRsaPrivateKey=function(e,t){var n=null,a=r.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==a.type&&"PRIVATE KEY"!==a.type&&"RSA PRIVATE KEY"!==a.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(a.procType&&"ENCRYPTED"===a.procType.type){var o,l;switch(a.dekInfo.algorithm){case"DES-CBC":o=8,l=r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,l=r.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,l=r.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,l=r.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,l=r.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,l=function(e){return r.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":o=8,l=function(e){return r.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":o=16,l=function(e){return r.rc2.createDecryptionCipher(e,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm "'+a.dekInfo.algorithm+'".')).algorithm=a.dekInfo.algorithm,c}var u=r.util.hexToBytes(a.dekInfo.parameters),d=l(r.pbe.opensslDeriveBytes(t,u.substr(0,8),o));if(d.start(u),d.update(r.util.createBuffer(a.body)),!d.finish())return n;n=d.output.getBytes()}else n=a.body;return null!==(n="ENCRYPTED PRIVATE KEY"===a.type?i.decryptPrivateKeyInfo(s.fromDer(n),t):s.fromDer(n))&&(n=i.privateKeyFromAsn1(n)),n},i.pbe.generatePkcs12Key=function(e,t,n,a,s,i){var o,l;if("undefined"===typeof i||null===i){if(!("sha1"in r.md))throw new Error('"sha1" hash algorithm unavailable.');i=r.md.sha1.create()}var c=i.digestLength,u=i.blockLength,d=new r.util.ByteBuffer,h=new r.util.ByteBuffer;if(null!==e&&void 0!==e){for(l=0;l<e.length;l++)h.putInt16(e.charCodeAt(l));h.putInt16(0)}var f=h.length(),p=t.length(),m=new r.util.ByteBuffer;m.fillWithByte(n,u);var g=u*Math.ceil(p/u),y=new r.util.ByteBuffer;for(l=0;l<g;l++)y.putByte(t.at(l%p));var v=u*Math.ceil(f/u),b=new r.util.ByteBuffer;for(l=0;l<v;l++)b.putByte(h.at(l%f));var w=y;w.putBuffer(b);for(var x=Math.ceil(s/c),E=1;E<=x;E++){var C=new r.util.ByteBuffer;C.putBytes(m.bytes()),C.putBytes(w.bytes());for(var A=0;A<a;A++)i.start(),i.update(C.getBytes()),C=i.digest();var S=new r.util.ByteBuffer;for(l=0;l<u;l++)S.putByte(C.at(l%c));var N=Math.ceil(p/u)+Math.ceil(f/u),k=new r.util.ByteBuffer;for(o=0;o<N;o++){var T=new r.util.ByteBuffer(w.getBytes(u)),I=511;for(l=S.length()-1;l>=0;l--)I>>=8,I+=S.at(l)+T.at(l),T.setAt(l,255&I);k.putBuffer(T)}w=k,d.putBuffer(C)}return d.truncate(d.length()-s),d},i.pbe.getCipher=function(e,t,n){switch(e){case i.oids.pkcs5PBES2:return i.pbe.getCipherForPBES2(e,t,n);case i.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case i.oids["pbewithSHAAnd40BitRC2-CBC"]:return i.pbe.getCipherForPKCS12PBE(e,t,n);default:var r=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw r.oid=e,r.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],r}},i.pbe.getCipherForPBES2=function(e,t,n){var a,o={},l=[];if(!s.validate(t,c,o,l))throw(a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=l,a;if((e=s.derToOid(o.kdfOid))!==i.oids.pkcs5PBKDF2)throw(a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,a.supportedOids=["pkcs5PBKDF2"],a;if((e=s.derToOid(o.encOid))!==i.oids["aes128-CBC"]&&e!==i.oids["aes192-CBC"]&&e!==i.oids["aes256-CBC"]&&e!==i.oids["des-EDE3-CBC"]&&e!==i.oids.desCBC)throw(a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a;var u,d,f=o.kdfSalt,p=r.util.createBuffer(o.kdfIterationCount);switch(p=p.getInt(p.length()<<3),i.oids[e]){case"aes128-CBC":u=16,d=r.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,d=r.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,d=r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,d=r.des.createDecryptionCipher;break;case"desCBC":u=8,d=r.des.createDecryptionCipher}var m=h(o.prfOid),g=r.pkcs5.pbkdf2(n,f,p,u,m),y=o.encIv,v=d(g);return v.start(y),v},i.pbe.getCipherForPKCS12PBE=function(e,t,n){var a={},o=[];if(!s.validate(t,u,a,o))throw(m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=o,m;var l,c,d,f=r.util.createBuffer(a.salt),p=r.util.createBuffer(a.iterations);switch(p=p.getInt(p.length()<<3),e){case i.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,c=8,d=r.des.startDecrypting;break;case i.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,c=8,d=function(e,t){var n=r.rc2.createDecryptionCipher(e,40);return n.start(t,null),n};break;default:var m;throw(m=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,m}var g=h(a.prfOid),y=i.pbe.generatePkcs12Key(n,f,1,p,l,g);return g.start(),d(y,i.pbe.generatePkcs12Key(n,f,2,p,c,g))},i.pbe.opensslDeriveBytes=function(e,t,n,a){if("undefined"===typeof a||null===a){if(!("md5"in r.md))throw new Error('"md5" hash algorithm unavailable.');a=r.md.md5.create()}null===t&&(t="");for(var s=[d(a,e+t)],i=16,o=1;i<n;++o,i+=16)s.push(d(a,s[o-1]+e+t));return s.join("").substr(0,n)}},3588:(e,t,n)=>{var r=n(45);n(5465),n(8163),n(3225),n(9139),n(3555),n(2795),n(9408),n(3753),n(3900),n(4620);var a=r.asn1,s=r.pki,i=e.exports=r.pkcs12=r.pkcs12||{},o={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},l={name:"PFX",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},o,{name:"PFX.macData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},c={name:"SafeBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},u={name:"Attribute",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,capture:"values"}]},d={name:"CertBag",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:a.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:a.Class.UNIVERSAL,type:a.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function h(e,t,n,r){for(var a=[],s=0;s<e.length;s++)for(var i=0;i<e[s].safeBags.length;i++){var o=e[s].safeBags[i];void 0!==r&&o.type!==r||(null!==t?void 0!==o.attributes[t]&&o.attributes[t].indexOf(n)>=0&&a.push(o):a.push(o))}return a}function f(e){if(e.composed||e.constructed){for(var t=r.util.createBuffer(),n=0;n<e.value.length;++n)t.putBytes(e.value[n].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function p(e,t){var n={},i=[];if(!a.validate(e,r.pkcs7.asn1.encryptedDataValidator,n,i))throw(o=new Error("Cannot read EncryptedContentInfo.")).errors=i,o;var o,l=a.derToOid(n.contentType);if(l!==s.oids.data)throw(o=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=l,o;l=a.derToOid(n.encAlgorithm);var c=s.pbe.getCipher(l,n.encParameter,t),u=f(n.encryptedContentAsn1),d=r.util.createBuffer(u.value);if(c.update(d),!c.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return c.output.getBytes()}function m(e,t,n){if(!t&&0===e.length)return[];if((e=a.fromDer(e,t)).tagClass!==a.Class.UNIVERSAL||e.type!==a.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var r=[],i=0;i<e.value.length;i++){var o=e.value[i],l={},u=[];if(!a.validate(o,c,l,u))throw(y=new Error("Cannot read SafeBag.")).errors=u,y;var h,f,p={type:a.derToOid(l.bagId),attributes:g(l.bagAttributes)};r.push(p);var m=l.bagValue.value[0];switch(p.type){case s.oids.pkcs8ShroudedKeyBag:if(null===(m=s.decryptPrivateKeyInfo(m,n)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case s.oids.keyBag:try{p.key=s.privateKeyFromAsn1(m)}catch(v){p.key=null,p.asn1=m}continue;case s.oids.certBag:h=d,f=function(){if(a.derToOid(l.certId)!==s.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=a.derToOid(l.certId),e}var n=a.fromDer(l.cert,t);try{p.cert=s.certificateFromAsn1(n,!0)}catch(v){p.cert=null,p.asn1=n}};break;default:var y;throw(y=new Error("Unsupported PKCS#12 SafeBag type.")).oid=p.type,y}if(void 0!==h&&!a.validate(m,h,l,u))throw(y=new Error("Cannot read PKCS#12 "+h.name)).errors=u,y;f()}return r}function g(e){var t={};if(void 0!==e)for(var n=0;n<e.length;++n){var r={},i=[];if(!a.validate(e[n],u,r,i)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=i,o}var l=a.derToOid(r.oid);if(void 0!==s.oids[l]){t[s.oids[l]]=[];for(var c=0;c<r.values.length;++c)t[s.oids[l]].push(r.values[c].value)}}return t}i.pkcs12FromAsn1=function(e,t,n){"string"===typeof t?(n=t,t=!0):void 0===t&&(t=!0);var c={};if(!a.validate(e,l,c,[]))throw(u=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=u,u;var u,d={version:c.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,n={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=r.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(n[e.bagType]=h(d.safeContents,null,null,e.bagType)),void 0!==t&&(n.localKeyId=h(d.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(n.friendlyName=h(d.safeContents,"friendlyName",e.friendlyName,e.bagType)),n},getBagsByFriendlyName:function(e,t){return h(d.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return h(d.safeContents,"localKeyId",e,t)}};if(3!==c.version.charCodeAt(0))throw(u=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=c.version.charCodeAt(0),u;if(a.derToOid(c.contentType)!==s.oids.data)throw(u=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=a.derToOid(c.contentType),u;var g=c.content.value[0];if(g.tagClass!==a.Class.UNIVERSAL||g.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(g=f(g),c.mac){var y=null,v=0,b=a.derToOid(c.macAlgorithm);switch(b){case s.oids.sha1:y=r.md.sha1.create(),v=20;break;case s.oids.sha256:y=r.md.sha256.create(),v=32;break;case s.oids.sha384:y=r.md.sha384.create(),v=48;break;case s.oids.sha512:y=r.md.sha512.create(),v=64;break;case s.oids.md5:y=r.md.md5.create(),v=16}if(null===y)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+b);var w=new r.util.ByteBuffer(c.macSalt),x="macIterations"in c?parseInt(r.util.bytesToHex(c.macIterations),16):1,E=i.generateKey(n,w,3,x,v,y),C=r.hmac.create();if(C.start(y,E),C.update(g.value),C.getMac().getBytes()!==c.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,n,r){if(t=a.fromDer(t,n),t.tagClass!==a.Class.UNIVERSAL||t.type!==a.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var l=t.value[i],c={},u=[];if(!a.validate(l,o,c,u))throw(y=new Error("Cannot read ContentInfo.")).errors=u,y;var d={encrypted:!1},h=null,g=c.content.value[0];switch(a.derToOid(c.contentType)){case s.oids.data:if(g.tagClass!==a.Class.UNIVERSAL||g.type!==a.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");h=f(g).value;break;case s.oids.encryptedData:h=p(g,r),d.encrypted=!0;break;default:var y;throw(y=new Error("Unsupported PKCS#12 contentType.")).contentType=a.derToOid(c.contentType),y}d.safeBags=m(h,n,r),e.safeContents.push(d)}}(d,g.value,t,n),d},i.toPkcs12Asn1=function(e,t,n,o){(o=o||{}).saltSize=o.saltSize||8,o.count=o.count||2048,o.algorithm=o.algorithm||o.encAlgorithm||"aes128","useMac"in o||(o.useMac=!0),"localKeyId"in o||(o.localKeyId=null),"generateLocalKeyId"in o||(o.generateLocalKeyId=!0);var l,c=o.localKeyId;if(null!==c)c=r.util.hexToBytes(c);else if(o.generateLocalKeyId)if(t){var u=r.util.isArray(t)?t[0]:t;"string"===typeof u&&(u=s.certificateFromPem(u)),(k=r.md.sha1.create()).update(a.toDer(s.certificateToAsn1(u)).getBytes()),c=k.digest().getBytes()}else c=r.random.getBytes(20);var d=[];null!==c&&d.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.localKeyId).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,c)])])),"friendlyName"in o&&d.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.friendlyName).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.BMPSTRING,!1,o.friendlyName)])])),d.length>0&&(l=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,d));var h=[],f=[];null!==t&&(f=r.util.isArray(t)?t:[t]);for(var p=[],m=0;m<f.length;++m){"string"===typeof(t=f[m])&&(t=s.certificateFromPem(t));var g=0===m?l:void 0,y=s.certificateToAsn1(t),v=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.certBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.x509Certificate).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(y).getBytes())])])]),g]);p.push(v)}if(p.length>0){var b=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,p),w=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(b).getBytes())])]);h.push(w)}var x=null;if(null!==e){var E=s.wrapRsaPrivateKey(s.privateKeyToAsn1(e));x=null===n?a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.keyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[E]),l]):a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.pkcs8ShroudedKeyBag).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[s.encryptPrivateKeyInfo(E,n,o)]),l]);var C=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[x]),A=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(C).getBytes())])]);h.push(A)}var S,N=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,h);if(o.useMac){var k=r.md.sha1.create(),T=new r.util.ByteBuffer(r.random.getBytes(o.saltSize)),I=o.count,B=(e=i.generateKey(n,T,3,I,20),r.hmac.create());B.start(k,e),B.update(a.toDer(N).getBytes());var R=B.getMac();S=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.sha1).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,R.getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,T.getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(I).getBytes())])}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(3).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.data).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(N).getBytes())])]),S])},i.generateKey=r.pbe.generatePkcs12Key},3753:(e,t,n)=>{var r=n(45);n(5693),n(3900);var a=e.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=a,a.create=function(){i||(s=String.fromCharCode(128),s+=r.util.fillString(String.fromCharCode(0),64),i=!0);var e=null,t=r.util.createBuffer(),n=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var n=a.messageLengthSize/4,s=0;s<n;++s)a.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a}};return a.start(),a.update=function(s,i){"utf8"===i&&(s=r.util.encodeUtf8(s));var l=s.length;a.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var c=a.fullMessageLength.length-1;c>=0;--c)a.fullMessageLength[c]+=l[1],l[1]=l[0]+(a.fullMessageLength[c]/4294967296>>>0),a.fullMessageLength[c]=a.fullMessageLength[c]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(s),o(e,n,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var i=r.util.createBuffer();i.putBytes(t.bytes());var l,c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;i.putBytes(s.substr(0,a.blockLength-c));for(var u=8*a.fullMessageLength[0],d=0;d<a.fullMessageLength.length-1;++d)u+=(l=8*a.fullMessageLength[d+1])/4294967296>>>0,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};o(h,n,i);var f=r.util.createBuffer();return f.putInt32(h.h0),f.putInt32(h.h1),f.putInt32(h.h2),f.putInt32(h.h3),f.putInt32(h.h4),f},a};var s=null,i=!1;function o(e,t,n){for(var r,a,s,i,o,l,c,u=n.length();u>=64;){for(a=e.h0,s=e.h1,i=e.h2,o=e.h3,l=e.h4,c=0;c<16;++c)r=n.getInt32(),t[c]=r,r=(a<<5|a>>>27)+(o^s&(i^o))+l+1518500249+r,l=o,o=i,i=(s<<30|s>>>2)>>>0,s=a,a=r;for(;c<20;++c)r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,t[c]=r,r=(a<<5|a>>>27)+(o^s&(i^o))+l+1518500249+r,l=o,o=i,i=(s<<30|s>>>2)>>>0,s=a,a=r;for(;c<32;++c)r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,t[c]=r,r=(a<<5|a>>>27)+(s^i^o)+l+1859775393+r,l=o,o=i,i=(s<<30|s>>>2)>>>0,s=a,a=r;for(;c<40;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(a<<5|a>>>27)+(s^i^o)+l+1859775393+r,l=o,o=i,i=(s<<30|s>>>2)>>>0,s=a,a=r;for(;c<60;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(a<<5|a>>>27)+(s&i|o&(s^i))+l+2400959708+r,l=o,o=i,i=(s<<30|s>>>2)>>>0,s=a,a=r;for(;c<80;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(a<<5|a>>>27)+(s^i^o)+l+3395469782+r,l=o,o=i,i=(s<<30|s>>>2)>>>0,s=a,a=r;e.h0=e.h0+a|0,e.h1=e.h1+s|0,e.h2=e.h2+i|0,e.h3=e.h3+o|0,e.h4=e.h4+l|0,u-=64}}},3899:(e,t,n)=>{var r=n(45);n(5693),n(3900);var a=e.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=a,a.create=function(){i||(s=String.fromCharCode(128),s+=r.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=!0);var e=null,t=r.util.createBuffer(),n=new Array(64),a={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var n=a.messageLengthSize/4,s=0;s<n;++s)a.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},a}};return a.start(),a.update=function(s,i){"utf8"===i&&(s=r.util.encodeUtf8(s));var o=s.length;a.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var c=a.fullMessageLength.length-1;c>=0;--c)a.fullMessageLength[c]+=o[1],o[1]=o[0]+(a.fullMessageLength[c]/4294967296>>>0),a.fullMessageLength[c]=a.fullMessageLength[c]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),l(e,n,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var i=r.util.createBuffer();i.putBytes(t.bytes());var o,c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;i.putBytes(s.substr(0,a.blockLength-c));for(var u=8*a.fullMessageLength[0],d=0;d<a.fullMessageLength.length-1;++d)u+=(o=8*a.fullMessageLength[d+1])/4294967296>>>0,i.putInt32(u>>>0),u=o>>>0;i.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};l(h,n,i);var f=r.util.createBuffer();return f.putInt32(h.h0),f.putInt32(h.h1),f.putInt32(h.h2),f.putInt32(h.h3),f.putInt32(h.h4),f.putInt32(h.h5),f.putInt32(h.h6),f.putInt32(h.h7),f},a};var s=null,i=!1,o=null;function l(e,t,n){for(var r,a,s,i,l,c,u,d,h,f,p,m,g,y=n.length();y>=64;){for(l=0;l<16;++l)t[l]=n.getInt32();for(;l<64;++l)r=((r=t[l-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,a=((a=t[l-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,t[l]=r+t[l-7]+a+t[l-16]|0;for(c=e.h0,u=e.h1,d=e.h2,h=e.h3,f=e.h4,p=e.h5,m=e.h6,g=e.h7,l=0;l<64;++l)s=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),i=c&u|d&(c^u),r=g+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(m^f&(p^m))+o[l]+t[l],g=m,m=p,p=f,f=h+r>>>0,h=d,d=u,u=c,c=r+(a=s+i)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+u|0,e.h2=e.h2+d|0,e.h3=e.h3+h|0,e.h4=e.h4+f|0,e.h5=e.h5+p|0,e.h6=e.h6+m|0,e.h7=e.h7+g|0,y-=64}}},3900:(e,t,n)=>{var r=n(45),a=n(6407),s=e.exports=r.util=r.util||{};function i(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function o(e){if(this.data="",this.read=0,"string"===typeof e)this.data=e;else if(s.isArrayBuffer(e)||s.isArrayBufferView(e))if("undefined"!==typeof Buffer&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(r){for(var n=0;n<t.length;++n)this.putByte(t[n])}}else(e instanceof o||"object"===typeof e&&"string"===typeof e.data&&"number"===typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if("undefined"!==typeof process&&process.nextTick&&!process.browser)return s.nextTick=process.nextTick,void("function"===typeof setImmediate?s.setImmediate=setImmediate:s.setImmediate=s.nextTick);if("function"===typeof setImmediate)return s.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(s.nextTick=function(e){return setImmediate(e)});if(s.setImmediate=function(e){setTimeout(e,0)},"undefined"!==typeof window&&"function"===typeof window.postMessage){var e="forge.setImmediate",t=[];s.setImmediate=function(n){t.push(n),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",function(n){if(n.source===window&&n.data===e){n.stopPropagation();var r=t.slice();t.length=0,r.forEach(function(e){e()})}},!0)}if("undefined"!==typeof MutationObserver){var n=Date.now(),r=!0,a=document.createElement("div");t=[];new MutationObserver(function(){var e=t.slice();t.length=0,e.forEach(function(e){e()})}).observe(a,{attributes:!0});var i=s.setImmediate;s.setImmediate=function(e){Date.now()-n>15?(n=Date.now(),i(e)):(t.push(e),1===t.length&&a.setAttribute("a",r=!r))}}s.nextTick=s.setImmediate}(),s.isNodejs="undefined"!==typeof process&&process.versions&&process.versions.node,s.globalScope=s.isNodejs?n.g:"undefined"===typeof self?window:self,s.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.isArrayBuffer=function(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer},s.isArrayBufferView=function(e){return e&&s.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},s.ByteBuffer=o,s.ByteStringBuffer=o;s.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},s.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var n=this.data;t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return this.data=n,this._optimizeConstructedString(t),this},s.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},s.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(s.encodeUtf8(e))},s.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},s.ByteStringBuffer.prototype.putInt=function(e,t){i(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},s.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},s.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},s.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},s.ByteStringBuffer.prototype.getInt=function(e){i(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},s.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},s.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.ByteStringBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},s.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var e=s.createBuffer(this.data);return e.read=this.read,e},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())},s.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var n=s.isArrayBuffer(e),r=s.isArrayBufferView(e);if(n||r)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);return r.set(n),this.data=new DataView(r.buffer),this},s.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},s.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var n=0;n<t;++n)this.data.setUint8(e);return this},s.DataBuffer.prototype.putBytes=function(e,t){if(s.isArrayBufferView(e)){var n=(r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-r.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(r),this.write+=n,this}if(s.isArrayBuffer(e)){var r=new Uint8Array(e);return this.accommodate(r.byteLength),new Uint8Array(this.data.buffer).set(r,this.write),this.write+=r.byteLength,this}if(e instanceof s.DataBuffer||"object"===typeof e&&"number"===typeof e.read&&"number"===typeof e.write&&s.isArrayBufferView(e.data)){r=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(r.byteLength),new Uint8Array(e.data.byteLength,this.write).set(r),this.write+=r.byteLength,this}if(e instanceof s.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"===typeof e){var a;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(e,a,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),a=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(e,a,this.write),this;if("utf8"===t&&(e=s.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(a),this;if("utf16"===t)return this.accommodate(2*e.length),a=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},s.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},s.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},s.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(e,t){i(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},s.DataBuffer.prototype.putSignedInt=function(e,t){return i(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},s.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},s.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},s.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},s.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},s.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},s.DataBuffer.prototype.getInt=function(e){i(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},s.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},s.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.DataBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},s.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var n=this.data.getUint8(t);n<16&&(e+="0"),e+=n.toString(16)}return e},s.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return s.binary.raw.encode(t);if("hex"===e)return s.binary.hex.encode(t);if("base64"===e)return s.binary.base64.encode(t);if("utf8"===e)return s.text.utf8.decode(t);if("utf16"===e)return s.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},s.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=s.encodeUtf8(e)),new s.ByteBuffer(e)},s.fillString=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return n},s.xorBytes=function(e,t,n){for(var r="",a="",s="",i=0,o=0;n>0;--n,++i)a=e.charCodeAt(i)^t.charCodeAt(i),o>=10&&(r+=s,s="",o=0),s+=String.fromCharCode(a),++o;return r+=s},s.hexToBytes=function(e){var t="",n=0;for(!0&e.length&&(n=1,t+=String.fromCharCode(parseInt(e[0],16)));n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},s.bytesToHex=function(e){return s.createBuffer(e).toHex()},s.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],u="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(e,t){for(var n,r,a,s="",i="",o=0;o<e.length;)n=e.charCodeAt(o++),r=e.charCodeAt(o++),a=e.charCodeAt(o++),s+=l.charAt(n>>2),s+=l.charAt((3&n)<<4|r>>4),isNaN(r)?s+="==":(s+=l.charAt((15&r)<<2|a>>6),s+=isNaN(a)?"=":l.charAt(63&a)),t&&s.length>t&&(i+=s.substr(0,t)+"\r\n",s=s.substr(t));return i+=s},s.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,n,r,a,s="",i=0;i<e.length;)t=c[e.charCodeAt(i++)-43],n=c[e.charCodeAt(i++)-43],r=c[e.charCodeAt(i++)-43],a=c[e.charCodeAt(i++)-43],s+=String.fromCharCode(t<<2|n>>4),64!==r&&(s+=String.fromCharCode((15&n)<<4|r>>2),64!==a&&(s+=String.fromCharCode((3&r)<<6|a)));return s},s.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},s.decodeUtf8=function(e){return decodeURIComponent(escape(e))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a.encode,decode:a.decode}},s.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},s.binary.raw.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length));for(var a=n=n||0,s=0;s<e.length;++s)r[a++]=e.charCodeAt(s);return t?a-n:r},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2)));var a=0,s=n=n||0;for(1&e.length&&(a=1,r[s++]=parseInt(e[0],16));a<e.length;a+=2)r[s++]=parseInt(e.substr(a,2),16);return t?s-n:r},s.binary.base64.encode=function(e,t){for(var n,r,a,s="",i="",o=0;o<e.byteLength;)n=e[o++],r=e[o++],a=e[o++],s+=l.charAt(n>>2),s+=l.charAt((3&n)<<4|r>>4),isNaN(r)?s+="==":(s+=l.charAt((15&r)<<2|a>>6),s+=isNaN(a)?"=":l.charAt(63&a)),t&&s.length>t&&(i+=s.substr(0,t)+"\r\n",s=s.substr(t));return i+=s},s.binary.base64.decode=function(e,t,n){var r,a,s,i,o=t;o||(o=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var l=0,u=n=n||0;l<e.length;)r=c[e.charCodeAt(l++)-43],a=c[e.charCodeAt(l++)-43],s=c[e.charCodeAt(l++)-43],i=c[e.charCodeAt(l++)-43],o[u++]=r<<2|a>>4,64!==s&&(o[u++]=(15&a)<<4|s>>2,64!==i&&(o[u++]=(3&s)<<6|i));return t?u-n:o.subarray(0,u)},s.binary.base58.encode=function(e,t){return s.binary.baseN.encode(e,u,t)},s.binary.base58.decode=function(e,t){return s.binary.baseN.decode(e,u,t)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(e,t,n){e=s.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length));for(var a=n=n||0,i=0;i<e.length;++i)r[a++]=e.charCodeAt(i);return t?a-n:r},s.text.utf8.decode=function(e){return s.decodeUtf8(String.fromCharCode.apply(null,e))},s.text.utf16.encode=function(e,t,n){var r=t;r||(r=new Uint8Array(2*e.length));for(var a=new Uint16Array(r.buffer),s=n=n||0,i=n,o=0;o<e.length;++o)a[i++]=e.charCodeAt(o),s+=2;return t?s-n:r},s.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},s.deflate=function(e,t,n){if(t=s.decode64(e.deflate(s.encode64(t)).rval),n){var r=2;32&t.charCodeAt(1)&&(r=6),t=t.substring(r,t.length-4)}return t},s.inflate=function(e,t,n){var r=e.inflate(s.encode64(t)).rval;return null===r?null:s.decode64(r)};var d=function(e,t,n){if(!e)throw new Error("WebStorage not available.");var r;if(null===n?r=e.removeItem(t):(n=s.encode64(JSON.stringify(n)),r=e.setItem(t,n)),"undefined"!==typeof r&&!0!==r.rval){var a=new Error(r.error.message);throw a.id=r.error.id,a.name=r.error.name,a}},h=function(e,t){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(t);if(e.init)if(null===n.rval){if(n.error){var r=new Error(n.error.message);throw r.id=n.error.id,r.name=n.error.name,r}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(s.decode64(n))),n},f=function(e,t,n,r){var a=h(e,t);null===a&&(a={}),a[n]=r,d(e,t,a)},p=function(e,t,n){var r=h(e,t);return null!==r&&(r=n in r?r[n]:null),r},m=function(e,t,n){var r=h(e,t);if(null!==r&&n in r){delete r[n];var a=!0;for(var s in r){a=!1;break}a&&(r=null),d(e,t,r)}},g=function(e,t){d(e,t,null)},y=function(e,t,n){var r,a=null;"undefined"===typeof n&&(n=["web","flash"]);var s=!1,i=null;for(var o in n){r=n[o];try{if("flash"===r||"both"===r){if(null===t[0])throw new Error("Flash local storage not available.");a=e.apply(this,t),s="flash"===r}"web"!==r&&"both"!==r||(t[0]=localStorage,a=e.apply(this,t),s=!0)}catch(l){i=l}if(s)break}if(!s)throw i;return a};s.setItem=function(e,t,n,r,a){y(f,arguments,a)},s.getItem=function(e,t,n,r){return y(p,arguments,r)},s.removeItem=function(e,t,n,r){y(m,arguments,r)},s.clearItems=function(e,t,n){y(g,arguments,n)},s.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},s.format=function(e){for(var t,n,r=/%./g,a=0,s=[],i=0;t=r.exec(e);){(n=e.substring(i,r.lastIndex-2)).length>0&&s.push(n),i=r.lastIndex;var o=t[0][1];switch(o){case"s":case"o":a<arguments.length?s.push(arguments[1+a++]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+o+"?>")}}return s.push(e.substring(i)),s.join("")},s.formatNumber=function(e,t,n,r){var a=e,s=isNaN(t=Math.abs(t))?2:t,i=void 0===n?",":n,o=void 0===r?".":r,l=a<0?"-":"",c=parseInt(a=Math.abs(+a||0).toFixed(s),10)+"",u=c.length>3?c.length%3:0;return l+(u?c.substr(0,u)+o:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+o)+(s?i+Math.abs(a-c).toFixed(s).slice(2):"")},s.formatSize=function(e){return e=e>=1073741824?s.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?s.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?s.formatNumber(e/1024,0)+" KiB":s.formatNumber(e,0)+" bytes"},s.bytesFromIP=function(e){return-1!==e.indexOf(".")?s.bytesFromIPv4(e):-1!==e.indexOf(":")?s.bytesFromIPv6(e):null},s.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=s.createBuffer(),n=0;n<e.length;++n){var r=parseInt(e[n],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()},s.bytesFromIPv6=function(e){for(var t=0,n=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),r=s.createBuffer(),a=0;a<8;++a)if(e[a]&&0!==e[a].length){var i=s.hexToBytes(e[a]);i.length<2&&r.putByte(0),r.putBytes(i)}else r.fillWithByte(0,n),n=0;return r.getBytes()},s.bytesToIP=function(e){return 4===e.length?s.bytesToIPv4(e):16===e.length?s.bytesToIPv6(e):null},s.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t.join(".")},s.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],n=[],r=0,a=0;a<e.length;a+=2){for(var i=s.bytesToHex(e[a]+e[a+1]);"0"===i[0]&&"0"!==i;)i=i.substr(1);if("0"===i){var o=n[n.length-1],l=t.length;o&&l===o.end+1?(o.end=l,o.end-o.start>n[r].end-n[r].start&&(r=n.length-1)):n.push({start:l,end:l})}t.push(i)}if(n.length>0){var c=n[r];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},s.estimateCores=function(e,t){if("function"===typeof e&&(t=e,e={}),e=e||{},"cores"in s&&!e.update)return t(null,s.cores);if("undefined"!==typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,t(null,s.cores);if("undefined"===typeof Worker)return s.cores=1,t(null,s.cores);if("undefined"===typeof Blob)return s.cores=2,t(null,s.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),n=t+4;Date.now()<n;);self.postMessage({st:t,et:n})})}.toString(),")()"],{type:"application/javascript"}));!function e(r,a,i){if(0===a){var o=Math.floor(r.reduce(function(e,t){return e+t},0)/r.length);return s.cores=Math.max(1,o),URL.revokeObjectURL(n),t(null,s.cores)}!function(e,t){for(var r=[],a=[],s=0;s<e;++s){var i=new Worker(n);i.addEventListener("message",function(n){if(a.push(n.data),a.length===e){for(var s=0;s<e;++s)r[s].terminate();t(null,a)}}),r.push(i)}for(s=0;s<e;++s)r[s].postMessage(s)}(i,function(t,n){r.push(function(e,t){for(var n=[],r=0;r<e;++r)for(var a=t[r],s=n[r]=[],i=0;i<e;++i)if(r!==i){var o=t[i];(a.st>o.st&&a.st<o.et||o.st>a.st&&o.st<a.et)&&s.push(i)}return n.reduce(function(e,t){return Math.max(e,t.length)},0)}(i,n)),e(r,a-1,i)})}([],5,16)}},4188:(e,t,n)=>{var r=n(45);n(2795),n(3900),(e.exports=r.pss=r.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,n=e.md,a=e.mgf,s=n.digestLength,i=e.salt||null;if("string"===typeof i&&(i=r.util.createBuffer(i)),"saltLength"in e)t=e.saltLength;else{if(null===i)throw new Error("Salt length not specified or specific salt not given.");t=i.length()}if(null!==i&&i.length()!==t)throw new Error("Given salt length does not match length of given salt.");var o=e.prng||r.random,l={encode:function(e,l){var c,u,d=l-1,h=Math.ceil(d/8),f=e.digest().getBytes();if(h<s+t+2)throw new Error("Message is too long to encrypt.");u=null===i?o.getBytesSync(t):i.bytes();var p=new r.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(f),p.putBytes(u),n.start(),n.update(p.getBytes());var m=n.digest().getBytes(),g=new r.util.ByteBuffer;g.fillWithByte(0,h-t-s-2),g.putByte(1),g.putBytes(u);var y=g.getBytes(),v=h-s-1,b=a.generate(m,v),w="";for(c=0;c<v;c++)w+=String.fromCharCode(y.charCodeAt(c)^b.charCodeAt(c));var x=65280>>8*h-d&255;return(w=String.fromCharCode(w.charCodeAt(0)&~x)+w.substr(1))+m+String.fromCharCode(188)},verify:function(e,i,o){var l,c=o-1,u=Math.ceil(c/8);if(i=i.substr(-u),u<s+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==i.charCodeAt(u-1))throw new Error("Encoded message does not end in 0xBC.");var d=u-s-1,h=i.substr(0,d),f=i.substr(d,s),p=65280>>8*u-c&255;if(0!==(h.charCodeAt(0)&p))throw new Error("Bits beyond keysize not zero as expected.");var m=a.generate(f,d),g="";for(l=0;l<d;l++)g+=String.fromCharCode(h.charCodeAt(l)^m.charCodeAt(l));g=String.fromCharCode(g.charCodeAt(0)&~p)+g.substr(1);var y=u-s-t-2;for(l=0;l<y;l++)if(0!==g.charCodeAt(l))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(y))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=g.substr(-t),b=new r.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(e),b.putBytes(v),n.start(),n.update(b.getBytes()),f===n.digest().getBytes()}};return l}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)E.call(t,a)&&!A.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:C.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+T(l,0):s,x(i)?(a="",null!=e&&(a=e.replace(k,"$&/")+"/"),I(i,t,a,"",function(e){return e})):null!=i&&(N(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=I(o,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,a,u=s+T(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function B(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",function(e){return t.call(n,e,a++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},P={transition:null},L={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:P,ReactCurrentOwner:C};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:B,forEach:function(e,t,n){B(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return B(e,function(){t++}),t},toArray:function(e){return B(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!A.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4620:(e,t,n)=>{var r=n(45);n(9353),n(5465),n(2986),n(5693),n(9624),n(3225),n(5224),n(4188),n(9408),n(3900);var a=r.asn1,s=e.exports=r.pki=r.pki||{},i=s.oids,o={};o.CN=i.commonName,o.commonName="CN",o.C=i.countryName,o.countryName="C",o.L=i.localityName,o.localityName="L",o.ST=i.stateOrProvinceName,o.stateOrProvinceName="ST",o.O=i.organizationName,o.organizationName="O",o.OU=i.organizationalUnitName,o.organizationalUnitName="OU",o.E=i.emailAddress,o.emailAddress="E";var l=r.pki.rsa.publicKeyValidator,c={name:"Certificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:a.Class.UNIVERSAL,type:a.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:a.Class.UNIVERSAL,type:a.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},l,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},u={name:"rsapss",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:a.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:a.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:a.Class.UNIVERSAL,type:a.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},d={name:"CertificationRequestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},l,{name:"CertificationRequestInfo.attributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0}]}]}]},h={name:"CertificationRequest",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[d,{name:"CertificationRequest.signatureAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function f(e,t){"string"===typeof t&&(t={shortName:t});for(var n,r=null,a=0;null===r&&a<e.attributes.length;++a)n=e.attributes[a],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}s.RDNAttributesAsArray=function(e,t){for(var n,r,s,l=[],c=0;c<e.value.length;++c){n=e.value[c];for(var u=0;u<n.value.length;++u)s={},r=n.value[u],s.type=a.derToOid(r.value[0].value),s.value=r.value[1].value,s.valueTagClass=r.value[1].type,s.type in i&&(s.name=i[s.type],s.name in o&&(s.shortName=o[s.name])),t&&(t.update(s.type),t.update(s.value)),l.push(s)}return l},s.CRIAttributesAsArray=function(e){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],l=a.derToOid(r.value[0].value),c=r.value[1].value,u=0;u<c.length;++u){var d={};if(d.type=l,d.value=c[u].value,d.valueTagClass=c[u].type,d.type in i&&(d.name=i[d.type],d.name in o&&(d.shortName=o[d.name])),d.type===i.extensionRequest){d.extensions=[];for(var h=0;h<d.value.length;++h)d.extensions.push(s.certificateExtensionFromAsn1(d.value[h]))}t.push(d)}return t};var p=function(e,t,n){var r={};if(e!==i["RSASSA-PSS"])return r;n&&(r={hash:{algorithmOid:i.sha1},mgf:{algorithmOid:i.mgf1,hash:{algorithmOid:i.sha1}},saltLength:20});var s={},o=[];if(!a.validate(t,u,s,o)){var l=new Error("Cannot read RSASSA-PSS parameter block.");throw l.errors=o,l}return void 0!==s.hashOid&&(r.hash=r.hash||{},r.hash.algorithmOid=a.derToOid(s.hashOid)),void 0!==s.maskGenOid&&(r.mgf=r.mgf||{},r.mgf.algorithmOid=a.derToOid(s.maskGenOid),r.mgf.hash=r.mgf.hash||{},r.mgf.hash.algorithmOid=a.derToOid(s.maskGenHashOid)),void 0!==s.saltLength&&(r.saltLength=s.saltLength.charCodeAt(0)),r},m=function(e){switch(i[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return r.md.sha1.create();case"md5WithRSAEncryption":return r.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return r.md.sha256.create();case"sha384WithRSAEncryption":return r.md.sha384.create();case"sha512WithRSAEncryption":return r.md.sha512.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},g=function(e){var t,n=e.certificate;switch(n.signatureOid){case i.sha1WithRSAEncryption:case i.sha1WithRSASignature:break;case i["RSASSA-PSS"]:var a,s,o;if(void 0===(a=i[n.signatureParameters.mgf.hash.algorithmOid])||void 0===r.md[a])throw(o=new Error("Unsupported MGF hash function.")).oid=n.signatureParameters.mgf.hash.algorithmOid,o.name=a,o;if(void 0===(s=i[n.signatureParameters.mgf.algorithmOid])||void 0===r.mgf[s])throw(o=new Error("Unsupported MGF function.")).oid=n.signatureParameters.mgf.algorithmOid,o.name=s,o;if(s=r.mgf[s].create(r.md[a].create()),void 0===(a=i[n.signatureParameters.hash.algorithmOid])||void 0===r.md[a])throw(o=new Error("Unsupported RSASSA-PSS hash function.")).oid=n.signatureParameters.hash.algorithmOid,o.name=a,o;t=r.pss.create(r.md[a].create(),s,n.signatureParameters.saltLength)}return n.publicKey.verify(e.md.digest().getBytes(),e.signature,t)};function y(e){for(var t,n,s=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),i=e.attributes,o=0;o<i.length;++o){var l=(t=i[o]).value,c=a.Type.PRINTABLESTRING;"valueTagClass"in t&&(c=t.valueTagClass)===a.Type.UTF8&&(l=r.util.encodeUtf8(l)),n=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.type).getBytes()),a.create(a.Class.UNIVERSAL,c,!1,l)])]),s.value.push(n)}return s}function v(e){for(var t,n=0;n<e.length;++n){if("undefined"===typeof(t=e[n]).name&&(t.type&&t.type in s.oids?t.name=s.oids[t.type]:t.shortName&&t.shortName in o&&(t.name=s.oids[o[t.shortName]])),"undefined"===typeof t.type){if(!t.name||!(t.name in s.oids))throw(l=new Error("Attribute type not specified.")).attribute=t,l;t.type=s.oids[t.name]}if("undefined"===typeof t.shortName&&t.name&&t.name in o&&(t.shortName=o[t.name]),t.type===i.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=a.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var r=0;r<t.extensions.length;++r)t.value.push(s.certificateExtensionToAsn1(b(t.extensions[r])))}var l;if("undefined"===typeof t.value)throw(l=new Error("Attribute value not specified.")).attribute=t,l}}function b(e,t){if(t=t||{},"undefined"===typeof e.name&&e.id&&e.id in s.oids&&(e.name=s.oids[e.id]),"undefined"===typeof e.id){if(!e.name||!(e.name in s.oids))throw(x=new Error("Extension ID not specified.")).extension=e,x;e.id=s.oids[e.name]}if("undefined"!==typeof e.value)return e;if("keyUsage"===e.name){var n=0,o=0,l=0;e.digitalSignature&&(o|=128,n=7),e.nonRepudiation&&(o|=64,n=6),e.keyEncipherment&&(o|=32,n=5),e.dataEncipherment&&(o|=16,n=4),e.keyAgreement&&(o|=8,n=3),e.keyCertSign&&(o|=4,n=2),e.cRLSign&&(o|=2,n=1),e.encipherOnly&&(o|=1,n=0),e.decipherOnly&&(l|=128,n=7);var c=String.fromCharCode(n);0!==l?c+=String.fromCharCode(o)+String.fromCharCode(l):0!==o&&(c+=String.fromCharCode(o)),e.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,c)}else if("basicConstraints"===e.name)e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);var u=e.value.value;for(var d in e)!0===e[d]&&(d in i?u.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i[d]).getBytes())):-1!==d.indexOf(".")&&u.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(d).getBytes())))}else if("nsCertType"===e.name){n=0,o=0;e.client&&(o|=128,n=7),e.server&&(o|=64,n=6),e.email&&(o|=32,n=5),e.objsign&&(o|=16,n=4),e.reserved&&(o|=8,n=3),e.sslCA&&(o|=4,n=2),e.emailCA&&(o|=2,n=1),e.objCA&&(o|=1,n=0);c=String.fromCharCode(n);0!==o&&(c+=String.fromCharCode(o)),e.value=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,c)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);for(var h=0;h<e.altNames.length;++h){c=(v=e.altNames[h]).value;if(7===v.type&&v.ip){if(null===(c=r.util.bytesFromIP(v.ip)))throw(x=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,x}else 8===v.type&&(c=v.oid?a.oidToDer(a.oidToDer(v.oid)):a.oidToDer(c));e.value.value.push(a.create(a.Class.CONTEXT_SPECIFIC,v.type,!1,c))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=a.create(a.Class.UNIVERSAL,a.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var f=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=f.toHex(),e.value=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,f.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);u=e.value.value;if(e.keyIdentifier){var p=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;u.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var m=[a.create(a.Class.CONTEXT_SPECIFIC,4,!0,[y(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];u.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var g=r.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);u.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if("cRLDistributionPoints"===e.name){e.value=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);u=e.value.value;var v,b=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),w=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<e.altNames.length;++h){c=(v=e.altNames[h]).value;if(7===v.type&&v.ip){if(null===(c=r.util.bytesFromIP(v.ip)))throw(x=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,x}else 8===v.type&&(c=v.oid?a.oidToDer(a.oidToDer(v.oid)):a.oidToDer(c));w.value.push(a.create(a.Class.CONTEXT_SPECIFIC,v.type,!1,c))}b.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[w])),u.push(b)}var x;if("undefined"===typeof e.value)throw(x=new Error("Extension value not specified.")).extension=e,x;return e}function w(e,t){if(e===i["RSASSA-PSS"]){var n=[];return void 0!==t.hash.algorithmOid&&n.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&n.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.mgf.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.mgf.hash.algorithmOid).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&n.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(t.saltLength).getBytes())])),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,n)}return a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")}function x(e){var t=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var n=e.attributes,s=0;s<n.length;++s){var i=n[s],o=i.value,l=a.Type.UTF8;"valueTagClass"in i&&(l=i.valueTagClass),l===a.Type.UTF8&&(o=r.util.encodeUtf8(o));var c=!1;"valueConstructed"in i&&(c=i.valueConstructed);var u=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,l,c,o)])]);t.value.push(u)}return t}s.certificateFromPem=function(e,t,n){var i=r.pem.decode(e)[0];if("CERTIFICATE"!==i.type&&"X509 CERTIFICATE"!==i.type&&"TRUSTED CERTIFICATE"!==i.type){var o=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw o.headerType=i.type,o}if(i.procType&&"ENCRYPTED"===i.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var l=a.fromDer(i.body,n);return s.certificateFromAsn1(l,t)},s.certificateToPem=function(e,t){var n={type:"CERTIFICATE",body:a.toDer(s.certificateToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},s.publicKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var n=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var i=a.fromDer(t.body);return s.publicKeyFromAsn1(i)},s.publicKeyToPem=function(e,t){var n={type:"PUBLIC KEY",body:a.toDer(s.publicKeyToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},s.publicKeyToRSAPublicKeyPem=function(e,t){var n={type:"RSA PUBLIC KEY",body:a.toDer(s.publicKeyToRSAPublicKey(e)).getBytes()};return r.pem.encode(n,{maxline:t})},s.getPublicKeyFingerprint=function(e,t){var n,i=(t=t||{}).md||r.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":n=a.toDer(s.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":n=a.toDer(s.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}i.start(),i.update(n);var o=i.digest();if("hex"===t.encoding){var l=o.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}if("binary"===t.encoding)return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return o},s.certificationRequestFromPem=function(e,t,n){var i=r.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==i.type){var o=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw o.headerType=i.type,o}if(i.procType&&"ENCRYPTED"===i.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var l=a.fromDer(i.body,n);return s.certificationRequestFromAsn1(l,t)},s.certificationRequestToPem=function(e,t){var n={type:"CERTIFICATE REQUEST",body:a.toDer(s.certificationRequestToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},s.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return f(e.issuer,t)},e.issuer.addField=function(t){v([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){v([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,n){v(t),e.subject.attributes=t,delete e.subject.uniqueId,n&&(e.subject.uniqueId=n),e.subject.hash=null},e.setIssuer=function(t,n){v(t),e.issuer.attributes=t,delete e.issuer.uniqueId,n&&(e.issuer.uniqueId=n),e.issuer.hash=null},e.setExtensions=function(t){for(var n=0;n<t.length;++n)b(t[n],{cert:e});e.extensions=t},e.getExtension=function(t){"string"===typeof t&&(t={name:t});for(var n,r=null,a=0;null===r&&a<e.extensions.length;++a)n=e.extensions[a],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,n){e.md=n||r.md.sha1.create();var o=i[e.md.algorithm+"WithRSAEncryption"];if(!o){var l=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw l.algorithm=e.md.algorithm,l}e.signatureOid=e.siginfo.algorithmOid=o,e.tbsCertificate=s.getTBSCertificate(e);var c=a.toDer(e.tbsCertificate);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var n=!1;if(!e.issued(t)){var r=t.issuer,i=e.subject,o=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw o.expectedIssuer=i.attributes,o.actualIssuer=r.attributes,o}var l=t.md;if(null===l){l=m({signatureOid:t.signatureOid,type:"certificate"});var c=t.tbsCertificate||s.getTBSCertificate(t),u=a.toDer(c);l.update(u.getBytes())}return null!==l&&(n=g({certificate:e,md:l,signature:t.signature})),n},e.isIssuer=function(t){var n=!1,r=e.issuer,a=t.subject;if(r.hash&&a.hash)n=r.hash===a.hash;else if(r.attributes.length===a.attributes.length){var s,i;n=!0;for(var o=0;n&&o<r.attributes.length;++o)s=r.attributes[o],i=a.attributes[o],s.type===i.type&&s.value===i.value||(n=!1)}return n},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return s.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=i.subjectKeyIdentifier,n=0;n<e.extensions.length;++n){var a=e.extensions[n];if(a.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return r.util.hexToBytes(a.subjectKeyIdentifier)===s}}return!1},e},s.certificateFromAsn1=function(e,t){var n={},i=[];if(!a.validate(e,c,n,i)){var o=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw o.errors=i,o}if(a.derToOid(n.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=s.createCertificate();l.version=n.certVersion?n.certVersion.charCodeAt(0):0;var u=r.util.createBuffer(n.certSerialNumber);l.serialNumber=u.toHex(),l.signatureOid=r.asn1.derToOid(n.certSignatureOid),l.signatureParameters=p(l.signatureOid,n.certSignatureParams,!0),l.siginfo.algorithmOid=r.asn1.derToOid(n.certinfoSignatureOid),l.siginfo.parameters=p(l.siginfo.algorithmOid,n.certinfoSignatureParams,!1),l.signature=n.certSignature;var d=[];if(void 0!==n.certValidity1UTCTime&&d.push(a.utcTimeToDate(n.certValidity1UTCTime)),void 0!==n.certValidity2GeneralizedTime&&d.push(a.generalizedTimeToDate(n.certValidity2GeneralizedTime)),void 0!==n.certValidity3UTCTime&&d.push(a.utcTimeToDate(n.certValidity3UTCTime)),void 0!==n.certValidity4GeneralizedTime&&d.push(a.generalizedTimeToDate(n.certValidity4GeneralizedTime)),d.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(d.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(l.validity.notBefore=d[0],l.validity.notAfter=d[1],l.tbsCertificate=n.tbsCertificate,t){l.md=m({signatureOid:l.signatureOid,type:"certificate"});var h=a.toDer(l.tbsCertificate);l.md.update(h.getBytes())}var g=r.md.sha1.create(),y=a.toDer(n.certIssuer);g.update(y.getBytes()),l.issuer.getField=function(e){return f(l.issuer,e)},l.issuer.addField=function(e){v([e]),l.issuer.attributes.push(e)},l.issuer.attributes=s.RDNAttributesAsArray(n.certIssuer),n.certIssuerUniqueId&&(l.issuer.uniqueId=n.certIssuerUniqueId),l.issuer.hash=g.digest().toHex();var b=r.md.sha1.create(),w=a.toDer(n.certSubject);return b.update(w.getBytes()),l.subject.getField=function(e){return f(l.subject,e)},l.subject.addField=function(e){v([e]),l.subject.attributes.push(e)},l.subject.attributes=s.RDNAttributesAsArray(n.certSubject),n.certSubjectUniqueId&&(l.subject.uniqueId=n.certSubjectUniqueId),l.subject.hash=b.digest().toHex(),n.certExtensions?l.extensions=s.certificateExtensionsFromAsn1(n.certExtensions):l.extensions=[],l.publicKey=s.publicKeyFromAsn1(n.subjectPublicKeyInfo),l},s.certificateExtensionsFromAsn1=function(e){for(var t=[],n=0;n<e.value.length;++n)for(var r=e.value[n],a=0;a<r.value.length;++a)t.push(s.certificateExtensionFromAsn1(r.value[a]));return t},s.certificateExtensionFromAsn1=function(e){var t={};if(t.id=a.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===a.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in i)if(t.name=i[t.id],"keyUsage"===t.name){var n=0,s=0;(l=a.fromDer(t.value)).value.length>1&&(n=l.value.charCodeAt(1),s=l.value.length>2?l.value.charCodeAt(2):0),t.digitalSignature=128===(128&n),t.nonRepudiation=64===(64&n),t.keyEncipherment=32===(32&n),t.dataEncipherment=16===(16&n),t.keyAgreement=8===(8&n),t.keyCertSign=4===(4&n),t.cRLSign=2===(2&n),t.encipherOnly=1===(1&n),t.decipherOnly=128===(128&s)}else if("basicConstraints"===t.name){(l=a.fromDer(t.value)).value.length>0&&l.value[0].type===a.Type.BOOLEAN?t.cA=0!==l.value[0].value.charCodeAt(0):t.cA=!1;var o=null;l.value.length>0&&l.value[0].type===a.Type.INTEGER?o=l.value[0].value:l.value.length>1&&(o=l.value[1].value),null!==o&&(t.pathLenConstraint=a.derToInteger(o))}else if("extKeyUsage"===t.name)for(var l=a.fromDer(t.value),c=0;c<l.value.length;++c){var u=a.derToOid(l.value[c].value);u in i?t[i[u]]=!0:t[u]=!0}else if("nsCertType"===t.name){n=0;(l=a.fromDer(t.value)).value.length>1&&(n=l.value.charCodeAt(1)),t.client=128===(128&n),t.server=64===(64&n),t.email=32===(32&n),t.objsign=16===(16&n),t.reserved=8===(8&n),t.sslCA=4===(4&n),t.emailCA=2===(2&n),t.objCA=1===(1&n)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var d;t.altNames=[];l=a.fromDer(t.value);for(var h=0;h<l.value.length;++h){var f={type:(d=l.value[h]).type,value:d.value};switch(t.altNames.push(f),d.type){case 1:case 2:case 6:break;case 7:f.ip=r.util.bytesToIP(d.value);break;case 8:f.oid=a.derToOid(d.value)}}}else if("subjectKeyIdentifier"===t.name){l=a.fromDer(t.value);t.subjectKeyIdentifier=r.util.bytesToHex(l.value)}return t},s.certificationRequestFromAsn1=function(e,t){var n={},i=[];if(!a.validate(e,h,n,i)){var o=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw o.errors=i,o}if(a.derToOid(n.publicKeyOid)!==s.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=s.createCertificationRequest();if(l.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,l.signatureOid=r.asn1.derToOid(n.csrSignatureOid),l.signatureParameters=p(l.signatureOid,n.csrSignatureParams,!0),l.siginfo.algorithmOid=r.asn1.derToOid(n.csrSignatureOid),l.siginfo.parameters=p(l.siginfo.algorithmOid,n.csrSignatureParams,!1),l.signature=n.csrSignature,l.certificationRequestInfo=n.certificationRequestInfo,t){l.md=m({signatureOid:l.signatureOid,type:"certification request"});var c=a.toDer(l.certificationRequestInfo);l.md.update(c.getBytes())}var u=r.md.sha1.create();return l.subject.getField=function(e){return f(l.subject,e)},l.subject.addField=function(e){v([e]),l.subject.attributes.push(e)},l.subject.attributes=s.RDNAttributesAsArray(n.certificationRequestInfoSubject,u),l.subject.hash=u.digest().toHex(),l.publicKey=s.publicKeyFromAsn1(n.subjectPublicKeyInfo),l.getAttribute=function(e){return f(l,e)},l.addAttribute=function(e){v([e]),l.attributes.push(e)},l.attributes=s.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),l},s.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return f(e.subject,t)},e.subject.addField=function(t){v([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return f(e,t)},e.addAttribute=function(t){v([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){v(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){v(t),e.attributes=t},e.sign=function(t,n){e.md=n||r.md.sha1.create();var o=i[e.md.algorithm+"WithRSAEncryption"];if(!o){var l=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw l.algorithm=e.md.algorithm,l}e.signatureOid=e.siginfo.algorithmOid=o,e.certificationRequestInfo=s.getCertificationRequestInfo(e);var c=a.toDer(e.certificationRequestInfo);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,n=e.md;if(null===n){n=m({signatureOid:e.signatureOid,type:"certification request"});var r=e.certificationRequestInfo||s.getCertificationRequestInfo(e),i=a.toDer(r);n.update(i.getBytes())}return null!==n&&(t=g({certificate:e,md:n,signature:e.signature})),t},e};var E=new Date("1950-01-01T00:00:00Z"),C=new Date("2050-01-01T00:00:00Z");function A(e){return e>=E&&e<C?a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(e)):a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(e))}s.getTBSCertificate=function(e){var t=A(e.validity.notBefore),n=A(e.validity.notAfter),i=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes())]),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,r.util.hexToBytes(e.serialNumber)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.siginfo.algorithmOid).getBytes()),w(e.siginfo.algorithmOid,e.siginfo.parameters)]),y(e.issuer),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,n]),y(e.subject),s.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&i.value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&i.value.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&i.value.push(s.certificateExtensionsToAsn1(e.extensions)),i},s.getCertificationRequestInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),y(e.subject),s.publicKeyToAsn1(e.publicKey),x(e)])},s.distinguishedNameToAsn1=function(e){return y(e)},s.certificateToAsn1=function(e){var t=e.tbsCertificate||s.getTBSCertificate(e);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureOid).getBytes()),w(e.signatureOid,e.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.certificateExtensionsToAsn1=function(e){var t=a.create(a.Class.CONTEXT_SPECIFIC,3,!0,[]),n=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);t.value.push(n);for(var r=0;r<e.length;++r)n.value.push(s.certificateExtensionToAsn1(e[r]));return t},s.certificateExtensionToAsn1=function(e){var t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.id).getBytes())),e.critical&&t.value.push(a.create(a.Class.UNIVERSAL,a.Type.BOOLEAN,!1,String.fromCharCode(255)));var n=e.value;return"string"!==typeof e.value&&(n=a.toDer(n).getBytes()),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,n)),t},s.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||s.getCertificationRequestInfo(e);return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[t,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureOid).getBytes()),w(e.signatureOid,e.signatureParameters)]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},s.createCaStore=function(e){var t={certs:{}};function n(e){return i(e),t.certs[e.hash]||null}function i(e){if(!e.hash){var t=r.md.sha1.create();e.attributes=s.RDNAttributesAsArray(y(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return n(e.issuer)},t.addCertificate=function(e){if("string"===typeof e&&(e=r.pki.certificateFromPem(e)),i(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var n=t.certs[e.subject.hash];r.util.isArray(n)||(n=[n]),n.push(e),t.certs[e.subject.hash]=n}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"===typeof e&&(e=r.pki.certificateFromPem(e));var t=n(e.subject);if(!t)return!1;r.util.isArray(t)||(t=[t]);for(var i=a.toDer(s.certificateToAsn1(e)).getBytes(),o=0;o<t.length;++o){if(i===a.toDer(s.certificateToAsn1(t[o])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var n in t.certs)if(t.certs.hasOwnProperty(n)){var a=t.certs[n];if(r.util.isArray(a))for(var s=0;s<a.length;++s)e.push(a[s]);else e.push(a)}return e},t.removeCertificate=function(e){var o;if("string"===typeof e&&(e=r.pki.certificateFromPem(e)),i(e.subject),!t.hasCertificate(e))return null;var l=n(e.subject);if(!r.util.isArray(l))return o=t.certs[e.subject.hash],delete t.certs[e.subject.hash],o;for(var c=a.toDer(s.certificateToAsn1(e)).getBytes(),u=0;u<l.length;++u){c===a.toDer(s.certificateToAsn1(l[u])).getBytes()&&(o=l[u],l.splice(u,1))}return 0===l.length&&delete t.certs[e.subject.hash],o},e)for(var o=0;o<e.length;++o){var l=e[o];t.addCertificate(l)}return t},s.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},s.verifyCertificateChain=function(e,t,n){"function"===typeof n&&(n={verify:n}),n=n||{};var a=(t=t.slice(0)).slice(0),i=n.validityCheckDate;"undefined"===typeof i&&(i=new Date);var o=!0,l=null,c=0;do{var u=t.shift(),d=null,h=!1;if(i&&(i<u.validity.notBefore||i>u.validity.notAfter)&&(l={message:"Certificate is not valid yet or has expired.",error:s.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:i}),null===l){if(null===(d=t[0]||e.getIssuer(u))&&u.isIssuer(u)&&(h=!0,d=u),d){var f=d;r.util.isArray(f)||(f=[f]);for(var p=!1;!p&&f.length>0;){d=f.shift();try{p=d.verify(u)}catch(E){}}p||(l={message:"Certificate signature is invalid.",error:s.certificateError.bad_certificate})}null!==l||d&&!h||e.hasCertificate(u)||(l={message:"Certificate is not trusted.",error:s.certificateError.unknown_ca})}if(null===l&&d&&!u.isIssuer(d)&&(l={message:"Certificate issuer is invalid.",error:s.certificateError.bad_certificate}),null===l)for(var m={keyUsage:!0,basicConstraints:!0},g=0;null===l&&g<u.extensions.length;++g){var y=u.extensions[g];y.critical&&!(y.name in m)&&(l={message:"Certificate has an unsupported critical extension.",error:s.certificateError.unsupported_certificate})}if(null===l&&(!o||0===t.length&&(!d||h))){var v=u.getExtension("basicConstraints"),b=u.getExtension("keyUsage");if(null!==b&&(b.keyCertSign&&null!==v||(l={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:s.certificateError.bad_certificate})),null!==l||null===v||v.cA||(l={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:s.certificateError.bad_certificate}),null===l&&null!==b&&"pathLenConstraint"in v)c-1>v.pathLenConstraint&&(l={message:"Certificate basicConstraints pathLenConstraint violated.",error:s.certificateError.bad_certificate})}var w=null===l||l.error,x=n.verify?n.verify(w,c,a):w;if(!0!==x)throw!0===w&&(l={message:"The application rejected the certificate.",error:s.certificateError.bad_certificate}),(x||0===x)&&("object"!==typeof x||r.util.isArray(x)?"string"===typeof x&&(l.error=x):(x.message&&(l.message=x.message),x.error&&(l.error=x.error))),l;l=null,o=!1,++c}while(t.length>0);return!0}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5106:(e,t,n)=>{var r=n(45);n(9353),n(5465),n(2986),n(3225),n(5224),n(9139),n(2795),n(3900),n(4620);var a=r.asn1,s=e.exports=r.pkcs7=r.pkcs7||{};function i(e){var t={},n=[];if(!a.validate(e,s.asn1.recipientInfoValidator,t,n)){var i=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw i.errors=n,i}return{version:t.version.charCodeAt(0),issuer:r.pki.RDNAttributesAsArray(t.issuer),serialNumber:r.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:a.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function o(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:e.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,r.util.hexToBytes(e.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.encryptedContent.algorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function l(e){for(var t=[],n=0;n<e.length;++n)t.push(o(e[n]));return t}function c(e){var t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:e.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,r.util.hexToBytes(e.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.digestAlgorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.signatureAlgorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var n=a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[]),s=0;s<e.unauthenticatedAttributes.length;++s){var i=e.unauthenticatedAttributes[s];n.values.push(u(i))}t.value.push(n)}return t}function u(e){var t;if(e.type===r.pki.oids.contentType)t=a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.value).getBytes());else if(e.type===r.pki.oids.messageDigest)t=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===r.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),s=new Date("2050-01-01T00:00:00Z"),i=e.value;if("string"===typeof i){var o=Date.parse(i);i=isNaN(o)?13===i.length?a.utcTimeToDate(i):a.generalizedTimeToDate(i):new Date(o)}t=i>=n&&i<s?a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(i)):a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(i))}return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.type).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[t])])}function d(e,t,n){var s={};if(!a.validate(t,n,s,[])){var i=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw i.errors=i,i}if(a.derToOid(s.contentType)!==r.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(s.encryptedContent){var o="";if(r.util.isArray(s.encryptedContent))for(var l=0;l<s.encryptedContent.length;++l){if(s.encryptedContent[l].type!==a.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=s.encryptedContent[l].value}else o=s.encryptedContent;e.encryptedContent={algorithm:a.derToOid(s.encAlgorithm),parameter:r.util.createBuffer(s.encParameter.value),content:r.util.createBuffer(o)}}if(s.content){o="";if(r.util.isArray(s.content))for(l=0;l<s.content.length;++l){if(s.content[l].type!==a.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=s.content[l].value}else o=s.content;e.content=r.util.createBuffer(o)}return e.version=s.version.charCodeAt(0),e.rawCapture=s,s}function h(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case r.pki.oids["aes128-CBC"]:case r.pki.oids["aes192-CBC"]:case r.pki.oids["aes256-CBC"]:t=r.aes.createDecryptionCipher(e.encryptedContent.key);break;case r.pki.oids.desCBC:case r.pki.oids["des-EDE3-CBC"]:t=r.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s.messageFromPem=function(e){var t=r.pem.decode(e)[0];if("PKCS7"!==t.type){var n=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var i=a.fromDer(t.body);return s.messageFromAsn1(i)},s.messageToPem=function(e,t){var n={type:"PKCS7",body:a.toDer(e.toAsn1()).getBytes()};return r.pem.encode(n,{maxline:t})},s.messageFromAsn1=function(e){var t={},n=[];if(!a.validate(e,s.asn1.contentInfoValidator,t,n)){var i=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw i.errors=n,i}var o,l=a.derToOid(t.contentType);switch(l){case r.pki.oids.envelopedData:o=s.createEnvelopedData();break;case r.pki.oids.encryptedData:o=s.createEncryptedData();break;case r.pki.oids.signedData:o=s.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+l+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o},s.createSignedData=function(){var e=null;return e={type:r.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(d(e,t,s.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var n=e.rawCapture.certificates.value,a=0;a<n.length;++a)e.certificates.push(r.pki.certificateFromAsn1(n[a]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],n=0;n<e.certificates.length;++n)t.push(r.pki.certificateToAsn1(e.certificates[n]));var s=[],i=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&i.value[0].value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,t)),s.length>0&&i.value[0].value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!0,s)),i.value[0].value.push(a.create(a.Class.UNIVERSAL,a.Type.SET,!0,e.signerInfos)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.type).getBytes()),i])},addSigner:function(t){var n=t.issuer,a=t.serialNumber;if(t.certificate){var s=t.certificate;"string"===typeof s&&(s=r.pki.certificateFromPem(s)),n=s.issuer.attributes,a=s.serialNumber}var i=t.key;if(!i)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"===typeof i&&(i=r.pki.privateKeyFromPem(i));var o=t.digestAlgorithm||r.pki.oids.sha1;switch(o){case r.pki.oids.sha1:case r.pki.oids.sha256:case r.pki.oids.sha384:case r.pki.oids.sha512:case r.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+o)}var l=t.authenticatedAttributes||[];if(l.length>0){for(var c=!1,u=!1,d=0;d<l.length;++d){var h=l[d];if(c||h.type!==r.pki.oids.contentType){if(u||h.type!==r.pki.oids.messageDigest);else if(u=!0,c)break}else if(c=!0,u)break}if(!c||!u)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:i,version:1,issuer:n,serialNumber:a,digestAlgorithm:o,signatureAlgorithm:r.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:l,unauthenticatedAttributes:[]})},sign:function(t){var n;(t=t||{},"object"!==typeof e.content||null===e.contentInfo)&&(e.contentInfo=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(r.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof r.util.ByteBuffer?n=e.content.bytes():"string"===typeof e.content&&(n=r.util.encodeUtf8(e.content)),t.detached?e.detachedContent=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,n):e.contentInfo.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,n)]))));0!==e.signers.length&&function(t){var n;n=e.detachedContent?e.detachedContent:(n=e.contentInfo.value[1]).value[0];if(!n)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=a.derToOid(e.contentInfo.value[0].value),i=a.toDer(n);for(var o in i.getByte(),a.getBerValueLength(i),i=i.getBytes(),t)t[o].start().update(i);for(var l=new Date,d=0;d<e.signers.length;++d){var h=e.signers[d];if(0===h.authenticatedAttributes.length){if(s!==r.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[]),p=0;p<h.authenticatedAttributes.length;++p){var m=h.authenticatedAttributes[p];m.type===r.pki.oids.messageDigest?m.value=t[h.digestAlgorithm].digest():m.type===r.pki.oids.signingTime&&(m.value||(m.value=l)),f.value.push(u(m)),h.authenticatedAttributesAsn1.value.push(u(m))}i=a.toDer(f).getBytes(),h.md.start().update(i)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],n=0;n<e.length;++n)t.push(c(e[n]));return t}(e.signers)}(function(){for(var t={},n=0;n<e.signers.length;++n){var s=e.signers[n];(i=s.digestAlgorithm)in t||(t[i]=r.md[r.pki.oids[i]].create()),0===s.authenticatedAttributes.length?s.md=t[i]:s.md=r.md[r.pki.oids[i]].create()}for(var i in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"===typeof t&&(t=r.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},s.createEncryptedData=function(){var e=null;return e={type:r.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(t){d(e,t,s.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),h(e)}}},s.createEnvelopedData=function(){var e=null;return e={type:r.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(t){var n=d(e,t,s.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],n=0;n<e.length;++n)t.push(i(e[n]));return t}(n.recipientInfos.value)},toAsn1:function(){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.type).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,l(e.recipients)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,(t=e.encryptedContent,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(r.pki.oids.data).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(t.algorithm).getBytes()),t.parameter?a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var n=t.issuer.attributes,r=0;r<e.recipients.length;++r){var a=e.recipients[r],s=a.issuer;if(a.serialNumber===t.serialNumber&&s.length===n.length){for(var i=!0,o=0;o<n.length;++o)if(s[o].type!==n[o].type||s[o].value!==n[o].value){i=!1;break}if(i)return a}}return null},decrypt:function(t,n){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==n)switch(t.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:case r.pki.oids.desCBC:var a=n.decrypt(t.encryptedContent.content);e.encryptedContent.key=r.util.createBuffer(a);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}h(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:r.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,n){if(void 0===e.encryptedContent.content){var a,s,i;switch(n=n||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,n){case r.pki.oids["aes128-CBC"]:a=16,s=16,i=r.aes.createEncryptionCipher;break;case r.pki.oids["aes192-CBC"]:a=24,s=16,i=r.aes.createEncryptionCipher;break;case r.pki.oids["aes256-CBC"]:a=32,s=16,i=r.aes.createEncryptionCipher;break;case r.pki.oids["des-EDE3-CBC"]:a=24,s=8,i=r.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+n)}if(void 0===t)t=r.util.createBuffer(r.random.getBytes(a));else if(t.length()!=a)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+a+".");e.encryptedContent.algorithm=n,e.encryptedContent.key=t,e.encryptedContent.parameter=r.util.createBuffer(r.random.getBytes(s));var o=i(t);if(o.start(e.encryptedContent.parameter.copy()),o.update(e.content),!o.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=o.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(void 0===c.encryptedContent.content){if(c.encryptedContent.algorithm!==r.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm);c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data)}}}}}},5224:(e,t,n)=>{var r=n(45);n(3900);var a=e.exports=r.pem=r.pem||{};function s(e){for(var t=e.name+": ",n=[],r=function(e,t){return" "+t},a=0;a<e.values.length;++a)n.push(e.values[a].replace(/^(\S+\r\n)/,r));t+=n.join(",")+"\r\n";var s=0,i=-1;for(a=0;a<t.length;++a,++s)if(s>65&&-1!==i){var o=t[i];","===o?(++i,t=t.substr(0,i)+"\r\n "+t.substr(i)):t=t.substr(0,i)+"\r\n"+o+t.substr(i+1),s=a-i-1,i=-1,++a}else" "!==t[a]&&"\t"!==t[a]&&","!==t[a]||(i=a);return t}function i(e){return e.replace(/^\s+/,"")}a.encode=function(e,t){t=t||{};var n,a="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(a+=s(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(a+=s(n={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),a+=s(n)),e.headers)for(var i=0;i<e.headers.length;++i)a+=s(e.headers[i]);return e.procType&&(a+="\r\n"),a+=r.util.encode64(e.body,t.maxline||64)+"\r\n",a+="-----END "+e.type+"-----\r\n"},a.decode=function(e){for(var t,n=[],a=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;t=a.exec(e);){var l=t[1];"NEW CERTIFICATE REQUEST"===l&&(l="CERTIFICATE REQUEST");var c={type:l,procType:null,contentDomain:null,dekInfo:null,headers:[],body:r.util.decode64(t[3])};if(n.push(c),t[2]){for(var u=t[2].split(o),d=0;t&&d<u.length;){for(var h=u[d].replace(/\s+$/,""),f=d+1;f<u.length;++f){var p=u[f];if(!/\s/.test(p[0]))break;h+=p,d=f}if(t=h.match(s)){for(var m={name:t[1],values:[]},g=t[2].split(","),y=0;y<g.length;++y)m.values.push(i(g[y]));if(c.procType)if(c.contentDomain||"Content-Domain"!==m.name)if(c.dekInfo||"DEK-Info"!==m.name)c.headers.push(m);else{if(0===m.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:g[0],parameters:g[1]||null}}else c.contentDomain=g[0]||"";else{if("Proc-Type"!==m.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==m.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:g[0],type:g[1]}}}++d}if("ENCRYPTED"===c.procType&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===n.length)throw new Error("Invalid PEM formatted message.");return n}},5465:(e,t,n)=>{var r=n(45);n(3900),n(3225);var a=e.exports=r.asn1=r.asn1||{};function s(e,t,n){if(n>t){var r=new Error("Too few bytes to parse DER.");throw r.available=e.length(),r.remaining=t,r.requested=n,r}}a.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},a.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},a.create=function(e,t,n,s,i){if(r.util.isArray(s)){for(var o=[],l=0;l<s.length;++l)void 0!==s[l]&&o.push(s[l]);s=o}var c={tagClass:e,type:t,constructed:n,composed:n||r.util.isArray(s),value:s};return i&&"bitStringContents"in i&&(c.bitStringContents=i.bitStringContents,c.original=a.copy(c)),c},a.copy=function(e,t){var n;if(r.util.isArray(e)){n=[];for(var s=0;s<e.length;++s)n.push(a.copy(e[s],t));return n}return"string"===typeof e?e:(n={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:a.copy(e.value,t)},t&&!t.excludeBitStringContents&&(n.bitStringContents=e.bitStringContents),n)},a.equals=function(e,t,n){if(r.util.isArray(e)){if(!r.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var s=0;s<e.length;++s)if(!a.equals(e[s],t[s]))return!1;return!0}if(typeof e!==typeof t)return!1;if("string"===typeof e)return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&a.equals(e.value,t.value);return n&&n.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i},a.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};function i(e,t,n,r){var o;s(e,t,2);var l=e.getByte();t--;var c=192&l,u=31&l;o=e.length();var d,h,f=function(e,t){var n=e.getByte();if(t--,128!==n){var r;if(128&n){var a=127&n;s(e,t,a),r=e.getInt(a<<3)}else r=n;if(r<0)throw new Error("Negative length: "+r);return r}}(e,t);if(t-=o-e.length(),void 0!==f&&f>t){if(r.strict){var p=new Error("Too few bytes to read ASN.1 value.");throw p.available=e.length(),p.remaining=t,p.requested=f,p}f=t}var m=32===(32&l);if(m)if(d=[],void 0===f)for(;;){if(s(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}o=e.length(),d.push(i(e,t,n+1,r)),t-=o-e.length()}else for(;f>0;)o=e.length(),d.push(i(e,f,n+1,r)),t-=o-e.length(),f-=o-e.length();if(void 0===d&&c===a.Class.UNIVERSAL&&u===a.Type.BITSTRING&&(h=e.bytes(f)),void 0===d&&r.decodeBitStrings&&c===a.Class.UNIVERSAL&&u===a.Type.BITSTRING&&f>1){var g=e.read,y=t,v=0;if(u===a.Type.BITSTRING&&(s(e,t,1),v=e.getByte(),t--),0===v)try{o=e.length();var b=i(e,t,n+1,{strict:!0,decodeBitStrings:!0}),w=o-e.length();t-=w,u==a.Type.BITSTRING&&w++;var x=b.tagClass;w!==f||x!==a.Class.UNIVERSAL&&x!==a.Class.CONTEXT_SPECIFIC||(d=[b])}catch(C){}void 0===d&&(e.read=g,t=y)}if(void 0===d){if(void 0===f){if(r.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");f=t}if(u===a.Type.BMPSTRING)for(d="";f>0;f-=2)s(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(f),t-=f}var E=void 0===h?null:{bitStringContents:h};return a.create(c,u,m,d,E)}a.fromDer=function(e,t){void 0===t&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"===typeof t&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"===typeof e&&(e=r.util.createBuffer(e));var n=e.length(),a=i(e,e.length(),0,t);if(t.parseAllBytes&&0!==e.length()){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=n,s.remaining=e.length(),s}return a},a.toDer=function(e){var t=r.util.createBuffer(),n=e.tagClass|e.type,s=r.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=a.equals(e,e.original))),i)s.putBytes(e.bitStringContents);else if(e.composed){e.constructed?n|=32:s.putByte(0);for(var o=0;o<e.value.length;++o)void 0!==e.value[o]&&s.putBuffer(a.toDer(e.value[o]))}else if(e.type===a.Type.BMPSTRING)for(o=0;o<e.value.length;++o)s.putInt16(e.value.charCodeAt(o));else e.type===a.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0===(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128===(128&e.value.charCodeAt(1)))?s.putBytes(e.value.substr(1)):s.putBytes(e.value);if(t.putByte(n),s.length()<=127)t.putByte(127&s.length());else{var l=s.length(),c="";do{c+=String.fromCharCode(255&l),l>>>=8}while(l>0);t.putByte(128|c.length);for(o=c.length-1;o>=0;--o)t.putByte(c.charCodeAt(o))}return t.putBuffer(s),t},a.oidToDer=function(e){var t,n,a,s,i=e.split("."),o=r.util.createBuffer();o.putByte(40*parseInt(i[0],10)+parseInt(i[1],10));for(var l=2;l<i.length;++l){t=!0,n=[],a=parseInt(i[l],10);do{s=127&a,a>>>=7,t||(s|=128),n.push(s),t=!1}while(a>0);for(var c=n.length-1;c>=0;--c)o.putByte(n[c])}return o},a.derToOid=function(e){var t;"string"===typeof e&&(e=r.util.createBuffer(e));var n=e.getByte();t=Math.floor(n/40)+"."+n%40;for(var a=0;e.length()>0;)a<<=7,128&(n=e.getByte())?a+=127&n:(t+="."+(a+n),a=0);return t},a.utcTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,2),10);n=n>=50?1900+n:2e3+n;var r=parseInt(e.substr(2,2),10)-1,a=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var l=e.charAt(10),c=10;"+"!==l&&"-"!==l&&(o=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(n,r,a),t.setUTCHours(s,i,o,0),c&&("+"===(l=e.charAt(c))||"-"===l)){var u=60*parseInt(e.substr(c+1,2),10)+parseInt(e.substr(c+4,2),10);u*=6e4,"+"===l?t.setTime(+t-u):t.setTime(+t+u)}return t},a.generalizedTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,4),10),r=parseInt(e.substr(4,2),10)-1,a=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),l=0,c=0,u=!1;"Z"===e.charAt(e.length-1)&&(u=!0);var d=e.length-5,h=e.charAt(d);"+"!==h&&"-"!==h||(c=60*parseInt(e.substr(d+1,2),10)+parseInt(e.substr(d+4,2),10),c*=6e4,"+"===h&&(c*=-1),u=!0);return"."===e.charAt(14)&&(l=1e3*parseFloat(e.substr(14),10)),u?(t.setUTCFullYear(n,r,a),t.setUTCHours(s,i,o,l),t.setTime(+t+c)):(t.setFullYear(n,r,a),t.setHours(s,i,o,l)),t},a.dateToUtcTime=function(e){if("string"===typeof e)return e;var t="",n=[];n.push((""+e.getUTCFullYear()).substr(2)),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r)n[r].length<2&&(t+="0"),t+=n[r];return t+="Z"},a.dateToGeneralizedTime=function(e){if("string"===typeof e)return e;var t="",n=[];n.push(""+e.getUTCFullYear()),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r)n[r].length<2&&(t+="0"),t+=n[r];return t+="Z"},a.integerToDer=function(e){var t=r.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var n=new Error("Integer too large; max is 32-bits.");throw n.integer=e,n},a.derToInteger=function(e){"string"===typeof e&&(e=r.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},a.validate=function(e,t,n,s){var i=!1;if(e.tagClass!==t.tagClass&&"undefined"!==typeof t.tagClass||e.type!==t.type&&"undefined"!==typeof t.type)s&&(e.tagClass!==t.tagClass&&s.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&s.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||"undefined"===typeof t.constructed){if(i=!0,t.value&&r.util.isArray(t.value))for(var o=0,l=0;i&&l<t.value.length;++l)i=t.value[l].optional||!1,e.value[o]&&((i=a.validate(e.value[o],t.value[l],n,s))?++o:t.value[l].optional&&(i=!0)),!i&&s&&s.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&n)if(t.capture&&(n[t.capture]=e.value),t.captureAsn1&&(n[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(n[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)n[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");n[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else s&&s.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return i};var o=/[^\\u0000-\\u00ff]/;a.prettyPrint=function(e,t,n){var s="";n=n||2,(t=t||0)>0&&(s+="\n");for(var i="",l=0;l<t*n;++l)i+=" ";switch(s+=i+"Tag: ",e.tagClass){case a.Class.UNIVERSAL:s+="Universal:";break;case a.Class.APPLICATION:s+="Application:";break;case a.Class.CONTEXT_SPECIFIC:s+="Context-Specific:";break;case a.Class.PRIVATE:s+="Private:"}if(e.tagClass===a.Class.UNIVERSAL)switch(s+=e.type,e.type){case a.Type.NONE:s+=" (None)";break;case a.Type.BOOLEAN:s+=" (Boolean)";break;case a.Type.INTEGER:s+=" (Integer)";break;case a.Type.BITSTRING:s+=" (Bit string)";break;case a.Type.OCTETSTRING:s+=" (Octet string)";break;case a.Type.NULL:s+=" (Null)";break;case a.Type.OID:s+=" (Object Identifier)";break;case a.Type.ODESC:s+=" (Object Descriptor)";break;case a.Type.EXTERNAL:s+=" (External or Instance of)";break;case a.Type.REAL:s+=" (Real)";break;case a.Type.ENUMERATED:s+=" (Enumerated)";break;case a.Type.EMBEDDED:s+=" (Embedded PDV)";break;case a.Type.UTF8:s+=" (UTF8)";break;case a.Type.ROID:s+=" (Relative Object Identifier)";break;case a.Type.SEQUENCE:s+=" (Sequence)";break;case a.Type.SET:s+=" (Set)";break;case a.Type.PRINTABLESTRING:s+=" (Printable String)";break;case a.Type.IA5String:s+=" (IA5String (ASCII))";break;case a.Type.UTCTIME:s+=" (UTC time)";break;case a.Type.GENERALIZEDTIME:s+=" (Generalized time)";break;case a.Type.BMPSTRING:s+=" (BMP String)"}else s+=e.type;if(s+="\n",s+=i+"Constructed: "+e.constructed+"\n",e.composed){var c=0,u="";for(l=0;l<e.value.length;++l)void 0!==e.value[l]&&(c+=1,u+=a.prettyPrint(e.value[l],t+1,n),l+1<e.value.length&&(u+=","));s+=i+"Sub values: "+c+u}else{if(s+=i+"Value: ",e.type===a.Type.OID){var d=a.derToOid(e.value);s+=d,r.pki&&r.pki.oids&&d in r.pki.oids&&(s+=" ("+r.pki.oids[d]+") ")}if(e.type===a.Type.INTEGER)try{s+=a.derToInteger(e.value)}catch(f){s+="0x"+r.util.bytesToHex(e.value)}else if(e.type===a.Type.BITSTRING){if(e.value.length>1?s+="0x"+r.util.bytesToHex(e.value.slice(1)):s+="(none)",e.value.length>0){var h=e.value.charCodeAt(0);1==h?s+=" (1 unused bit shown)":h>1&&(s+=" ("+h+" unused bits shown)")}}else if(e.type===a.Type.OCTETSTRING)o.test(e.value)||(s+="("+e.value+") "),s+="0x"+r.util.bytesToHex(e.value);else if(e.type===a.Type.UTF8)try{s+=r.util.decodeUtf8(e.value)}catch(p){if("URI malformed"!==p.message)throw p;s+="0x"+r.util.bytesToHex(e.value)+" (malformed UTF8)"}else e.type===a.Type.PRINTABLESTRING||e.type===a.Type.IA5String?s+=e.value:o.test(e.value)?s+="0x"+r.util.bytesToHex(e.value):0===e.value.length?s+="[null]":s+=e.value}return s}},5693:(e,t,n)=>{var r=n(45);e.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}},5711:(e,t,n)=>{var r=n(45);n(5465),n(8163),n(6574),n(5224),n(470),n(2795),n(3753),n(3900);var a=function(e,t,n,a){var s=r.util.createBuffer(),i=e.length>>1,o=i+(1&e.length),l=e.substr(0,o),c=e.substr(i,o),u=r.util.createBuffer(),d=r.hmac.create();n=t+n;var h=Math.ceil(a/16),f=Math.ceil(a/20);d.start("MD5",l);var p=r.util.createBuffer();u.putBytes(n);for(var m=0;m<h;++m)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+n),p.putBuffer(d.digest());d.start("SHA1",c);var g=r.util.createBuffer();u.clear(),u.putBytes(n);for(m=0;m<f;++m)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+n),g.putBuffer(d.digest());return s.putBytes(r.util.xorBytes(p.getBytes(),g.getBytes(),a)),s},s=function(e,t,n){var a=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=r.util.createBuffer(s),t.length=s.length,a=!0}catch(i){}return a},i=function(e,t,n){var a=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=r.util.createBuffer(s),t.length=s.length,a=!0}catch(i){}return a},o=function(e,t){var n=0;switch(t){case 1:n=e.getByte();break;case 2:n=e.getInt16();break;case 3:n=e.getInt24();break;case 4:n=e.getInt32()}return r.util.createBuffer(e.getBytes(n))},l=function(e,t,n){e.putInt(n.length(),t<<3),e.putBuffer(n)},c={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};c.SupportedVersions=[c.Versions.TLS_1_1,c.Versions.TLS_1_0],c.Version=c.SupportedVersions[0],c.MaxFragment=15360,c.ConnectionEnd={server:0,client:1},c.PRFAlgorithm={tls_prf_sha256:0},c.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},c.CipherType={stream:0,block:1,aead:2},c.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},c.CompressionMethod={none:0,deflate:1},c.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},c.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},c.Alert={},c.Alert.Level={warning:1,fatal:2},c.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},c.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},c.CipherSuites={},c.getCipherSuite=function(e){var t=null;for(var n in c.CipherSuites){var r=c.CipherSuites[n];if(r.id[0]===e.charCodeAt(0)&&r.id[1]===e.charCodeAt(1)){t=r;break}}return t},c.handleUnexpected=function(e,t){!e.open&&e.entity===c.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})},c.handleHelloRequest=function(e,t,n){!e.handshaking&&e.handshakes>0&&(c.queue(e,c.createAlert(e,{level:c.Alert.Level.warning,description:c.Alert.Description.no_renegotiation})),c.flush(e)),e.process()},c.parseHelloMessage=function(e,t,n){var a=null,s=e.entity===c.ConnectionEnd.client;if(n<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});else{var i=t.fragment,l=i.length();if(a={version:{major:i.getByte(),minor:i.getByte()},random:r.util.createBuffer(i.getBytes(32)),session_id:o(i,1),extensions:[]},s?(a.cipher_suite=i.getBytes(2),a.compression_method=i.getByte()):(a.cipher_suites=o(i,2),a.compression_methods=o(i,1)),(l=n-(l-i.length()))>0){for(var u=o(i,2);u.length()>0;)a.extensions.push({type:[u.getByte(),u.getByte()],data:o(u,2)});if(!s)for(var d=0;d<a.extensions.length;++d){var h=a.extensions[d];if(0===h.type[0]&&0===h.type[1])for(var f=o(h.data,2);f.length()>0;){if(0!==f.getByte())break;e.session.extensions.server_name.serverNameList.push(o(f,2).getBytes())}}}if(e.session.version&&(a.version.major!==e.session.version.major||a.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=c.getCipherSuite(a.cipher_suite);else for(var p=r.util.createBuffer(a.cipher_suites.bytes());p.length()>0&&(e.session.cipherSuite=c.getCipherSuite(p.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure},cipherSuite:r.util.bytesToHex(a.cipher_suite)});e.session.compressionMethod=s?a.compression_method:c.CompressionMethod.none}return a},c.createSecurityParameters=function(e,t){var n=e.entity===c.ConnectionEnd.client,r=t.random.bytes(),a=n?e.session.sp.client_random:r,s=n?r:c.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:c.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:a,server_random:s}},c.handleServerHello=function(e,t,n){var r=c.parseHelloMessage(e,t,n);if(!e.fail){if(!(r.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});e.version.minor=r.version.minor,e.session.version=e.version;var a=r.session_id.bytes();a.length>0&&a===e.session.id?(e.expect=p,e.session.resuming=!0,e.session.sp.server_random=r.random.bytes()):(e.expect=u,e.session.resuming=!1,c.createSecurityParameters(e,r)),e.session.id=a,e.process()}},c.handleClientHello=function(e,t,n){var a=c.parseHelloMessage(e,t,n);if(!e.fail){var s=a.session_id.bytes(),i=null;if(e.sessionCache&&(null===(i=e.sessionCache.getSession(s))?s="":(i.version.major!==a.version.major||i.version.minor>a.version.minor)&&(i=null,s="")),0===s.length&&(s=r.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=a.version,e.session.sp={},i)e.version=e.session.version=i.version,e.session.sp=i.sp;else{for(var o,l=1;l<c.SupportedVersions.length&&!((o=c.SupportedVersions[l]).minor<=a.version.minor);++l);e.version={major:o.major,minor:o.minor},e.session.version=e.version}null!==i?(e.expect=x,e.session.resuming=!0,e.session.sp.client_random=a.random.bytes()):(e.expect=!1!==e.verifyClient?v:b,e.session.resuming=!1,c.createSecurityParameters(e,a)),e.open=!0,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createServerHello(e)})),e.session.resuming?(c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.pending=c.createConnectionState(e),e.state.current.write=e.state.pending.write,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)}))):(c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificate(e)})),e.fail||(c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createServerKeyExchange(e)})),!1!==e.verifyClient&&c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificateRequest(e)})),c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createServerHelloDone(e)})))),c.flush(e),e.process()}},c.handleCertificate=function(e,t,n){if(n<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var a,s,i=t.fragment,l={certificate_list:o(i,3)},u=[];try{for(;l.certificate_list.length()>0;)a=o(l.certificate_list,3),s=r.asn1.fromDer(a),a=r.pki.certificateFromAsn1(s,!0),u.push(a)}catch(f){return e.error(e,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var h=e.entity===c.ConnectionEnd.client;!h&&!0!==e.verifyClient||0!==u.length?0===u.length?e.expect=h?d:b:(h?e.session.serverCertificate=u[0]:e.session.clientCertificate=u[0],c.verifyCertificateChain(e,u)&&(e.expect=h?d:b)):e.error(e,{message:h?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}}),e.process()},c.handleServerKeyExchange=function(e,t,n){if(n>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});e.expect=h,e.process()},c.handleClientKeyExchange=function(e,t,n){if(n<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});var a=t.fragment,s={enc_pre_master_secret:o(a,2).getBytes()},i=null;if(e.getPrivateKey)try{i=e.getPrivateKey(e,e.session.serverCertificate),i=r.pki.privateKeyFromPem(i)}catch(d){e.error(e,{message:"Could not get private key.",cause:d,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}if(null===i)return e.error(e,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}});try{var l=e.session.sp;l.pre_master_secret=i.decrypt(s.enc_pre_master_secret);var u=e.session.clientHelloVersion;if(u.major!==l.pre_master_secret.charCodeAt(0)||u.minor!==l.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(d){l.pre_master_secret=r.random.getBytes(48)}e.expect=x,null!==e.session.clientCertificate&&(e.expect=w),e.process()},c.handleCertificateRequest=function(e,t,n){if(n<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var r=t.fragment,a={certificate_types:o(r,1),certificate_authorities:o(r,2)};e.session.certificateRequest=a,e.expect=f,e.process()},c.handleCertificateVerify=function(e,t,n){if(n<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var a=t.fragment;a.read-=4;var s=a.bytes();a.read+=4;var i={signature:o(a,2).getBytes()},l=r.util.createBuffer();l.putBuffer(e.session.md5.digest()),l.putBuffer(e.session.sha1.digest()),l=l.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(l,i.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch(u){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure}})}e.expect=x,e.process()},c.handleServerHelloDone=function(e,t,n){if(n>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.record_overflow}});if(null===e.serverCertificate){var a={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.insufficient_security}},s=e.verify(e,a.alert.description,0,[]);if(!0!==s)return(s||0===s)&&("object"!==typeof s||r.util.isArray(s)?"number"===typeof s&&(a.alert.description=s):(s.message&&(a.message=s.message),s.alert&&(a.alert.description=s.alert))),e.error(e,a)}null!==e.session.certificateRequest&&(t=c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificate(e)}),c.queue(e,t)),t=c.createRecord(e,{type:c.ContentType.handshake,data:c.createClientKeyExchange(e)}),c.queue(e,t),e.expect=y;var i=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createCertificateVerify(e,t)})),c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.pending=c.createConnectionState(e),e.state.current.write=e.state.pending.write,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)})),e.expect=p,c.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return i(e,null);c.getClientSignature(e,i)},c.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});var n=e.entity===c.ConnectionEnd.client;(e.session.resuming&&n||!e.session.resuming&&!n)&&(e.state.pending=c.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&n||e.session.resuming&&!n)&&(e.state.pending=null),e.expect=n?m:E,e.process()},c.handleFinished=function(e,t,n){var s=t.fragment;s.read-=4;var i=s.bytes();s.read+=4;var o=t.fragment.getBytes();(s=r.util.createBuffer()).putBuffer(e.session.md5.digest()),s.putBuffer(e.session.sha1.digest());var l=e.entity===c.ConnectionEnd.client,u=l?"server finished":"client finished",d=e.session.sp;if((s=a(d.master_secret,u,s.getBytes(),12)).getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&l||!e.session.resuming&&!l)&&(c.queue(e,c.createRecord(e,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,c.queue(e,c.createRecord(e,{type:c.ContentType.handshake,data:c.createFinished(e)}))),e.expect=l?g:C,e.handshaking=!1,++e.handshakes,e.peerCertificate=l?e.session.serverCertificate:e.session.clientCertificate,c.flush(e),e.isConnected=!0,e.connected(e),e.process()},c.handleAlert=function(e,t){var n,r=t.fragment,a={level:r.getByte(),description:r.getByte()};switch(a.description){case c.Alert.Description.close_notify:n="Connection closed.";break;case c.Alert.Description.unexpected_message:n="Unexpected message.";break;case c.Alert.Description.bad_record_mac:n="Bad record MAC.";break;case c.Alert.Description.decryption_failed:n="Decryption failed.";break;case c.Alert.Description.record_overflow:n="Record overflow.";break;case c.Alert.Description.decompression_failure:n="Decompression failed.";break;case c.Alert.Description.handshake_failure:n="Handshake failure.";break;case c.Alert.Description.bad_certificate:n="Bad certificate.";break;case c.Alert.Description.unsupported_certificate:n="Unsupported certificate.";break;case c.Alert.Description.certificate_revoked:n="Certificate revoked.";break;case c.Alert.Description.certificate_expired:n="Certificate expired.";break;case c.Alert.Description.certificate_unknown:n="Certificate unknown.";break;case c.Alert.Description.illegal_parameter:n="Illegal parameter.";break;case c.Alert.Description.unknown_ca:n="Unknown certificate authority.";break;case c.Alert.Description.access_denied:n="Access denied.";break;case c.Alert.Description.decode_error:n="Decode error.";break;case c.Alert.Description.decrypt_error:n="Decrypt error.";break;case c.Alert.Description.export_restriction:n="Export restriction.";break;case c.Alert.Description.protocol_version:n="Unsupported protocol version.";break;case c.Alert.Description.insufficient_security:n="Insufficient security.";break;case c.Alert.Description.internal_error:n="Internal error.";break;case c.Alert.Description.user_canceled:n="User canceled.";break;case c.Alert.Description.no_renegotiation:n="Renegotiation not supported.";break;default:n="Unknown error."}if(a.description===c.Alert.Description.close_notify)return e.close();e.error(e,{message:n,send:!1,origin:e.entity===c.ConnectionEnd.client?"server":"client",alert:a}),e.process()},c.handleHandshake=function(e,t){var n=t.fragment,a=n.getByte(),s=n.getInt24();if(s>n.length())return e.fragmented=t,t.fragment=r.util.createBuffer(),n.read-=4,e.process();e.fragmented=null,n.read-=4;var i=n.bytes(s+4);n.read+=4,a in U[e.entity][e.expect]?(e.entity!==c.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:r.md.md5.create(),sha1:r.md.sha1.create()}),a!==c.HandshakeType.hello_request&&a!==c.HandshakeType.certificate_verify&&a!==c.HandshakeType.finished&&(e.session.md5.update(i),e.session.sha1.update(i)),U[e.entity][e.expect][a](e,t,s)):c.handleUnexpected(e,t)},c.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},c.handleHeartbeat=function(e,t){var n=t.fragment,a=n.getByte(),s=n.getInt16(),i=n.getBytes(s);if(a===c.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>i.length)return e.process();c.queue(e,c.createRecord(e,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_response,i)})),c.flush(e)}else if(a===c.HeartbeatMessageType.heartbeat_response){if(i!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,r.util.createBuffer(i))}e.process()};var u=1,d=2,h=3,f=4,p=5,m=6,g=7,y=8,v=1,b=2,w=3,x=4,E=5,C=6,A=c.handleUnexpected,S=c.handleChangeCipherSpec,N=c.handleAlert,k=c.handleHandshake,T=c.handleApplicationData,I=c.handleHeartbeat,B=[];B[c.ConnectionEnd.client]=[[A,N,k,A,I],[A,N,k,A,I],[A,N,k,A,I],[A,N,k,A,I],[A,N,k,A,I],[S,N,A,A,I],[A,N,k,A,I],[A,N,k,T,I],[A,N,k,A,I]],B[c.ConnectionEnd.server]=[[A,N,k,A,I],[A,N,k,A,I],[A,N,k,A,I],[A,N,k,A,I],[S,N,A,A,I],[A,N,k,A,I],[A,N,k,T,I],[A,N,k,A,I]];var R=c.handleHelloRequest,j=c.handleServerHello,P=c.handleCertificate,L=c.handleServerKeyExchange,D=c.handleCertificateRequest,O=c.handleServerHelloDone,_=c.handleFinished,U=[];U[c.ConnectionEnd.client]=[[A,A,j,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[R,A,A,A,A,A,A,A,A,A,A,P,L,D,O,A,A,A,A,A,A],[R,A,A,A,A,A,A,A,A,A,A,A,L,D,O,A,A,A,A,A,A],[R,A,A,A,A,A,A,A,A,A,A,A,A,D,O,A,A,A,A,A,A],[R,A,A,A,A,A,A,A,A,A,A,A,A,A,O,A,A,A,A,A,A],[R,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[R,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,_],[R,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[R,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A]];var M=c.handleClientHello,F=c.handleClientKeyExchange,V=c.handleCertificateVerify;U[c.ConnectionEnd.server]=[[A,M,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,P,A,A,A,A,A,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,F,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,V,A,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,_],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A]],c.generateKeys=function(e,t){var n=a,r=t.client_random+t.server_random;e.session.resuming||(t.master_secret=n(t.pre_master_secret,"master secret",r,48).bytes(),t.pre_master_secret=null),r=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,i=e.version.major===c.Versions.TLS_1_0.major&&e.version.minor===c.Versions.TLS_1_0.minor;i&&(s+=2*t.fixed_iv_length);var o=n(t.master_secret,"key expansion",r,s),l={client_write_MAC_key:o.getBytes(t.mac_key_length),server_write_MAC_key:o.getBytes(t.mac_key_length),client_write_key:o.getBytes(t.enc_key_length),server_write_key:o.getBytes(t.enc_key_length)};return i&&(l.client_write_IV=o.getBytes(t.fixed_iv_length),l.server_write_IV=o.getBytes(t.fixed_iv_length)),l},c.createConnectionState=function(e){var t=e.entity===c.ConnectionEnd.client,n=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},r={read:n(),write:n()};if(r.read.update=function(e,t){return r.read.cipherFunction(t,r.read)?r.read.compressFunction(e,t,r.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_record_mac}}),!e.fail},r.write.update=function(e,t){return r.write.compressFunction(e,t,r.write)?r.write.cipherFunction(t,r.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}),!e.fail},e.session){var a=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(a),a.keys=c.generateKeys(e,a),r.read.macKey=t?a.keys.server_write_MAC_key:a.keys.client_write_MAC_key,r.write.macKey=t?a.keys.client_write_MAC_key:a.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(r,e,a),a.compression_algorithm){case c.CompressionMethod.none:break;case c.CompressionMethod.deflate:r.read.compressFunction=i,r.write.compressFunction=s;break;default:throw new Error("Unsupported compression algorithm.")}}return r},c.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),n=r.util.createBuffer();return n.putInt32(t),n.putBytes(r.random.getBytes(28)),n},c.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},c.createAlert=function(e,t){var n=r.util.createBuffer();return n.putByte(t.level),n.putByte(t.description),c.createRecord(e,{type:c.ContentType.alert,data:n})},c.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=r.util.createBuffer(),n=0;n<e.cipherSuites.length;++n){var a=e.cipherSuites[n];t.putByte(a.id[0]),t.putByte(a.id[1])}var s=t.length(),i=r.util.createBuffer();i.putByte(c.CompressionMethod.none);var o=i.length(),u=r.util.createBuffer();if(e.virtualHost){var d=r.util.createBuffer();d.putByte(0),d.putByte(0);var h=r.util.createBuffer();h.putByte(0),l(h,2,r.util.createBuffer(e.virtualHost));var f=r.util.createBuffer();l(f,2,h),l(d,2,f),u.putBuffer(d)}var p=u.length();p>0&&(p+=2);var m=e.session.id,g=m.length+1+2+4+28+2+s+1+o+p,y=r.util.createBuffer();return y.putByte(c.HandshakeType.client_hello),y.putInt24(g),y.putByte(e.version.major),y.putByte(e.version.minor),y.putBytes(e.session.sp.client_random),l(y,1,r.util.createBuffer(m)),l(y,2,t),l(y,1,i),p>0&&l(y,2,u),y},c.createServerHello=function(e){var t=e.session.id,n=t.length+1+2+4+28+2+1,a=r.util.createBuffer();return a.putByte(c.HandshakeType.server_hello),a.putInt24(n),a.putByte(e.version.major),a.putByte(e.version.minor),a.putBytes(e.session.sp.server_random),l(a,1,r.util.createBuffer(t)),a.putByte(e.session.cipherSuite.id[0]),a.putByte(e.session.cipherSuite.id[1]),a.putByte(e.session.compressionMethod),a},c.createCertificate=function(e){var t,n=e.entity===c.ConnectionEnd.client,a=null;e.getCertificate&&(t=n?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,a=e.getCertificate(e,t));var s=r.util.createBuffer();if(null!==a)try{r.util.isArray(a)||(a=[a]);for(var i=null,o=0;o<a.length;++o){var u=r.pem.decode(a[o])[0];if("CERTIFICATE"!==u.type&&"X509 CERTIFICATE"!==u.type&&"TRUSTED CERTIFICATE"!==u.type){var d=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw d.headerType=u.type,d}if(u.procType&&"ENCRYPTED"===u.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var h=r.util.createBuffer(u.body);null===i&&(i=r.asn1.fromDer(h.bytes(),!1));var f=r.util.createBuffer();l(f,3,h),s.putBuffer(f)}a=r.pki.certificateFromAsn1(i),n?e.session.clientCertificate=a:e.session.serverCertificate=a}catch(g){return e.error(e,{message:"Could not send certificate list.",cause:g,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}var p=3+s.length(),m=r.util.createBuffer();return m.putByte(c.HandshakeType.certificate),m.putInt24(p),l(m,3,s),m},c.createClientKeyExchange=function(e){var t=r.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(r.random.getBytes(46));var n=e.session.sp;n.pre_master_secret=t.getBytes();var a=(t=e.session.serverCertificate.publicKey.encrypt(n.pre_master_secret)).length+2,s=r.util.createBuffer();return s.putByte(c.HandshakeType.client_key_exchange),s.putInt24(a),s.putInt16(t.length),s.putBytes(t),s},c.createServerKeyExchange=function(e){var t=r.util.createBuffer();return t},c.getClientSignature=function(e,t){var n=r.util.createBuffer();n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest()),n=n.getBytes(),e.getSignature=e.getSignature||function(e,t,n){var a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.clientCertificate),a=r.pki.privateKeyFromPem(a)}catch(s){e.error(e,{message:"Could not get private key.",cause:s,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}null===a?e.error(e,{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):t=a.sign(t,null),n(e,t)},e.getSignature(e,n,t)},c.createCertificateVerify=function(e,t){var n=t.length+2,a=r.util.createBuffer();return a.putByte(c.HandshakeType.certificate_verify),a.putInt24(n),a.putInt16(t.length),a.putBytes(t),a},c.createCertificateRequest=function(e){var t=r.util.createBuffer();t.putByte(1);var n=r.util.createBuffer();for(var a in e.caStore.certs){var s=e.caStore.certs[a],i=r.pki.distinguishedNameToAsn1(s.subject),o=r.asn1.toDer(i);n.putInt16(o.length()),n.putBuffer(o)}var u=1+t.length()+2+n.length(),d=r.util.createBuffer();return d.putByte(c.HandshakeType.certificate_request),d.putInt24(u),l(d,1,t),l(d,2,n),d},c.createServerHelloDone=function(e){var t=r.util.createBuffer();return t.putByte(c.HandshakeType.server_hello_done),t.putInt24(0),t},c.createChangeCipherSpec=function(){var e=r.util.createBuffer();return e.putByte(1),e},c.createFinished=function(e){var t=r.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var n=e.entity===c.ConnectionEnd.client,s=e.session.sp,i=n?"client finished":"server finished";t=a(s.master_secret,i,t.getBytes(),12);var o=r.util.createBuffer();return o.putByte(c.HandshakeType.finished),o.putInt24(t.length()),o.putBuffer(t),o},c.createHeartbeat=function(e,t,n){"undefined"===typeof n&&(n=t.length);var a=r.util.createBuffer();a.putByte(e),a.putInt16(n),a.putBytes(t);var s=a.length(),i=Math.max(16,s-n-3);return a.putBytes(r.random.getBytes(i)),a},c.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==c.ContentType.handshake&&t.type!==c.ContentType.alert&&t.type!==c.ContentType.change_cipher_spec)){if(t.type===c.ContentType.handshake){var n=t.fragment.bytes();e.session.md5.update(n),e.session.sha1.update(n),n=null}var a;if(t.fragment.length()<=c.MaxFragment)a=[t];else{a=[];for(var s=t.fragment.bytes();s.length>c.MaxFragment;)a.push(c.createRecord(e,{type:t.type,data:r.util.createBuffer(s.slice(0,c.MaxFragment))})),s=s.slice(c.MaxFragment);s.length>0&&a.push(c.createRecord(e,{type:t.type,data:r.util.createBuffer(s)}))}for(var i=0;i<a.length&&!e.fail;++i){var o=a[i];e.state.current.write.update(e,o)&&e.records.push(o)}}},c.flush=function(e){for(var t=0;t<e.records.length;++t){var n=e.records[t];e.tlsData.putByte(n.type),e.tlsData.putByte(n.version.major),e.tlsData.putByte(n.version.minor),e.tlsData.putInt16(n.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var z=function(e){switch(e){case!0:return!0;case r.pki.certificateError.bad_certificate:return c.Alert.Description.bad_certificate;case r.pki.certificateError.unsupported_certificate:return c.Alert.Description.unsupported_certificate;case r.pki.certificateError.certificate_revoked:return c.Alert.Description.certificate_revoked;case r.pki.certificateError.certificate_expired:return c.Alert.Description.certificate_expired;case r.pki.certificateError.certificate_unknown:return c.Alert.Description.certificate_unknown;case r.pki.certificateError.unknown_ca:return c.Alert.Description.unknown_ca;default:return c.Alert.Description.bad_certificate}};for(var K in c.verifyCertificateChain=function(e,t){try{var n={};for(var a in e.verifyOptions)n[a]=e.verifyOptions[a];n.verify=function(t,n,a){z(t);var s=e.verify(e,t,n,a);if(!0!==s){if("object"===typeof s&&!r.util.isArray(s)){var i=new Error("The application rejected the certificate.");throw i.send=!0,i.alert={level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate},s.message&&(i.message=s.message),s.alert&&(i.alert.description=s.alert),i}s!==t&&(s=function(e){switch(e){case!0:return!0;case c.Alert.Description.bad_certificate:return r.pki.certificateError.bad_certificate;case c.Alert.Description.unsupported_certificate:return r.pki.certificateError.unsupported_certificate;case c.Alert.Description.certificate_revoked:return r.pki.certificateError.certificate_revoked;case c.Alert.Description.certificate_expired:return r.pki.certificateError.certificate_expired;case c.Alert.Description.certificate_unknown:return r.pki.certificateError.certificate_unknown;case c.Alert.Description.unknown_ca:return r.pki.certificateError.unknown_ca;default:return r.pki.certificateError.bad_certificate}}(s))}return s},r.pki.verifyCertificateChain(e.caStore,t,n)}catch(i){var s=i;("object"!==typeof s||r.util.isArray(s))&&(s={send:!0,alert:{level:c.Alert.Level.fatal,description:z(i)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:c.Alert.Level.fatal,description:z(s.error)}),e.error(e,s)}return!e.fail},c.createSessionCache=function(e,t){var n=null;if(e&&e.getSession&&e.setSession&&e.order)n=e;else{for(var a in(n={}).cache=e||{},n.capacity=Math.max(t||100,1),n.order=[],e)n.order.length<=t?n.order.push(a):delete e[a];n.getSession=function(e){var t=null,a=null;if(e?a=r.util.bytesToHex(e):n.order.length>0&&(a=n.order[0]),null!==a&&a in n.cache)for(var s in t=n.cache[a],delete n.cache[a],n.order)if(n.order[s]===a){n.order.splice(s,1);break}return t},n.setSession=function(e,t){if(n.order.length===n.capacity){var a=n.order.shift();delete n.cache[a]}a=r.util.bytesToHex(e);n.order.push(a),n.cache[a]=t}}return n},c.createConnection=function(e){var t=null;t=e.caStore?r.util.isArray(e.caStore)?r.pki.createCaStore(e.caStore):e.caStore:r.pki.createCaStore();var n=e.cipherSuites||null;if(null===n)for(var a in n=[],c.CipherSuites)n.push(c.CipherSuites[a]);var s=e.server?c.ConnectionEnd.server:c.ConnectionEnd.client,i=e.sessionCache?c.createSessionCache(e.sessionCache):null,o={version:{major:c.Version.major,minor:c.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:i,cipherSuites:n,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,n,r){return t},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:r.util.createBuffer(),tlsData:r.util.createBuffer(),data:r.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,n){n.origin=n.origin||(t.entity===c.ConnectionEnd.client?"client":"server"),n.send&&(c.queue(t,c.createAlert(t,n.alert)),c.flush(t));var r=!1!==n.fatal;r&&(t.fail=!0),e.error(t,n),r&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){o.version={major:c.Version.major,minor:c.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=(o.entity,c.ConnectionEnd.client,0),o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(e||"undefined"===typeof e),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=c.createConnectionState(o)}};o.reset();return o.handshake=function(e){if(o.entity!==c.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&0===o.handshakes&&(o.fail=!1),o.handshaking=!0;var t=null;(e=e||"").length>0&&(o.sessionCache&&(t=o.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&o.sessionCache&&null!==(t=o.sessionCache.getSession())&&(e=t.id),o.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:r.md.md5.create(),sha1:r.md.sha1.create()},t&&(o.version=t.version,o.session.sp=t.sp),o.session.sp.client_random=c.createRandom().getBytes(),o.open=!0,c.queue(o,c.createRecord(o,{type:c.ContentType.handshake,data:c.createClientHello(o)})),c.flush(o)}},o.process=function(e){var t=0;return e&&o.input.putBytes(e),o.fail||(null!==o.record&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),null===o.record&&(t=function(e){var t=0,n=e.input,a=n.length();if(a<5)t=5-a;else{e.record={type:n.getByte(),version:{major:n.getByte(),minor:n.getByte()},length:n.getInt16(),fragment:r.util.createBuffer(),ready:!1};var s=e.record.version.major===e.version.major;s&&e.session&&e.session.version&&(s=e.record.version.minor===e.version.minor),s||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}})}return t}(o)),o.fail||null===o.record||o.record.ready||(t=function(e){var t=0,n=e.input,r=n.length();return r<e.record.length?t=e.record.length-r:(e.record.fragment.putBytes(n.getBytes(e.record.length)),n.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})),e.record.ready=!0)),t}(o)),!o.fail&&null!==o.record&&o.record.ready&&function(e,t){var n=t.type-c.ContentType.change_cipher_spec,r=B[e.entity][e.expect];n in r?r[n](e,t):c.handleUnexpected(e,t)}(o,o.record)),t},o.prepare=function(e){return c.queue(o,c.createRecord(o,{type:c.ContentType.application_data,data:r.util.createBuffer(e)})),c.flush(o)},o.prepareHeartbeatRequest=function(e,t){return e instanceof r.util.ByteBuffer&&(e=e.bytes()),"undefined"===typeof t&&(t=e.length),o.expectedHeartbeatPayload=e,c.queue(o,c.createRecord(o,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_request,e,t)})),c.flush(o)},o.close=function(e){if(!o.fail&&o.sessionCache&&o.session){var t={id:o.session.id,version:o.session.version,sp:o.session.sp};t.sp.keys=null,o.sessionCache.setSession(t.id,t)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,c.queue(o,c.createAlert(o,{level:c.Alert.Level.warning,description:c.Alert.Description.close_notify})),c.flush(o)),o.closed(o)),o.reset(e)},o},e.exports=r.tls=r.tls||{},c)"function"!==typeof c[K]&&(r.tls[K]=c[K]);r.tls.prf_tls1=a,r.tls.hmac_sha1=function(e,t,n){var a=r.hmac.create();a.start("SHA1",e);var s=r.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(n.type),s.putByte(n.version.major),s.putByte(n.version.minor),s.putInt16(n.length),s.putBytes(n.fragment.bytes()),a.update(s.getBytes()),a.digest().getBytes()},r.tls.createSessionCache=c.createSessionCache,r.tls.createConnection=c.createConnection},6266:(e,t,n)=>{"use strict";n.d(t,{rsaKeyManager:()=>i});var r=n(434),a=n.n(r);class s{constructor(){this.keyPair=null}static getInstance(){return s.instance||(s.instance=new s),s.instance}generateKeyPair(){const e=a().pki.rsa.generateKeyPair(2048),t=a().pki.privateKeyToPem(e.privateKey),n=a().pki.publicKeyToPem(e.publicKey);return this.keyPair={privateKey:t,publicKey:n},localStorage.setItem("blockvault_rsa_keys",JSON.stringify(this.keyPair)),this.keyPair}getKeyPair(){if(this.keyPair)return this.keyPair;const e=localStorage.getItem("blockvault_rsa_keys");if(e)try{return this.keyPair=JSON.parse(e),this.keyPair}catch(t){console.error("Failed to parse stored RSA keys:",t),localStorage.removeItem("blockvault_rsa_keys")}return null}hasKeyPair(){return null!==this.getKeyPair()}clearKeyPair(){this.keyPair=null,localStorage.removeItem("blockvault_rsa_keys")}getPublicKey(){const e=this.getKeyPair();return e?e.publicKey:null}getPrivateKey(){const e=this.getKeyPair();return e?e.privateKey:null}}s.instance=void 0;const i=s.getInstance()},6407:e=>{var t={};e.exports=t;var n={};t.encode=function(e,t,n){if("string"!==typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==n&&"number"!==typeof n)throw new TypeError('"maxline" must be a number.');var r="";if(e instanceof Uint8Array){var a=0,s=t.length,i=t.charAt(0),o=[0];for(a=0;a<e.length;++a){for(var l=0,c=e[a];l<o.length;++l)c+=o[l]<<8,o[l]=c%s,c=c/s|0;for(;c>0;)o.push(c%s),c=c/s|0}for(a=0;0===e[a]&&a<e.length-1;++a)r+=i;for(a=o.length-1;a>=0;--a)r+=t[o[a]]}else r=function(e,t){var n=0,r=t.length,a=t.charAt(0),s=[0];for(n=0;n<e.length();++n){for(var i=0,o=e.at(n);i<s.length;++i)o+=s[i]<<8,s[i]=o%r,o=o/r|0;for(;o>0;)s.push(o%r),o=o/r|0}var l="";for(n=0;0===e.at(n)&&n<e.length()-1;++n)l+=a;for(n=s.length-1;n>=0;--n)l+=t[s[n]];return l}(e,t);if(n){var u=new RegExp(".{1,"+n+"}","g");r=r.match(u).join("\r\n")}return r},t.decode=function(e,t){if("string"!==typeof e)throw new TypeError('"input" must be a string.');if("string"!==typeof t)throw new TypeError('"alphabet" must be a string.');var r=n[t];if(!r){r=n[t]=[];for(var a=0;a<t.length;++a)r[t.charCodeAt(a)]=a}e=e.replace(/\s/g,"");var s=t.length,i=t.charAt(0),o=[0];for(a=0;a<e.length;a++){var l=r[e.charCodeAt(a)];if(void 0===l)return;for(var c=0,u=l;c<o.length;++c)u+=o[c]*s,o[c]=255&u,u>>=8;for(;u>0;)o.push(255&u),u>>=8}for(var d=0;e[d]===i&&d<e.length-1;++d)o.push(0);return"undefined"!==typeof Buffer?Buffer.from(o.reverse()):new Uint8Array(o.reverse())}},6574:(e,t,n)=>{var r=n(45);n(5693),n(3900);var a=e.exports=r.md5=r.md5||{};r.md.md5=r.md.algorithms.md5=a,a.create=function(){c||function(){s=String.fromCharCode(128),s+=r.util.fillString(String.fromCharCode(0),64),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],o=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],l=new Array(64);for(var e=0;e<64;++e)l[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));c=!0}();var e=null,t=r.util.createBuffer(),n=new Array(16),a={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var n=a.messageLengthSize/4,s=0;s<n;++s)a.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},a}};return a.start(),a.update=function(s,i){"utf8"===i&&(s=r.util.encodeUtf8(s));var o=s.length;a.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=o[1],o[1]=o[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(s),u(e,n,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var i=r.util.createBuffer();i.putBytes(t.bytes());var o=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;i.putBytes(s.substr(0,a.blockLength-o));for(var l,c=0,d=a.fullMessageLength.length-1;d>=0;--d)c=(l=8*a.fullMessageLength[d]+c)/4294967296>>>0,i.putInt32Le(l>>>0);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};u(h,n,i);var f=r.util.createBuffer();return f.putInt32Le(h.h0),f.putInt32Le(h.h1),f.putInt32Le(h.h2),f.putInt32Le(h.h3),f},a};var s=null,i=null,o=null,l=null,c=!1;function u(e,t,n){for(var r,a,s,c,u,d,h,f=n.length();f>=64;){for(a=e.h0,s=e.h1,c=e.h2,u=e.h3,h=0;h<16;++h)t[h]=n.getInt32Le(),r=a+(u^s&(c^u))+l[h]+t[h],a=u,u=c,c=s,s+=r<<(d=o[h])|r>>>32-d;for(;h<32;++h)r=a+(c^u&(s^c))+l[h]+t[i[h]],a=u,u=c,c=s,s+=r<<(d=o[h])|r>>>32-d;for(;h<48;++h)r=a+(s^c^u)+l[h]+t[i[h]],a=u,u=c,c=s,s+=r<<(d=o[h])|r>>>32-d;for(;h<64;++h)r=a+(c^(s|~u))+l[h]+t[i[h]],a=u,u=c,c=s,s+=r<<(d=o[h])|r>>>32-d;e.h0=e.h0+a|0,e.h1=e.h1+s|0,e.h2=e.h2+c|0,e.h3=e.h3+u|0,f-=64}}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,P(E);else{var t=r(u);null!==t&&L(x,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),w(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,A=!1,S=null,N=-1,k=5,T=-1;function I(){return!(t.unstable_now()-T<k)}function B(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?C():(A=!1,S=null)}}else A=!1}if("function"===typeof b)C=function(){b(B)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,j=R.port2;R.port1.onmessage=B,C=function(){j.postMessage(null)}}else C=function(){y(B,0)};function P(e){S=e,A||(A=!0,C())}function L(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(N),N=-1):g=!0,L(x,s-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7668:(e,t,n)=>{var r=n(45);n(3900),n(2795),n(3753);var a=e.exports=r.pkcs1=r.pkcs1||{};function s(e,t,n){n||(n=r.md.sha1.create());for(var a="",s=Math.ceil(t/n.digestLength),i=0;i<s;++i){var o=String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,255&i);n.start(),n.update(e+o),a+=n.digest().getBytes()}return a.substring(0,t)}a.encode_rsa_oaep=function(e,t,n){var a,i,o,l;"string"===typeof n?(a=n,i=arguments[3]||void 0,o=arguments[4]||void 0):n&&(a=n.label||void 0,i=n.seed||void 0,o=n.md||void 0,n.mgf1&&n.mgf1.md&&(l=n.mgf1.md)),o?o.start():o=r.md.sha1.create(),l||(l=o);var c=Math.ceil(e.n.bitLength()/8),u=c-2*o.digestLength-2;if(t.length>u)throw(g=new Error("RSAES-OAEP input message length is too long.")).length=t.length,g.maxLength=u,g;a||(a=""),o.update(a,"raw");for(var d=o.digest(),h="",f=u-t.length,p=0;p<f;p++)h+="\0";var m=d.getBytes()+h+"\x01"+t;if(i){if(i.length!==o.digestLength){var g;throw(g=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=i.length,g.digestLength=o.digestLength,g}}else i=r.random.getBytes(o.digestLength);var y=s(i,c-o.digestLength-1,l),v=r.util.xorBytes(m,y,m.length),b=s(v,o.digestLength,l);return"\0"+r.util.xorBytes(i,b,i.length)+v},a.decode_rsa_oaep=function(e,t,n){var a,i,o;"string"===typeof n?(a=n,i=arguments[3]||void 0):n&&(a=n.label||void 0,i=n.md||void 0,n.mgf1&&n.mgf1.md&&(o=n.mgf1.md));var l=Math.ceil(e.n.bitLength()/8);if(t.length!==l)throw(y=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,y.expectedLength=l,y;if(void 0===i?i=r.md.sha1.create():i.start(),o||(o=i),l<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");a||(a=""),i.update(a,"raw");for(var c=i.digest().getBytes(),u=t.charAt(0),d=t.substring(1,i.digestLength+1),h=t.substring(1+i.digestLength),f=s(h,i.digestLength,o),p=s(r.util.xorBytes(d,f,d.length),l-i.digestLength-1,o),m=r.util.xorBytes(h,p,h.length),g=m.substring(0,i.digestLength),y="\0"!==u,v=0;v<i.digestLength;++v)y|=c.charAt(v)!==g.charAt(v);for(var b=1,w=i.digestLength,x=i.digestLength;x<m.length;x++){var E=m.charCodeAt(x);y|=E&(b?65534:0),w+=b&=1&E^1}if(y||1!==m.charCodeAt(w))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(w+1)}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8009:(e,t,n)=>{var r=n(45);n(8163),n(5693),n(3900);var a,s=r.pkcs5=r.pkcs5||{};r.util.isNodejs&&!r.options.usePureJavaScript&&(a=n(310)),e.exports=r.pbkdf2=s.pbkdf2=function(e,t,n,s,i,o){if("function"===typeof i&&(o=i,i=null),r.util.isNodejs&&!r.options.usePureJavaScript&&a.pbkdf2&&(null===i||"object"!==typeof i)&&(a.pbkdf2Sync.length>4||!i||"sha1"===i))return"string"!==typeof i&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),o?4===a.pbkdf2Sync.length?a.pbkdf2(e,t,n,s,function(e,t){if(e)return o(e);o(null,t.toString("binary"))}):a.pbkdf2(e,t,n,s,i,function(e,t){if(e)return o(e);o(null,t.toString("binary"))}):4===a.pbkdf2Sync.length?a.pbkdf2Sync(e,t,n,s).toString("binary"):a.pbkdf2Sync(e,t,n,s,i).toString("binary");if("undefined"!==typeof i&&null!==i||(i="sha1"),"string"===typeof i){if(!(i in r.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=r.md[i].create()}var l=i.digestLength;if(s>4294967295*l){var c=new Error("Derived key is too long.");if(o)return o(c);throw c}var u=Math.ceil(s/l),d=s-(u-1)*l,h=r.hmac.create();h.start(i,e);var f,p,m,g="";if(!o){for(var y=1;y<=u;++y){h.start(null,null),h.update(t),h.update(r.util.int32ToBytes(y)),f=m=h.digest().getBytes();for(var v=2;v<=n;++v)h.start(null,null),h.update(m),p=h.digest().getBytes(),f=r.util.xorBytes(f,p,l),m=p;g+=y<u?f:f.substr(0,d)}return g}y=1;function b(){if(y>u)return o(null,g);h.start(null,null),h.update(t),h.update(r.util.int32ToBytes(y)),f=m=h.digest().getBytes(),v=2,w()}function w(){if(v<=n)return h.start(null,null),h.update(m),p=h.digest().getBytes(),f=r.util.xorBytes(f,p,l),m=p,++v,r.util.setImmediate(w);g+=y<u?f:f.substr(0,d),++y,b()}b()}},8138:(e,t,n)=>{var r=n(45);n(5693),n(3900);var a=e.exports=r.sha512=r.sha512||{};r.md.sha512=r.md.algorithms.sha512=a;var s=r.sha384=r.sha512.sha384=r.sha512.sha384||{};s.create=function(){return a.create("SHA-384")},r.md.sha384=r.md.algorithms.sha384=s,r.sha512.sha256=r.sha512.sha256||{create:function(){return a.create("SHA-512/256")}},r.md["sha512/256"]=r.md.algorithms["sha512/256"]=r.sha512.sha256,r.sha512.sha224=r.sha512.sha224||{create:function(){return a.create("SHA-512/224")}},r.md["sha512/224"]=r.md.algorithms["sha512/224"]=r.sha512.sha224,a.create=function(e){if(o||(i=String.fromCharCode(128),i+=r.util.fillString(String.fromCharCode(0),128),l=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(c={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],o=!0),"undefined"===typeof e&&(e="SHA-512"),!(e in c))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=c[e],n=null,a=r.util.createBuffer(),s=new Array(80),d=0;d<80;++d)s[d]=new Array(2);var h=64;switch(e){case"SHA-384":h=48;break;case"SHA-512/256":h=32;break;case"SHA-512/224":h=28}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:h,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var e=f.messageLengthSize/4,s=0;s<e;++s)f.fullMessageLength.push(0);a=r.util.createBuffer(),n=new Array(t.length);for(s=0;s<t.length;++s)n[s]=t[s].slice(0);return f}};return f.start(),f.update=function(e,t){"utf8"===t&&(e=r.util.encodeUtf8(e));var i=e.length;f.messageLength+=i,i=[i/4294967296>>>0,i>>>0];for(var o=f.fullMessageLength.length-1;o>=0;--o)f.fullMessageLength[o]+=i[1],i[1]=i[0]+(f.fullMessageLength[o]/4294967296>>>0),f.fullMessageLength[o]=f.fullMessageLength[o]>>>0,i[0]=i[1]/4294967296>>>0;return a.putBytes(e),u(n,s,a),(a.read>2048||0===a.length())&&a.compact(),f},f.digest=function(){var t=r.util.createBuffer();t.putBytes(a.bytes());var o,l=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize&f.blockLength-1;t.putBytes(i.substr(0,f.blockLength-l));for(var c=8*f.fullMessageLength[0],d=0;d<f.fullMessageLength.length-1;++d)c+=(o=8*f.fullMessageLength[d+1])/4294967296>>>0,t.putInt32(c>>>0),c=o>>>0;t.putInt32(c);var h=new Array(n.length);for(d=0;d<n.length;++d)h[d]=n[d].slice(0);u(h,s,t);var p,m=r.util.createBuffer();p="SHA-512"===e?h.length:"SHA-384"===e?h.length-2:h.length-4;for(d=0;d<p;++d)m.putInt32(h[d][0]),d===p-1&&"SHA-512/224"===e||m.putInt32(h[d][1]);return m},f};var i=null,o=!1,l=null,c=null;function u(e,t,n){for(var r,a,s,i,o,c,u,d,h,f,p,m,g,y,v,b,w,x,E,C,A,S,N,k,T,I,B,R,j,P,L,D,O,_=n.length();_>=128;){for(B=0;B<16;++B)t[B][0]=n.getInt32()>>>0,t[B][1]=n.getInt32()>>>0;for(;B<80;++B)r=(((R=(P=t[B-2])[0])>>>19|(j=P[1])<<13)^(j>>>29|R<<3)^R>>>6)>>>0,a=((R<<13|j>>>19)^(j<<3|R>>>29)^(R<<26|j>>>6))>>>0,s=(((R=(D=t[B-15])[0])>>>1|(j=D[1])<<31)^(R>>>8|j<<24)^R>>>7)>>>0,i=((R<<31|j>>>1)^(R<<24|j>>>8)^(R<<25|j>>>7))>>>0,L=t[B-7],O=t[B-16],j=a+L[1]+i+O[1],t[B][0]=r+L[0]+s+O[0]+(j/4294967296>>>0)>>>0,t[B][1]=j>>>0;for(p=e[0][0],m=e[0][1],g=e[1][0],y=e[1][1],v=e[2][0],b=e[2][1],w=e[3][0],x=e[3][1],E=e[4][0],C=e[4][1],A=e[5][0],S=e[5][1],N=e[6][0],k=e[6][1],T=e[7][0],I=e[7][1],B=0;B<80;++B)u=((E>>>14|C<<18)^(E>>>18|C<<14)^(C>>>9|E<<23))>>>0,d=(N^E&(A^N))>>>0,o=((p>>>28|m<<4)^(m>>>2|p<<30)^(m>>>7|p<<25))>>>0,c=((p<<4|m>>>28)^(m<<30|p>>>2)^(m<<25|p>>>7))>>>0,h=(p&g|v&(p^g))>>>0,f=(m&y|b&(m^y))>>>0,j=I+(((E<<18|C>>>14)^(E<<14|C>>>18)^(C<<23|E>>>9))>>>0)+((k^C&(S^k))>>>0)+l[B][1]+t[B][1],r=T+u+d+l[B][0]+t[B][0]+(j/4294967296>>>0)>>>0,a=j>>>0,s=o+h+((j=c+f)/4294967296>>>0)>>>0,i=j>>>0,T=N,I=k,N=A,k=S,A=E,S=C,E=w+r+((j=x+a)/4294967296>>>0)>>>0,C=j>>>0,w=v,x=b,v=g,b=y,g=p,y=m,p=r+s+((j=a+i)/4294967296>>>0)>>>0,m=j>>>0;j=e[0][1]+m,e[0][0]=e[0][0]+p+(j/4294967296>>>0)>>>0,e[0][1]=j>>>0,j=e[1][1]+y,e[1][0]=e[1][0]+g+(j/4294967296>>>0)>>>0,e[1][1]=j>>>0,j=e[2][1]+b,e[2][0]=e[2][0]+v+(j/4294967296>>>0)>>>0,e[2][1]=j>>>0,j=e[3][1]+x,e[3][0]=e[3][0]+w+(j/4294967296>>>0)>>>0,e[3][1]=j>>>0,j=e[4][1]+C,e[4][0]=e[4][0]+E+(j/4294967296>>>0)>>>0,e[4][1]=j>>>0,j=e[5][1]+S,e[5][0]=e[5][0]+A+(j/4294967296>>>0)>>>0,e[5][1]=j>>>0,j=e[6][1]+k,e[6][0]=e[6][0]+N+(j/4294967296>>>0)>>>0,e[6][1]=j>>>0,j=e[7][1]+I,e[7][0]=e[7][0]+T+(j/4294967296>>>0)>>>0,e[7][1]=j>>>0,_-=128}}},8163:(e,t,n)=>{var r=n(45);n(5693),n(3900),(e.exports=r.hmac=r.hmac||{}).create=function(){var e=null,t=null,n=null,a=null,s={start:function(s,i){if(null!==s)if("string"===typeof s){if(!((s=s.toLowerCase())in r.md.algorithms))throw new Error('Unknown hash algorithm "'+s+'"');t=r.md.algorithms[s].create()}else t=s;if(null===i)i=e;else{if("string"===typeof i)i=r.util.createBuffer(i);else if(r.util.isArray(i)){var o=i;i=r.util.createBuffer();for(var l=0;l<o.length;++l)i.putByte(o[l])}var c=i.length();c>t.blockLength&&(t.start(),t.update(i.bytes()),i=t.digest()),n=r.util.createBuffer(),a=r.util.createBuffer(),c=i.length();for(l=0;l<c;++l){o=i.at(l);n.putByte(54^o),a.putByte(92^o)}if(c<t.blockLength)for(o=t.blockLength-c,l=0;l<o;++l)n.putByte(54),a.putByte(92);e=i,n=n.bytes(),a=a.bytes()}t.start(),t.update(n)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(a),t.update(e),t.digest()}};return s.digest=s.getMac,s}},8353:(e,t,n)=>{var r=n(45);n(3900),n(9463),n(2795),function(){if(r.prime)e.exports=r.prime;else{var t=e.exports=r.prime=r.prime||{},n=r.jsbn.BigInteger,a=[6,4,2,4,2,4,6,2],s=new n(null);s.fromInt(30);var i=function(e,t){return e|t};t.generateProbablePrime=function(e,t,a){"function"===typeof t&&(a=t,t={});var s=(t=t||{}).algorithm||"PRIMEINC";"string"===typeof s&&(s={name:s}),s.options=s.options||{};var i=t.prng||r.random,l={nextBytes:function(e){for(var t=i.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n)}};if("PRIMEINC"===s.name)return function(e,t,a,s){if("workers"in a)return function(e,t,a,s){if("undefined"===typeof Worker)return o(e,t,a,s);var i=c(e,t),l=a.workers,u=a.workLoad||100,d=30*u/8,h=a.workerScript||"forge/prime.worker.js";if(-1===l)return r.util.estimateCores(function(e,t){e&&(t=2),l=t-1,f()});function f(){l=Math.max(1,l);for(var r=[],a=0;a<l;++a)r[a]=new Worker(h);for(a=0;a<l;++a)r[a].addEventListener("message",f);var o=!1;function f(a){if(!o){0;var l=a.data;if(l.found){for(var h=0;h<r.length;++h)r[h].terminate();return o=!0,s(null,new n(l.prime,16))}i.bitLength()>e&&(i=c(e,t));var f=i.toString(16);a.target.postMessage({hex:f,workLoad:u}),i.dAddOffset(d,0)}}}f()}(e,t,a,s);return o(e,t,a,s)}(e,l,s.options,a);throw new Error("Invalid prime generation algorithm: "+s.name)}}function o(e,t,n,r){var a=c(e,t),s=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(a.bitLength());"millerRabinTests"in n&&(s=n.millerRabinTests);var i=10;"maxBlockTime"in n&&(i=n.maxBlockTime),l(a,e,t,0,s,i,r)}function l(e,t,n,s,i,o,u){var d=+new Date;do{if(e.bitLength()>t&&(e=c(t,n)),e.isProbablePrime(i))return u(null,e);e.dAddOffset(a[s++%8],0)}while(o<0||+new Date-d<o);r.util.setImmediate(function(){l(e,t,n,s,i,o,u)})}function c(e,t){var r=new n(e,t),a=e-1;return r.testBit(a)||r.bitwiseTo(n.ONE.shiftLeft(a),i,r),r.dAddOffset(31-r.mod(s).byteValue(),0),r}}()},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9139:(e,t,n)=>{var r=n(45);n(5465),n(3900);var a=r.asn1,s=e.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{},r.pkcs7.asn1=s;var i={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};s.contentInfoValidator=i;var o={name:"EncryptedContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};s.envelopedDataValidator={name:"EnvelopedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},s.encryptedDataValidator={name:"EncryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var l={name:"SignerInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};s.signedDataValidator={name:"SignedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},i,{name:"SignedData.Certificates",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,capture:"signerInfos",optional:!0,value:[l]}]},s.recipientInfoValidator={name:"RecipientInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},9151:(e,t,n)=>{var r=n(45);n(3900),e.exports=r.cipher=r.cipher||{},r.cipher.algorithms=r.cipher.algorithms||{},r.cipher.createCipher=function(e,t){var n=e;if("string"===typeof n&&(n=r.cipher.getAlgorithm(n))&&(n=n()),!n)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:n,key:t,decrypt:!1})},r.cipher.createDecipher=function(e,t){var n=e;if("string"===typeof n&&(n=r.cipher.getAlgorithm(n))&&(n=n()),!n)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:n,key:t,decrypt:!0})},r.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),r.cipher.algorithms[e]=t},r.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in r.cipher.algorithms?r.cipher.algorithms[e]:null};var a=r.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};a.prototype.start=function(e){e=e||{};var t={};for(var n in e)t[n]=e[n];t.decrypt=this._decrypt,this._finish=!1,this._input=r.util.createBuffer(),this.output=e.output||r.util.createBuffer(),this.mode.start(t)},a.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},a.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},9190:(e,t,n)=>{var r=n(45);n(5465);var a=r.asn1;t.privateKeyValidator={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},t.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},9353:(e,t,n)=>{var r=n(45);function a(e,t){r.cipher.registerAlgorithm(e,function(){return new r.aes.Algorithm(e,t)})}n(9151),n(1655),n(3900),e.exports=r.aes=r.aes||{},r.aes.startEncrypting=function(e,t,n,r){var a=m({key:e,output:n,decrypt:!1,mode:r});return a.start(t),a},r.aes.createEncryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!1,mode:t})},r.aes.startDecrypting=function(e,t,n,r){var a=m({key:e,output:n,decrypt:!0,mode:r});return a.start(t),a},r.aes.createDecryptionCipher=function(e,t){return m({key:e,output:null,decrypt:!0,mode:t})},r.aes.Algorithm=function(e,t){u||h();var n=this;n.name=e,n.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return p(n._w,e,t,!1)},decrypt:function(e,t){return p(n._w,e,t,!0)}}}),n._init=!1},r.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,n=e.key;if("string"!==typeof n||16!==n.length&&24!==n.length&&32!==n.length){if(r.util.isArray(n)&&(16===n.length||24===n.length||32===n.length)){t=n,n=r.util.createBuffer();for(var a=0;a<t.length;++a)n.putByte(t[a])}}else n=r.util.createBuffer(n);if(!r.util.isArray(n)){t=n,n=[];var s=t.length();if(16===s||24===s||32===s){s>>>=2;for(a=0;a<s;++a)n.push(t.getInt32())}}if(!r.util.isArray(n)||4!==n.length&&6!==n.length&&8!==n.length)throw new Error("Invalid key parameter.");var i=this.mode.name,o=-1!==["CFB","OFB","CTR","GCM"].indexOf(i);this._w=f(n,e.decrypt&&!o),this._init=!0}},r.aes._expandKey=function(e,t){return u||h(),f(e,t)},r.aes._updateBlock=p,a("AES-ECB",r.cipher.modes.ecb),a("AES-CBC",r.cipher.modes.cbc),a("AES-CFB",r.cipher.modes.cfb),a("AES-OFB",r.cipher.modes.ofb),a("AES-CTR",r.cipher.modes.ctr),a("AES-GCM",r.cipher.modes.gcm);var s,i,o,l,c,u=!1,d=4;function h(){u=!0,o=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;s=new Array(256),i=new Array(256),l=new Array(4),c=new Array(4);for(t=0;t<4;++t)l[t]=new Array(256),c[t]=new Array(256);var n,r,a,d,h,f,p,m=0,g=0;for(t=0;t<256;++t){d=(d=g^g<<1^g<<2^g<<3^g<<4)>>8^255&d^99,s[m]=d,i[d]=m,f=(h=e[d])<<24^d<<16^d<<8^d^h,p=((n=e[m])^(r=e[n])^(a=e[r]))<<24^(m^a)<<16^(m^r^a)<<8^m^n^a;for(var y=0;y<4;++y)l[y][m]=f,c[y][d]=p,f=f<<24|f>>>8,p=p<<24|p>>>8;0===m?m=g=1:(m=n^e[e[e[n^a]]],g^=e[e[g]])}}function f(e,t){for(var n,r=e.slice(0),a=1,i=r.length,l=d*(i+6+1),u=i;u<l;++u)n=r[u-1],u%i===0?(n=s[n>>>16&255]<<24^s[n>>>8&255]<<16^s[255&n]<<8^s[n>>>24]^o[a]<<24,a++):i>6&&u%i===4&&(n=s[n>>>24]<<24^s[n>>>16&255]<<16^s[n>>>8&255]<<8^s[255&n]),r[u]=r[u-i]^n;if(t){for(var h,f=c[0],p=c[1],m=c[2],g=c[3],y=r.slice(0),v=(u=0,(l=r.length)-d);u<l;u+=d,v-=d)if(0===u||u===l-d)y[u]=r[v],y[u+1]=r[v+3],y[u+2]=r[v+2],y[u+3]=r[v+1];else for(var b=0;b<d;++b)h=r[v+b],y[u+(3&-b)]=f[s[h>>>24]]^p[s[h>>>16&255]]^m[s[h>>>8&255]]^g[s[255&h]];r=y}return r}function p(e,t,n,r){var a,o,u,d,h,f,p,m,g,y,v,b,w=e.length/4-1;r?(a=c[0],o=c[1],u=c[2],d=c[3],h=i):(a=l[0],o=l[1],u=l[2],d=l[3],h=s),f=t[0]^e[0],p=t[r?3:1]^e[1],m=t[2]^e[2],g=t[r?1:3]^e[3];for(var x=3,E=1;E<w;++E)y=a[f>>>24]^o[p>>>16&255]^u[m>>>8&255]^d[255&g]^e[++x],v=a[p>>>24]^o[m>>>16&255]^u[g>>>8&255]^d[255&f]^e[++x],b=a[m>>>24]^o[g>>>16&255]^u[f>>>8&255]^d[255&p]^e[++x],g=a[g>>>24]^o[f>>>16&255]^u[p>>>8&255]^d[255&m]^e[++x],f=y,p=v,m=b;n[0]=h[f>>>24]<<24^h[p>>>16&255]<<16^h[m>>>8&255]<<8^h[255&g]^e[++x],n[r?3:1]=h[p>>>24]<<24^h[m>>>16&255]<<16^h[g>>>8&255]<<8^h[255&f]^e[++x],n[2]=h[m>>>24]<<24^h[g>>>16&255]<<16^h[f>>>8&255]<<8^h[255&p]^e[++x],n[r?1:3]=h[g>>>24]<<24^h[f>>>16&255]<<16^h[p>>>8&255]<<8^h[255&m]^e[++x]}function m(e){var t,n="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),a=(t=e.decrypt?r.cipher.createDecipher(n,e.key):r.cipher.createCipher(n,e.key)).start;return t.start=function(e,n){var s=null;n instanceof r.util.ByteBuffer&&(s=n,n={}),(n=n||{}).output=s,n.iv=e,a.call(t,n)},t}},9408:(e,t,n)=>{var r=n(45);if(n(5465),n(9463),n(3225),n(7668),n(8353),n(2795),n(3900),"undefined"===typeof a)var a=r.jsbn.BigInteger;var s=r.util.isNodejs?n(310):null,i=r.asn1,o=r.util;r.pki=r.pki||{},e.exports=r.pki.rsa=r.rsa=r.rsa||{};var l=r.pki,c=[6,4,2,4,2,4,6,2],u={name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h={name:"RSAPublicKey",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f=r.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},p={name:"DigestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},m=function(e){var t;if(!(e.algorithm in l.oids)){var n=new Error("Unknown message digest algorithm.");throw n.algorithm=e.algorithm,n}t=l.oids[e.algorithm];var r=i.oidToDer(t).getBytes(),a=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);s.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,r)),s.value.push(i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,""));var o=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.digest().getBytes());return a.value.push(s),a.value.push(o),i.toDer(a).getBytes()},g=function(e,t,n){if(n)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var s;t.dP||(t.dP=t.d.mod(t.p.subtract(a.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(a.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{s=new a(r.util.bytesToHex(r.random.getBytes(t.n.bitLength()/8)),16)}while(s.compareTo(t.n)>=0||!s.gcd(t.n).equals(a.ONE));for(var i=(e=e.multiply(s.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(o)<0;)i=i.add(t.p);var l=i.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return l=l.multiply(s.modInverse(t.n)).mod(t.n)};function y(e,t,n){var a=r.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var i=new Error("Message is too long for PKCS#1 v1.5 padding.");throw i.length=e.length,i.max=s-11,i}a.putByte(0),a.putByte(n);var o,l=s-3-e.length;if(0===n||1===n){o=0===n?0:255;for(var c=0;c<l;++c)a.putByte(o)}else for(;l>0;){var u=0,d=r.random.getBytes(l);for(c=0;c<l;++c)0===(o=d.charCodeAt(c))?++u:a.putByte(o);l=u}return a.putByte(0),a.putBytes(e),a}function v(e,t,n,a){var s=Math.ceil(t.n.bitLength()/8),i=r.util.createBuffer(e),o=i.getByte(),l=i.getByte();if(0!==o||n&&0!==l&&1!==l||!n&&2!=l||n&&0===l&&"undefined"===typeof a)throw new Error("Encryption block is invalid.");var c=0;if(0===l){c=s-3-a;for(var u=0;u<c;++u)if(0!==i.getByte())throw new Error("Encryption block is invalid.")}else if(1===l)for(c=0;i.length()>1;){if(255!==i.getByte()){--i.read;break}++c}else if(2===l)for(c=0;i.length()>1;){if(0===i.getByte()){--i.read;break}++c}if(0!==i.getByte()||c!==s-3-i.length())throw new Error("Encryption block is invalid.");return i.getBytes()}function b(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var n=r.util.hexToBytes(t);return n.length>1&&(0===n.charCodeAt(0)&&0===(128&n.charCodeAt(1))||255===n.charCodeAt(0)&&128===(128&n.charCodeAt(1)))?n.substr(1):n}function w(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function x(e){return r.util.isNodejs&&"function"===typeof s[e]}function E(e){return"undefined"!==typeof o.globalScope&&"object"===typeof o.globalScope.crypto&&"object"===typeof o.globalScope.crypto.subtle&&"function"===typeof o.globalScope.crypto.subtle[e]}function C(e){return"undefined"!==typeof o.globalScope&&"object"===typeof o.globalScope.msCrypto&&"object"===typeof o.globalScope.msCrypto.subtle&&"function"===typeof o.globalScope.msCrypto.subtle[e]}function A(e){for(var t=r.util.hexToBytes(e.toString(16)),n=new Uint8Array(t.length),a=0;a<t.length;++a)n[a]=t.charCodeAt(a);return n}l.rsa.encrypt=function(e,t,n){var s,i=n,o=Math.ceil(t.n.bitLength()/8);!1!==n&&!0!==n?(i=2===n,s=y(e,t,n)):(s=r.util.createBuffer()).putBytes(e);for(var l=new a(s.toHex(),16),c=g(l,t,i).toString(16),u=r.util.createBuffer(),d=o-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(r.util.hexToBytes(c)),u.getBytes()},l.rsa.decrypt=function(e,t,n,s){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=i,o}var l=new a(r.util.createBuffer(e).toHex(),16);if(l.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=g(l,t,n).toString(16),u=r.util.createBuffer(),d=i-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(r.util.hexToBytes(c)),!1!==s?v(u.getBytes(),t,n):u.getBytes()},l.rsa.createKeyPairGenerationState=function(e,t,n){"string"===typeof e&&(e=parseInt(e,10)),e=e||2048;var s,i=(n=n||{}).prng||r.random,o={nextBytes:function(e){for(var t=i.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n)}},l=n.algorithm||"PRIMEINC";if("PRIMEINC"!==l)throw new Error("Invalid key generation algorithm: "+l);return(s={algorithm:l,state:0,bits:e,rng:o,eInt:t||65537,e:new a(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(s.eInt),s},l.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var n=new a(null);n.fromInt(30);for(var r,s=0,i=function(e,t){return e|t},o=+new Date,u=0;null===e.keys&&(t<=0||u<t);){if(0===e.state){var d=null===e.p?e.pBits:e.qBits,h=d-1;0===e.pqState?(e.num=new a(d,e.rng),e.num.testBit(h)||e.num.bitwiseTo(a.ONE.shiftLeft(h),i,e.num),e.num.dAddOffset(31-e.num.mod(n).byteValue(),0),s=0,++e.pqState):1===e.pqState?e.num.bitLength()>d?e.pqState=0:e.num.isProbablePrime(w(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(c[s++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(a.ONE).gcd(e.e).compareTo(a.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(a.ONE),e.q1=e.q.subtract(a.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(a.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var f=e.e.modInverse(e.phi);e.keys={privateKey:l.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:l.rsa.setPublicKey(e.n,e.e)}}u+=(r=+new Date)-o,o=r}return null!==e.keys},l.rsa.generateKeyPair=function(e,t,n,c){if(1===arguments.length?"object"===typeof e?(n=e,e=void 0):"function"===typeof e&&(c=e,e=void 0):2===arguments.length?"number"===typeof e?"function"===typeof t?(c=t,t=void 0):"number"!==typeof t&&(n=t,t=void 0):(n=e,c=t,e=void 0,t=void 0):3===arguments.length&&("number"===typeof t?"function"===typeof n&&(c=n,n=void 0):(c=n,n=t,t=void 0)),n=n||{},void 0===e&&(e=n.bits||2048),void 0===t&&(t=n.e||65537),!r.options.usePureJavaScript&&!n.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(c){if(x("generateKeyPair"))return s.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(e,t,n){if(e)return c(e);c(null,{privateKey:l.privateKeyFromPem(n),publicKey:l.publicKeyFromPem(t)})});if(E("generateKey")&&E("exportKey"))return o.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:A(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return o.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)}).then(void 0,function(e){c(e)}).then(function(e){if(e){var t=l.privateKeyFromAsn1(i.fromDer(r.util.createBuffer(e)));c(null,{privateKey:t,publicKey:l.setRsaPublicKey(t.n,t.e)})}});if(C("generateKey")&&C("exportKey")){var u=o.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:A(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return u.oncomplete=function(e){var t=e.target.result,n=o.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);n.oncomplete=function(e){var t=e.target.result,n=l.privateKeyFromAsn1(i.fromDer(r.util.createBuffer(t)));c(null,{privateKey:n,publicKey:l.setRsaPublicKey(n.n,n.e)})},n.onerror=function(e){c(e)}},void(u.onerror=function(e){c(e)})}}else if(x("generateKeyPairSync")){var d=s.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:l.privateKeyFromPem(d.privateKey),publicKey:l.publicKeyFromPem(d.publicKey)}}var h=l.rsa.createKeyPairGenerationState(e,t,n);if(!c)return l.rsa.stepKeyPairGenerationState(h,0),h.keys;!function(e,t,n){"function"===typeof t&&(n=t,t={});t=t||{};var s={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(s.prng=t.prng);function i(){o(e.pBits,function(t,r){return t?n(t):(e.p=r,null!==e.q?c(t,e.q):void o(e.qBits,c))})}function o(e,t){r.prime.generateProbablePrime(e,s,t)}function c(t,r){if(t)return n(t);if(e.q=r,e.p.compareTo(e.q)<0){var s=e.p;e.p=e.q,e.q=s}if(0!==e.p.subtract(a.ONE).gcd(e.e).compareTo(a.ONE))return e.p=null,void i();if(0!==e.q.subtract(a.ONE).gcd(e.e).compareTo(a.ONE))return e.q=null,void o(e.qBits,c);if(e.p1=e.p.subtract(a.ONE),e.q1=e.q.subtract(a.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(a.ONE))return e.p=e.q=null,void i();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void o(e.qBits,c);var u=e.e.modInverse(e.phi);e.keys={privateKey:l.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:l.rsa.setPublicKey(e.n,e.e)},n(null,e.keys)}i()}(h,n,c)},l.setRsaPublicKey=l.rsa.setPublicKey=function(e,t){var n={n:e,e:t,encrypt:function(e,t,a){if("string"===typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,n){return y(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return r.pkcs1.encode_rsa_oaep(t,e,a)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"===typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var s=t.encode(e,n,!0);return l.rsa.encrypt(s,n,!0)},verify:function(e,t,a,s){"string"===typeof a?a=a.toUpperCase():void 0===a&&(a="RSASSA-PKCS1-V1_5"),void 0===s&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===a?a={verify:function(e,t){t=v(t,n,!0);var a=i.fromDer(t,{parseAllBytes:s._parseAllDigestBytes}),o={},l=[];if(!i.validate(a,p,o,l))throw(c=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=l,c;var c,u=i.derToOid(o.algorithmIdentifier);if(u!==r.oids.md2&&u!==r.oids.md5&&u!==r.oids.sha1&&u!==r.oids.sha224&&u!==r.oids.sha256&&u!==r.oids.sha384&&u!==r.oids.sha512&&u!==r.oids["sha512-224"]&&u!==r.oids["sha512-256"])throw(c=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=u,c;if((u===r.oids.md2||u===r.oids.md5)&&!("parameters"in o))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return e===o.digest}}:"NONE"!==a&&"NULL"!==a&&null!==a||(a={verify:function(e,t){return e===(t=v(t,n,!0))}});var o=l.rsa.decrypt(t,n,!0,!1);return a.verify(e,o,n.n.bitLength())}};return n},l.setRsaPrivateKey=l.rsa.setPrivateKey=function(e,t,n,a,s,i,o,c){var u={n:e,e:t,d:n,p:a,q:s,dP:i,dQ:o,qInv:c,decrypt:function(e,t,n){"string"===typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var a=l.rsa.decrypt(e,u,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:v};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return r.pkcs1.decode_rsa_oaep(t,e,n)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(a,u,!1)},sign:function(e,t){var n=!1;"string"===typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:m},n=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},n=1);var r=t.encode(e,u.n.bitLength());return l.rsa.encrypt(r,u,n)}};return u},l.wrapRsaPrivateKey=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(0).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(l.oids.rsaEncryption).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(e).getBytes())])},l.privateKeyFromAsn1=function(e){var t,n,s,o,c,h,f,p,m={},g=[];if(i.validate(e,u,m,g)&&(e=i.fromDer(r.util.createBuffer(m.privateKey))),m={},g=[],!i.validate(e,d,m,g)){var y=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw y.errors=g,y}return t=r.util.createBuffer(m.privateKeyModulus).toHex(),n=r.util.createBuffer(m.privateKeyPublicExponent).toHex(),s=r.util.createBuffer(m.privateKeyPrivateExponent).toHex(),o=r.util.createBuffer(m.privateKeyPrime1).toHex(),c=r.util.createBuffer(m.privateKeyPrime2).toHex(),h=r.util.createBuffer(m.privateKeyExponent1).toHex(),f=r.util.createBuffer(m.privateKeyExponent2).toHex(),p=r.util.createBuffer(m.privateKeyCoefficient).toHex(),l.setRsaPrivateKey(new a(t,16),new a(n,16),new a(s,16),new a(o,16),new a(c,16),new a(h,16),new a(f,16),new a(p,16))},l.privateKeyToAsn1=l.privateKeyToRSAPrivateKey=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(0).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,b(e.n)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,b(e.e)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,b(e.d)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,b(e.p)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,b(e.q)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,b(e.dP)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,b(e.dQ)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,b(e.qInv))])},l.publicKeyFromAsn1=function(e){var t={},n=[];if(i.validate(e,f,t,n)){var s,o=i.derToOid(t.publicKeyOid);if(o!==l.oids.rsaEncryption)throw(s=new Error("Cannot read public key. Unknown OID.")).oid=o,s;e=t.rsaPublicKey}if(n=[],!i.validate(e,h,t,n))throw(s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=n,s;var c=r.util.createBuffer(t.publicKeyModulus).toHex(),u=r.util.createBuffer(t.publicKeyExponent).toHex();return l.setRsaPublicKey(new a(c,16),new a(u,16))},l.publicKeyToAsn1=l.publicKeyToSubjectPublicKeyInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(l.oids.rsaEncryption).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,[l.publicKeyToRSAPublicKey(e)])])},l.publicKeyToRSAPublicKey=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,b(e.n)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,b(e.e))])}},9463:(e,t,n)=>{var r,a=n(45);e.exports=a.jsbn=a.jsbn||{};function s(e,t,n){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function i(){return new s(null)}function o(e,t,n,r,a,s){for(var i=16383&t,o=t>>14;--s>=0;){var l=16383&this.data[e],c=this.data[e++]>>14,u=o*l+c*i;a=((l=i*l+((16383&u)<<14)+n.data[r]+a)>>28)+(u>>14)+o*c,n.data[r++]=268435455&l}return a}a.jsbn.BigInteger=s,"undefined"===typeof navigator?(s.prototype.am=o,r=28):"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=function(e,t,n,r,a,s){for(var i=32767&t,o=t>>15;--s>=0;){var l=32767&this.data[e],c=this.data[e++]>>15,u=o*l+c*i;a=((l=i*l+((32767&u)<<15)+n.data[r]+(1073741823&a))>>>30)+(u>>>15)+o*c+(a>>>30),n.data[r++]=1073741823&l}return a},r=30):"Netscape"!=navigator.appName?(s.prototype.am=function(e,t,n,r,a,s){for(;--s>=0;){var i=t*this.data[e++]+n.data[r]+a;a=Math.floor(i/67108864),n.data[r++]=67108863&i}return a},r=26):(s.prototype.am=o,r=28),s.prototype.DB=r,s.prototype.DM=(1<<r)-1,s.prototype.DV=1<<r;s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-r,s.prototype.F2=2*r-52;var l,c,u=new Array;for(l="0".charCodeAt(0),c=0;c<=9;++c)u[l++]=c;for(l="a".charCodeAt(0),c=10;c<36;++c)u[l++]=c;for(l="A".charCodeAt(0),c=10;c<36;++c)u[l++]=c;function d(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function h(e,t){var n=u[e.charCodeAt(t)];return null==n?-1:n}function f(e){var t=i();return t.fromInt(e),t}function p(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function m(e){this.m=e}function g(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function y(e,t){return e&t}function v(e,t){return e|t}function b(e,t){return e^t}function w(e,t){return e&~t}function x(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function E(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function C(){}function A(e){return e}function S(e){this.r2=i(),this.q3=i(),s.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}m.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},m.prototype.revert=function(e){return e},m.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},m.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},g.prototype.convert=function(e){var t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(s.ZERO)>0&&this.m.subTo(t,t),t},g.prototype.revert=function(e){var t=i();return e.copyTo(t),this.reduce(t),t},g.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e.data[t],r=n*this.mpl+((n*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e.data[n]+=this.m.am(0,r,e,t,0,this.m.t);e.data[n]>=e.DV;)e.data[n]-=e.DV,e.data[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},g.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},g.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},s.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},s.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},s.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,a=!1,i=0;--r>=0;){var o=8==n?255&e[r]:h(e,r);o<0?"-"==e.charAt(r)&&(a=!0):(a=!1,0==i?this.data[this.t++]=o:i+n>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-i)-1)<<i,this.data[this.t++]=o>>this.DB-i):this.data[this.t-1]|=o<<i,(i+=n)>=this.DB&&(i-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,i>0&&(this.data[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),a&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},s.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t.data[n+e]=this.data[n];for(n=e-1;n>=0;--n)t.data[n]=0;t.t=this.t+e,t.s=this.s},s.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t.data[n-e]=this.data[n];t.t=Math.max(this.t-e,0),t.s=this.s},s.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,a=this.DB-r,s=(1<<a)-1,i=Math.floor(e/this.DB),o=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t.data[n+i+1]=this.data[n]>>a|o,o=(this.data[n]&s)<<r;for(n=i-1;n>=0;--n)t.data[n]=0;t.data[i]=o,t.t=this.t+i+1,t.s=this.s,t.clamp()},s.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,a=this.DB-r,s=(1<<r)-1;t.data[0]=this.data[n]>>r;for(var i=n+1;i<this.t;++i)t.data[i-n-1]|=(this.data[i]&s)<<a,t.data[i-n]=this.data[i]>>r;r>0&&(t.data[this.t-n-1]|=(this.s&s)<<a),t.t=this.t-n,t.clamp()}},s.prototype.subTo=function(e,t){for(var n=0,r=0,a=Math.min(e.t,this.t);n<a;)r+=this.data[n]-e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t.data[n++]=this.DV+r:r>0&&(t.data[n++]=r),t.t=n,t.clamp()},s.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),a=n.t;for(t.t=a+r.t;--a>=0;)t.data[a]=0;for(a=0;a<r.t;++a)t.data[a+n.t]=n.am(0,r.data[a],t,a,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&s.ZERO.subTo(t,t)},s.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e.data[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t.data[n],e,2*n,0,1);(e.data[n+t.t]+=t.am(n+1,2*t.data[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e.data[n+t.t]-=t.DV,e.data[n+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(n,t.data[n],e,2*n,0,1)),e.s=0,e.clamp()},s.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var a=this.abs();if(a.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=i());var o=i(),l=this.s,c=e.s,u=this.DB-p(r.data[r.t-1]);u>0?(r.lShiftTo(u,o),a.lShiftTo(u,n)):(r.copyTo(o),a.copyTo(n));var d=o.t,h=o.data[d-1];if(0!=h){var f=h*(1<<this.F1)+(d>1?o.data[d-2]>>this.F2:0),m=this.FV/f,g=(1<<this.F1)/f,y=1<<this.F2,v=n.t,b=v-d,w=null==t?i():t;for(o.dlShiftTo(b,w),n.compareTo(w)>=0&&(n.data[n.t++]=1,n.subTo(w,n)),s.ONE.dlShiftTo(d,w),w.subTo(o,o);o.t<d;)o.data[o.t++]=0;for(;--b>=0;){var x=n.data[--v]==h?this.DM:Math.floor(n.data[v]*m+(n.data[v-1]+y)*g);if((n.data[v]+=o.am(0,x,n,b,0,d))<x)for(o.dlShiftTo(b,w),n.subTo(w,n);n.data[v]<--x;)n.subTo(w,n)}null!=t&&(n.drShiftTo(d,t),l!=c&&s.ZERO.subTo(t,t)),n.t=d,n.clamp(),u>0&&n.rShiftTo(u,n),l<0&&s.ZERO.subTo(n,n)}}},s.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},s.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},s.prototype.exp=function(e,t){if(e>4294967295||e<1)return s.ONE;var n=i(),r=i(),a=t.convert(this),o=p(e)-1;for(a.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,a,n);else{var l=n;n=r,r=l}return t.revert(n)},s.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,a=!1,s="",i=this.t,o=this.DB-i*this.DB%t;if(i-- >0)for(o<this.DB&&(n=this.data[i]>>o)>0&&(a=!0,s=d(n));i>=0;)o<t?(n=(this.data[i]&(1<<o)-1)<<t-o,n|=this.data[--i]>>(o+=this.DB-t)):(n=this.data[i]>>(o-=t)&r,o<=0&&(o+=this.DB,--i)),n>0&&(a=!0),a&&(s+=d(n));return a?s:"0"},s.prototype.negate=function(){var e=i();return s.ZERO.subTo(this,e),e},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this.data[n]-e.data[n]))return t;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this.data[this.t-1]^this.s&this.DM)},s.prototype.mod=function(e){var t=i();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(s.ZERO)>0&&e.subTo(t,t),t},s.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new m(t):new g(t),this.exp(e,n)},s.ZERO=f(0),s.ONE=f(1),C.prototype.convert=A,C.prototype.revert=A,C.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},C.prototype.sqrTo=function(e,t){e.squareTo(t)},S.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=i();return e.copyTo(t),this.reduce(t),t},S.prototype.revert=function(e){return e},S.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},S.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},S.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var N=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],k=(1<<26)/N[N.length-1];s.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},s.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=f(n),a=i(),s=i(),o="";for(this.divRemTo(r,a,s);a.signum()>0;)o=(n+s.intValue()).toString(e).substr(1)+o,a.divRemTo(r,a,s);return s.intValue().toString(e)+o},s.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),a=!1,i=0,o=0,l=0;l<e.length;++l){var c=h(e,l);c<0?"-"==e.charAt(l)&&0==this.signum()&&(a=!0):(o=t*o+c,++i>=n&&(this.dMultiply(r),this.dAddOffset(o,0),i=0,o=0))}i>0&&(this.dMultiply(Math.pow(t,i)),this.dAddOffset(o,0)),a&&s.ZERO.subTo(this,this)},s.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(s.ONE.shiftLeft(e-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(s.ONE.shiftLeft(e-1),this);else{var r=new Array,a=7&e;r.length=1+(e>>3),t.nextBytes(r),a>0?r[0]&=(1<<a)-1:r[0]=0,this.fromString(r,256)}},s.prototype.bitwiseTo=function(e,t,n){var r,a,s=Math.min(e.t,this.t);for(r=0;r<s;++r)n.data[r]=t(this.data[r],e.data[r]);if(e.t<this.t){for(a=e.s&this.DM,r=s;r<this.t;++r)n.data[r]=t(this.data[r],a);n.t=this.t}else{for(a=this.s&this.DM,r=s;r<e.t;++r)n.data[r]=t(a,e.data[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},s.prototype.changeBit=function(e,t){var n=s.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},s.prototype.addTo=function(e,t){for(var n=0,r=0,a=Math.min(e.t,this.t);n<a;)r+=this.data[n]+e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t.data[n++]=r:r<-1&&(t.data[n++]=this.DV+r),t.t=n,t.clamp()},s.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},s.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},s.prototype.multiplyLowerTo=function(e,t,n){var r,a=Math.min(this.t+e.t,t);for(n.s=0,n.t=a;a>0;)n.data[--a]=0;for(r=n.t-this.t;a<r;++a)n.data[a+this.t]=this.am(0,e.data[a],n,a,0,this.t);for(r=Math.min(e.t,t);a<r;++a)this.am(0,e.data[a],n,a,0,t-a);n.clamp()},s.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n.data[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n.data[this.t+r-t]=this.am(t-r,e.data[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},s.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this.data[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this.data[r])%e;return n},s.prototype.millerRabin=function(e){var t=this.subtract(s.ONE),n=t.getLowestSetBit();if(n<=0)return!1;for(var r,a=t.shiftRight(n),i={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},o=0;o<e;++o){do{r=new s(this.bitLength(),i)}while(r.compareTo(s.ONE)<=0||r.compareTo(t)>=0);var l=r.modPow(a,this);if(0!=l.compareTo(s.ONE)&&0!=l.compareTo(t)){for(var c=1;c++<n&&0!=l.compareTo(t);)if(0==(l=l.modPowInt(2,this)).compareTo(s.ONE))return!1;if(0!=l.compareTo(t))return!1}}return!0},s.prototype.clone=function(){var e=i();return this.copyTo(e),e},s.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},s.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},s.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},s.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},s.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,a=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[a++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==a&&(128&this.s)!=(128&n)&&++a,(a>0||n!=this.s)&&(t[a++]=n);return t},s.prototype.equals=function(e){return 0==this.compareTo(e)},s.prototype.min=function(e){return this.compareTo(e)<0?this:e},s.prototype.max=function(e){return this.compareTo(e)>0?this:e},s.prototype.and=function(e){var t=i();return this.bitwiseTo(e,y,t),t},s.prototype.or=function(e){var t=i();return this.bitwiseTo(e,v,t),t},s.prototype.xor=function(e){var t=i();return this.bitwiseTo(e,b,t),t},s.prototype.andNot=function(e){var t=i();return this.bitwiseTo(e,w,t),t},s.prototype.not=function(){for(var e=i(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},s.prototype.shiftLeft=function(e){var t=i();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},s.prototype.shiftRight=function(e){var t=i();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},s.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+x(this.data[e]);return this.s<0?this.t*this.DB:-1},s.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=E(this.data[n]^t);return e},s.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},s.prototype.setBit=function(e){return this.changeBit(e,v)},s.prototype.clearBit=function(e){return this.changeBit(e,w)},s.prototype.flipBit=function(e){return this.changeBit(e,b)},s.prototype.add=function(e){var t=i();return this.addTo(e,t),t},s.prototype.subtract=function(e){var t=i();return this.subTo(e,t),t},s.prototype.multiply=function(e){var t=i();return this.multiplyTo(e,t),t},s.prototype.divide=function(e){var t=i();return this.divRemTo(e,t,null),t},s.prototype.remainder=function(e){var t=i();return this.divRemTo(e,null,t),t},s.prototype.divideAndRemainder=function(e){var t=i(),n=i();return this.divRemTo(e,t,n),new Array(t,n)},s.prototype.modPow=function(e,t){var n,r,a=e.bitLength(),s=f(1);if(a<=0)return s;n=a<18?1:a<48?3:a<144?4:a<768?5:6,r=a<8?new m(t):t.isEven()?new S(t):new g(t);var o=new Array,l=3,c=n-1,u=(1<<n)-1;if(o[1]=r.convert(this),n>1){var d=i();for(r.sqrTo(o[1],d);l<=u;)o[l]=i(),r.mulTo(d,o[l-2],o[l]),l+=2}var h,y,v=e.t-1,b=!0,w=i();for(a=p(e.data[v])-1;v>=0;){for(a>=c?h=e.data[v]>>a-c&u:(h=(e.data[v]&(1<<a+1)-1)<<c-a,v>0&&(h|=e.data[v-1]>>this.DB+a-c)),l=n;0==(1&h);)h>>=1,--l;if((a-=l)<0&&(a+=this.DB,--v),b)o[h].copyTo(s),b=!1;else{for(;l>1;)r.sqrTo(s,w),r.sqrTo(w,s),l-=2;l>0?r.sqrTo(s,w):(y=s,s=w,w=y),r.mulTo(w,o[h],s)}for(;v>=0&&0==(e.data[v]&1<<a);)r.sqrTo(s,w),y=s,s=w,w=y,--a<0&&(a=this.DB-1,--v)}return r.revert(s)},s.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return s.ZERO;for(var n=e.clone(),r=this.clone(),a=f(1),i=f(0),o=f(0),l=f(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(a.isEven()&&i.isEven()||(a.addTo(this,a),i.subTo(e,i)),a.rShiftTo(1,a)):i.isEven()||i.subTo(e,i),i.rShiftTo(1,i);for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&l.isEven()||(o.addTo(this,o),l.subTo(e,l)),o.rShiftTo(1,o)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);n.compareTo(r)>=0?(n.subTo(r,n),t&&a.subTo(o,a),i.subTo(l,i)):(r.subTo(n,r),t&&o.subTo(a,o),l.subTo(i,l))}return 0!=r.compareTo(s.ONE)?s.ZERO:l.compareTo(e)>=0?l.subtract(e):l.signum()<0?(l.addTo(e,l),l.signum()<0?l.add(e):l):l},s.prototype.pow=function(e){return this.exp(e,new C)},s.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var a=t.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return t;for(a<s&&(s=a),s>0&&(t.rShiftTo(s,t),n.rShiftTo(s,n));t.signum()>0;)(a=t.getLowestSetBit())>0&&t.rShiftTo(a,t),(a=n.getLowestSetBit())>0&&n.rShiftTo(a,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n},s.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n.data[0]<=N[N.length-1]){for(t=0;t<N.length;++t)if(n.data[0]==N[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<N.length;){for(var r=N[t],a=t+1;a<N.length&&r<k;)r*=N[a++];for(r=n.modInt(r);t<a;)if(r%N[t++]==0)return!1}return n.millerRabin(e)}},9611:(e,t,n)=>{var r=n(45);n(9463),n(2795),n(8138),n(3900);var a=n(9190),s=a.publicKeyValidator,i=a.privateKeyValidator;if("undefined"===typeof o)var o=r.jsbn.BigInteger;var l=r.util.ByteBuffer,c="undefined"===typeof Buffer?Uint8Array:Buffer;r.pki=r.pki||{},e.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var u=r.ed25519;function d(e){var t=e.message;if(t instanceof Uint8Array||t instanceof c)return t;var n=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes(),n="binary"}if("string"===typeof t&&!n)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"===typeof t){if("undefined"!==typeof Buffer)return Buffer.from(t,n);t=new l(t,n)}else if(!(t instanceof l))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var r=new c(t.length()),a=0;a<r.length;++a)r[a]=t.at(a);return r}u.constants={},u.constants.PUBLIC_KEY_BYTE_LENGTH=32,u.constants.PRIVATE_KEY_BYTE_LENGTH=64,u.constants.SEED_BYTE_LENGTH=32,u.constants.SIGN_BYTE_LENGTH=64,u.constants.HASH_BYTE_LENGTH=64,u.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=r.random.getBytesSync(u.constants.SEED_BYTE_LENGTH);else if("string"===typeof t){if(t.length!==u.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+u.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=d({message:t,encoding:"binary"});for(var n=new c(u.constants.PUBLIC_KEY_BYTE_LENGTH),a=new c(u.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)a[s]=t[s];return function(e,t){var n,r=[D(),D(),D(),D()],a=w(t,32);for(a[0]&=248,a[31]&=127,a[31]|=64,R(r,a),S(e,r),n=0;n<32;++n)t[n+32]=e[n]}(n,a),{publicKey:n,privateKey:a}},u.privateKeyFromAsn1=function(e){var t={},n=[];if(!r.asn1.validate(e,i,t,n)){var a=new Error("Invalid Key.");throw a.errors=n,a}var s=r.asn1.derToOid(t.privateKeyOid),o=r.oids.EdDSA25519;if(s!==o)throw new Error('Invalid OID "'+s+'"; OID must be "'+o+'".');var l=t.privateKey;return{privateKeyBytes:d({message:r.asn1.fromDer(l).value,encoding:"binary"})}},u.publicKeyFromAsn1=function(e){var t={},n=[];if(!r.asn1.validate(e,s,t,n)){var a=new Error("Invalid Key.");throw a.errors=n,a}var i=r.asn1.derToOid(t.publicKeyOid),o=r.oids.EdDSA25519;if(i!==o)throw new Error('Invalid OID "'+i+'"; OID must be "'+o+'".');var l=t.ed25519PublicKey;if(l.length!==u.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return d({message:l,encoding:"binary"})},u.publicKeyFromPrivateKey=function(e){var t=d({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==u.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+u.constants.PRIVATE_KEY_BYTE_LENGTH);for(var n=new c(u.constants.PUBLIC_KEY_BYTE_LENGTH),r=0;r<n.length;++r)n[r]=t[32+r];return n},u.sign=function(e){var t=d(e=e||{}),n=d({message:e.privateKey,encoding:"binary"});if(n.length===u.constants.SEED_BYTE_LENGTH)n=u.generateKeyPair({seed:n}).privateKey;else if(n.length!==u.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+u.constants.SEED_BYTE_LENGTH+" or "+u.constants.PRIVATE_KEY_BYTE_LENGTH);var r=new c(u.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,n,r){var a,s,i=new Float64Array(64),o=[D(),D(),D(),D()],l=w(r,32);l[0]&=248,l[31]&=127,l[31]|=64;var c=n+64;for(a=0;a<n;++a)e[64+a]=t[a];for(a=0;a<32;++a)e[32+a]=l[32+a];var u=w(e.subarray(32),n+32);for(E(u),R(o,u),S(e,o),a=32;a<64;++a)e[a]=r[a];var d=w(e,n+64);for(E(d),a=32;a<64;++a)i[a]=0;for(a=0;a<32;++a)i[a]=u[a];for(a=0;a<32;++a)for(s=0;s<32;s++)i[a+s]+=d[a]*l[s];x(e.subarray(32),i)}(r,t,t.length,n);for(var a=new c(u.constants.SIGN_BYTE_LENGTH),s=0;s<a.length;++s)a[s]=r[s];return a},u.verify=function(e){var t=d(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var n=d({message:e.signature,encoding:"binary"});if(n.length!==u.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+u.constants.SIGN_BYTE_LENGTH);var r=d({message:e.publicKey,encoding:"binary"});if(r.length!==u.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+u.constants.PUBLIC_KEY_BYTE_LENGTH);var a,s=new c(u.constants.SIGN_BYTE_LENGTH+t.length),i=new c(u.constants.SIGN_BYTE_LENGTH+t.length);for(a=0;a<u.constants.SIGN_BYTE_LENGTH;++a)s[a]=n[a];for(a=0;a<t.length;++a)s[a+u.constants.SIGN_BYTE_LENGTH]=t[a];return function(e,t,n,r){var a,s=new c(32),i=[D(),D(),D(),D()],o=[D(),D(),D(),D()];if(n<64)return-1;if(function(e,t){var n=D(),r=D(),a=D(),s=D(),i=D(),o=D(),l=D();j(e[2],f),function(e,t){var n;for(n=0;n<16;++n)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),U(a,e[1]),M(s,a,p),_(a,a,e[2]),O(s,e[2],s),U(i,s),U(o,i),M(l,o,i),M(n,l,a),M(n,n,s),function(e,t){var n,r=D();for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)U(r,r),1!==n&&M(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}(n,n),M(n,n,a),M(n,n,s),M(n,n,s),M(e[0],n,s),U(r,e[0]),M(r,r,s),k(r,a)&&M(e[0],e[0],b);if(U(r,e[0]),M(r,r,s),k(r,a))return-1;I(e[0])===t[31]>>7&&_(e[0],h,e[0]);return M(e[3],e[0],e[1]),0}(o,r))return-1;for(a=0;a<n;++a)e[a]=t[a];for(a=0;a<32;++a)e[a+32]=r[a];var l=w(e,n);if(E(l),B(i,o,l),R(o,t.subarray(32)),C(i,o),S(s,i),n-=64,T(t,0,s,0)){for(a=0;a<n;++a)e[a]=0;return-1}for(a=0;a<n;++a)e[a]=t[a+64];return n}(i,s,s.length,r)>=0};var h=D(),f=D([1]),p=D([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=D([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=D([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=D([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),b=D([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(e,t){var n=r.md.sha512.create(),a=new l(e);n.update(a.getBytes(t),"binary");var s=n.digest().getBytes();if("undefined"!==typeof Buffer)return Buffer.from(s,"binary");for(var i=new c(u.constants.HASH_BYTE_LENGTH),o=0;o<64;++o)i[o]=s.charCodeAt(o);return i}function x(e,t){var n,r,a,s;for(r=63;r>=32;--r){for(n=0,a=r-32,s=r-12;a<s;++a)t[a]+=n-16*t[r]*v[a-(r-32)],n=t[a]+128>>8,t[a]-=256*n;t[a]+=n,t[r]=0}for(n=0,a=0;a<32;++a)t[a]+=n-(t[31]>>4)*v[a],n=t[a]>>8,t[a]&=255;for(a=0;a<32;++a)t[a]-=n*v[a];for(r=0;r<32;++r)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function E(e){for(var t=new Float64Array(64),n=0;n<64;++n)t[n]=e[n],e[n]=0;x(e,t)}function C(e,t){var n=D(),r=D(),a=D(),s=D(),i=D(),o=D(),l=D(),c=D(),u=D();_(n,e[1],e[0]),_(u,t[1],t[0]),M(n,n,u),O(r,e[0],e[1]),O(u,t[0],t[1]),M(r,r,u),M(a,e[3],t[3]),M(a,a,m),M(s,e[2],t[2]),O(s,s,s),_(i,r,n),_(o,s,a),O(l,s,a),O(c,r,n),M(e[0],i,o),M(e[1],c,l),M(e[2],l,o),M(e[3],i,c)}function A(e,t,n){for(var r=0;r<4;++r)L(e[r],t[r],n)}function S(e,t){var n=D(),r=D(),a=D();!function(e,t){var n,r=D();for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)U(r,r),2!==n&&4!==n&&M(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}(a,t[2]),M(n,t[0],a),M(r,t[1],a),N(e,r),e[31]^=I(n)<<7}function N(e,t){var n,r,a,s=D(),i=D();for(n=0;n<16;++n)i[n]=t[n];for(P(i),P(i),P(i),r=0;r<2;++r){for(s[0]=i[0]-65517,n=1;n<15;++n)s[n]=i[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=i[15]-32767-(s[14]>>16&1),a=s[15]>>16&1,s[14]&=65535,L(i,s,1-a)}for(n=0;n<16;n++)e[2*n]=255&i[n],e[2*n+1]=i[n]>>8}function k(e,t){var n=new c(32),r=new c(32);return N(n,e),N(r,t),T(n,0,r,0)}function T(e,t,n,r){return function(e,t,n,r,a){var s,i=0;for(s=0;s<a;++s)i|=e[t+s]^n[r+s];return(1&i-1>>>8)-1}(e,t,n,r,32)}function I(e){var t=new c(32);return N(t,e),1&t[0]}function B(e,t,n){var r,a;for(j(e[0],h),j(e[1],f),j(e[2],f),j(e[3],h),a=255;a>=0;--a)A(e,t,r=n[a/8|0]>>(7&a)&1),C(t,e),C(e,e),A(e,t,r)}function R(e,t){var n=[D(),D(),D(),D()];j(n[0],g),j(n[1],y),j(n[2],f),M(n[3],g,y),B(e,n,t)}function j(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function P(e){var t,n,r=1;for(t=0;t<16;++t)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function L(e,t,n){for(var r,a=~(n-1),s=0;s<16;++s)r=a&(e[s]^t[s]),e[s]^=r,t[s]^=r}function D(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;++t)n[t]=e[t];return n}function O(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]+n[r]}function _(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]-n[r]}function U(e,t){M(e,t,t)}function M(e,t,n){var r,a,s=0,i=0,o=0,l=0,c=0,u=0,d=0,h=0,f=0,p=0,m=0,g=0,y=0,v=0,b=0,w=0,x=0,E=0,C=0,A=0,S=0,N=0,k=0,T=0,I=0,B=0,R=0,j=0,P=0,L=0,D=0,O=n[0],_=n[1],U=n[2],M=n[3],F=n[4],V=n[5],z=n[6],K=n[7],H=n[8],G=n[9],Q=n[10],q=n[11],W=n[12],J=n[13],Y=n[14],Z=n[15];s+=(r=t[0])*O,i+=r*_,o+=r*U,l+=r*M,c+=r*F,u+=r*V,d+=r*z,h+=r*K,f+=r*H,p+=r*G,m+=r*Q,g+=r*q,y+=r*W,v+=r*J,b+=r*Y,w+=r*Z,i+=(r=t[1])*O,o+=r*_,l+=r*U,c+=r*M,u+=r*F,d+=r*V,h+=r*z,f+=r*K,p+=r*H,m+=r*G,g+=r*Q,y+=r*q,v+=r*W,b+=r*J,w+=r*Y,x+=r*Z,o+=(r=t[2])*O,l+=r*_,c+=r*U,u+=r*M,d+=r*F,h+=r*V,f+=r*z,p+=r*K,m+=r*H,g+=r*G,y+=r*Q,v+=r*q,b+=r*W,w+=r*J,x+=r*Y,E+=r*Z,l+=(r=t[3])*O,c+=r*_,u+=r*U,d+=r*M,h+=r*F,f+=r*V,p+=r*z,m+=r*K,g+=r*H,y+=r*G,v+=r*Q,b+=r*q,w+=r*W,x+=r*J,E+=r*Y,C+=r*Z,c+=(r=t[4])*O,u+=r*_,d+=r*U,h+=r*M,f+=r*F,p+=r*V,m+=r*z,g+=r*K,y+=r*H,v+=r*G,b+=r*Q,w+=r*q,x+=r*W,E+=r*J,C+=r*Y,A+=r*Z,u+=(r=t[5])*O,d+=r*_,h+=r*U,f+=r*M,p+=r*F,m+=r*V,g+=r*z,y+=r*K,v+=r*H,b+=r*G,w+=r*Q,x+=r*q,E+=r*W,C+=r*J,A+=r*Y,S+=r*Z,d+=(r=t[6])*O,h+=r*_,f+=r*U,p+=r*M,m+=r*F,g+=r*V,y+=r*z,v+=r*K,b+=r*H,w+=r*G,x+=r*Q,E+=r*q,C+=r*W,A+=r*J,S+=r*Y,N+=r*Z,h+=(r=t[7])*O,f+=r*_,p+=r*U,m+=r*M,g+=r*F,y+=r*V,v+=r*z,b+=r*K,w+=r*H,x+=r*G,E+=r*Q,C+=r*q,A+=r*W,S+=r*J,N+=r*Y,k+=r*Z,f+=(r=t[8])*O,p+=r*_,m+=r*U,g+=r*M,y+=r*F,v+=r*V,b+=r*z,w+=r*K,x+=r*H,E+=r*G,C+=r*Q,A+=r*q,S+=r*W,N+=r*J,k+=r*Y,T+=r*Z,p+=(r=t[9])*O,m+=r*_,g+=r*U,y+=r*M,v+=r*F,b+=r*V,w+=r*z,x+=r*K,E+=r*H,C+=r*G,A+=r*Q,S+=r*q,N+=r*W,k+=r*J,T+=r*Y,I+=r*Z,m+=(r=t[10])*O,g+=r*_,y+=r*U,v+=r*M,b+=r*F,w+=r*V,x+=r*z,E+=r*K,C+=r*H,A+=r*G,S+=r*Q,N+=r*q,k+=r*W,T+=r*J,I+=r*Y,B+=r*Z,g+=(r=t[11])*O,y+=r*_,v+=r*U,b+=r*M,w+=r*F,x+=r*V,E+=r*z,C+=r*K,A+=r*H,S+=r*G,N+=r*Q,k+=r*q,T+=r*W,I+=r*J,B+=r*Y,R+=r*Z,y+=(r=t[12])*O,v+=r*_,b+=r*U,w+=r*M,x+=r*F,E+=r*V,C+=r*z,A+=r*K,S+=r*H,N+=r*G,k+=r*Q,T+=r*q,I+=r*W,B+=r*J,R+=r*Y,j+=r*Z,v+=(r=t[13])*O,b+=r*_,w+=r*U,x+=r*M,E+=r*F,C+=r*V,A+=r*z,S+=r*K,N+=r*H,k+=r*G,T+=r*Q,I+=r*q,B+=r*W,R+=r*J,j+=r*Y,P+=r*Z,b+=(r=t[14])*O,w+=r*_,x+=r*U,E+=r*M,C+=r*F,A+=r*V,S+=r*z,N+=r*K,k+=r*H,T+=r*G,I+=r*Q,B+=r*q,R+=r*W,j+=r*J,P+=r*Y,L+=r*Z,w+=(r=t[15])*O,i+=38*(E+=r*U),o+=38*(C+=r*M),l+=38*(A+=r*F),c+=38*(S+=r*V),u+=38*(N+=r*z),d+=38*(k+=r*K),h+=38*(T+=r*H),f+=38*(I+=r*G),p+=38*(B+=r*Q),m+=38*(R+=r*q),g+=38*(j+=r*W),y+=38*(P+=r*J),v+=38*(L+=r*Y),b+=38*(D+=r*Z),s=(r=(s+=38*(x+=r*_))+(a=1)+65535)-65536*(a=Math.floor(r/65536)),i=(r=i+a+65535)-65536*(a=Math.floor(r/65536)),o=(r=o+a+65535)-65536*(a=Math.floor(r/65536)),l=(r=l+a+65535)-65536*(a=Math.floor(r/65536)),c=(r=c+a+65535)-65536*(a=Math.floor(r/65536)),u=(r=u+a+65535)-65536*(a=Math.floor(r/65536)),d=(r=d+a+65535)-65536*(a=Math.floor(r/65536)),h=(r=h+a+65535)-65536*(a=Math.floor(r/65536)),f=(r=f+a+65535)-65536*(a=Math.floor(r/65536)),p=(r=p+a+65535)-65536*(a=Math.floor(r/65536)),m=(r=m+a+65535)-65536*(a=Math.floor(r/65536)),g=(r=g+a+65535)-65536*(a=Math.floor(r/65536)),y=(r=y+a+65535)-65536*(a=Math.floor(r/65536)),v=(r=v+a+65535)-65536*(a=Math.floor(r/65536)),b=(r=b+a+65535)-65536*(a=Math.floor(r/65536)),w=(r=w+a+65535)-65536*(a=Math.floor(r/65536)),s=(r=(s+=a-1+37*(a-1))+(a=1)+65535)-65536*(a=Math.floor(r/65536)),i=(r=i+a+65535)-65536*(a=Math.floor(r/65536)),o=(r=o+a+65535)-65536*(a=Math.floor(r/65536)),l=(r=l+a+65535)-65536*(a=Math.floor(r/65536)),c=(r=c+a+65535)-65536*(a=Math.floor(r/65536)),u=(r=u+a+65535)-65536*(a=Math.floor(r/65536)),d=(r=d+a+65535)-65536*(a=Math.floor(r/65536)),h=(r=h+a+65535)-65536*(a=Math.floor(r/65536)),f=(r=f+a+65535)-65536*(a=Math.floor(r/65536)),p=(r=p+a+65535)-65536*(a=Math.floor(r/65536)),m=(r=m+a+65535)-65536*(a=Math.floor(r/65536)),g=(r=g+a+65535)-65536*(a=Math.floor(r/65536)),y=(r=y+a+65535)-65536*(a=Math.floor(r/65536)),v=(r=v+a+65535)-65536*(a=Math.floor(r/65536)),b=(r=b+a+65535)-65536*(a=Math.floor(r/65536)),w=(r=w+a+65535)-65536*(a=Math.floor(r/65536)),s+=a-1+37*(a-1),e[0]=s,e[1]=i,e[2]=o,e[3]=l,e[4]=c,e[5]=u,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=y,e[13]=v,e[14]=b,e[15]=w}},9624:(e,t,n)=>{var r=n(45);n(1657),e.exports=r.mgf=r.mgf||{},r.mgf.mgf1=r.mgf1}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{OG:()=>yd,My:()=>ld,Ph:()=>dd,lX:()=>hd,Id:()=>gd,fg:()=>wd,qj:()=>md,aT:()=>ud,lq:()=>fd,z:()=>pd,Q5:()=>Ed});var t=n(5043),r=n(4391);function a(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=["sri"],d=["page"],h=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var g="popstate";function y(){return A(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return x("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:E(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function v(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function b(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Et){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?C(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function E(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function C(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function A(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,o="POP",l=null,u=d();function d(){return(i.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return S(e)}null==u&&(u=0,i.replaceState(c(c({},i.state),{},{idx:u}),""));let p={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(g,h),l=e,()=>{a.removeEventListener(g,h),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=x(p.location,e,t);n&&n(r,e),u=d()+1;let c=w(r,u),h=p.createHref(r);try{i.pushState(c,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}s&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=x(p.location,e,t);n&&n(r,e),u=d();let a=w(r,u),c=p.createHref(r);i.replaceState(a,"",c),s&&l&&l({action:o,location:p.location,delta:0})},go:e=>i.go(e)};return p}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),v(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:E(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function N(e,t){return k(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function k(e,t,n,r){let a=z(("string"===typeof t?C(t):t).pathname||"/",n);if(null==a)return null;let s=T(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=V(a);i=U(s[o],e,r)}return i}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;v(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=q([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(v(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),T(e.children,t,u,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:_(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of I(e.path))s(e,t,!0,r);else s(e,t)}),t}function I(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=I(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var B=/^:[\w-]+$/,R=3,j=2,P=1,L=10,D=-2,O=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=D),t&&(r+=j),n.filter(e=>!O(e)).reduce((e,t)=>e+(B.test(t)?R:""===t?P:L),r)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:q([s,u.pathname]),pathnameBase:W(q([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=q([s,u.pathnameBase]))}return i}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=F(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function V(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return b(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function K(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function H(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function G(e){let t=H(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=C(e):(r=c({},e),v(!r.pathname||!r.pathname.includes("?"),K("?","pathname","search",r)),v(!r.pathname||!r.pathname.includes("#"),K("#","pathname","hash",r)),v(!r.search||!r.search.includes("#"),K("#","search","hash",r)));let s,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?C(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:J(r),hash:Y(a)}}(r,s),u=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var q=e=>e.join("/").replace(/\/\/+/g,"/"),W=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var X=["POST","PUT","PATCH","DELETE"],$=(new Set(X),["GET",...X]);new Set($),Symbol("ResetLoaderData");var ee=t.createContext(null);ee.displayName="DataRouter";var te=t.createContext(null);te.displayName="DataRouterState";var ne=t.createContext(!1);var re=t.createContext({isTransitioning:!1});re.displayName="ViewTransition";var ae=t.createContext(new Map);ae.displayName="Fetchers";var se=t.createContext(null);se.displayName="Await";var ie=t.createContext(null);ie.displayName="Navigation";var oe=t.createContext(null);oe.displayName="Location";var le=t.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ce=t.createContext(null);ce.displayName="RouteError";function ue(){return null!=t.useContext(oe)}function de(){return v(ue(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(oe).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){t.useContext(ie).static||t.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=t.useContext(le);return e?function(){let{router:e}=Ce("useNavigate"),n=Se("useNavigate"),r=t.useRef(!1);fe(()=>{r.current=!0});let a=t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(r.current,he),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,c({fromRouteId:n},a)))},[e,n]);return a}():function(){v(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(ee),{basename:n,navigator:r}=t.useContext(ie),{matches:a}=t.useContext(le),{pathname:s}=de(),i=JSON.stringify(G(a)),o=t.useRef(!1);fe(()=>{o.current=!0});let l=t.useCallback(function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(o.current,he),!o.current)return;if("number"===typeof t)return void r.go(t);let l=Q(t,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:q([n,l.pathname])),(a.replace?r.replace:r.push)(l,a.state,a)},[n,r,i,s,e]);return l}()}t.createContext(null);function me(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(le),{pathname:a}=de(),s=JSON.stringify(G(r));return t.useMemo(()=>Q(e,JSON.parse(s),a,"path"===n),[e,s,a,n])}function ge(e,n,r,a,s){v(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(ie),{matches:o}=t.useContext(le),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Te(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=de();if(n){var g;let e="string"===typeof n?C(n):n;v("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let y=p.pathname||"/",w=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=N(e,{pathname:w});b(f||null!=x,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),b(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let E=xe(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:q([h,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:q([h,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,r,a,s);return n&&E?t.createElement(oe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},E):E}function ye(){let e=Ne(),n=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:i},"ErrorBoundary")," or"," ",t.createElement("code",{style:i},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,o)}var ve=t.createElement(ye,null),be=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(le.Provider,{value:this.props.routeContext},t.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:n,match:r,children:a}=e,s=t.useContext(ee);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(le.Provider,{value:n},a)}function xe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,i=null===r||void 0===r?void 0:r.errors;if(null!=i){let e=s.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));v(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(r)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((e,c,u)=>{let d,h=!1,f=null,p=null;r&&(d=i&&c.route.id?i[c.route.id]:void 0,f=c.route.errorElement||ve,o&&(l<0&&0===u?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,u+1)),g=()=>{let n;return n=d?f:h?p:c.route.Component?t.createElement(c.route.Component,null):c.route.element?c.route.element:e,t.createElement(we,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?t.createElement(be,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:a}):g()},null)}function Ee(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ce(e){let n=t.useContext(ee);return v(n,Ee(e)),n}function Ae(e){let n=t.useContext(te);return v(n,Ee(e)),n}function Se(e){let n=function(e){let n=t.useContext(le);return v(n,Ee(e)),n}(e),r=n.matches[n.matches.length-1];return v(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ne(){var e;let n=t.useContext(ce),r=Ae("useRouteError"),a=Se("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[a]}var ke={};function Te(e,t,n){t||ke[e]||(ke[e]=!0,b(!1,n))}var Ie={};function Be(e,t){e||Ie[t]||(Ie[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:a}=e;return ge(t,void 0,r,a,n)});function Re(e){v(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function je(e){let{basename:n="/",children:r=null,location:a,navigationType:s="POP",navigator:i,static:o=!1}=e;v(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof a&&(a=C(a));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=a,m=t.useMemo(()=>{let e=z(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:s}},[l,u,d,h,f,p,s]);return b(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(ie.Provider,{value:c},t.createElement(oe.Provider,{children:r,value:m}))}function Pe(e){let{children:t,location:n}=e;return ge(Le(t),n)}t.Component;function Le(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,a)=>{if(!t.isValidElement(e))return;let s=[...n,a];if(e.type===t.Fragment)return void r.push.apply(r,Le(e.props.children,s));v(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),v(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Le(e.props.children,s)),r.push(i)}),r}var De="get",Oe="application/x-www-form-urlencoded";function _e(e){return null!=e&&"string"===typeof e.tagName}var Ue=null;var Me=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fe(e){return null==e||Me.has(e)?e:(b(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Oe,'"')),null)}function Ve(e,t){let n,r,a,s,i;if(function(e){return _e(e)&&"form"===e.tagName.toLowerCase()}(e)){let i=e.getAttribute("action");r=i?z(i,t):null,n=e.getAttribute("method")||De,a=Fe(e.getAttribute("enctype"))||Oe,s=new FormData(e)}else if(function(e){return _e(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return _e(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?z(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||De,a=Fe(e.getAttribute("formenctype"))||Fe(i.getAttribute("enctype"))||Oe,s=new FormData(i,e),!function(){if(null===Ue)try{new FormData(document.createElement("form"),0),Ue=!1}catch(Et){Ue=!0}return Ue}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(_e(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=De,r=null,a=Oe,i=e}return s&&"text/plain"===a&&(i=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function ze(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ke(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===z(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function He(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ge(e){return null!=e&&"string"===typeof e.page}function Qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,a,s){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function We(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function Je(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!Ge(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e},[])}function Ye(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=t.useContext(ee);return ze(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xe(){let e=t.useContext(te);return ze(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $e=t.createContext(void 0);function et(){let e=t.useContext($e);return ze(e,"You must render this element inside a <HydratedRouter> element"),e}function tt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function nt(e,t,n){if(n&&!it)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}$e.displayName="FrameworkContext";function rt(e){let{page:n}=e,r=a(e,d),{router:s}=Ze(),i=t.useMemo(()=>N(s.routes,n,s.basename),[s.routes,n,s.basename]);return i?t.createElement(st,c({page:n,matches:i},r)):null}function at(e){let{manifest:n,routeModules:r}=et(),[a,s]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return Je((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await He(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Qe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||s(e)}),()=>{t=!0}},[e,n,r]),a}function st(e){let{page:n,matches:r}=e,s=a(e,h),i=de(),{manifest:o,routeModules:l}=et(),{basename:u}=Ze(),{loaderData:d,matches:f}=Xe(),p=t.useMemo(()=>qe(n,r,f,o,i,"data"),[n,r,f,o,i]),m=t.useMemo(()=>qe(n,r,f,o,i,"assets"),[n,r,f,o,i]),g=t.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let a=o.routes[n.route.id];a&&a.hasLoader&&(!p.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(r=l[n.route.id])&&void 0!==r&&r.shouldRevalidate||a.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let a=Ke(n,u,"data");return t&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[u,d,i,o,p,r,n,l]),y=t.useMemo(()=>We(m,o),[m,o]),v=at(m);return t.createElement(t.Fragment,null,g.map(e=>t.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},s))),y.map(e=>t.createElement("link",c({key:e,rel:"modulepreload",href:e},s))),v.map(e=>{let{key:n,link:r}=e;return t.createElement("link",c({key:n,nonce:s.nonce},r))}))}var it=!1;function ot(e){let{manifest:n,serverHandoffString:r,isSpaMode:s,renderMeta:i,routeDiscovery:o,ssr:l}=et(),{router:d,static:h,staticContext:f}=Ze(),{matches:p}=Xe(),m=t.useContext(ne),g=Ye(o,l);i&&(i.didRenderScripts=!0);let y=nt(p,null,s);t.useEffect(()=>{0},[]);let v=t.useMemo(()=>{var s;if(m)return null;let i=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==n.hmr&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(y.map((e,t)=>{let r="route".concat(t),a=n.routes[e.route.id];ze(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=a(e,u),s=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(i.pop();i.length>0;)o.push("/".concat(i.join("/"))),i.pop();o.forEach(e=>{let n=N(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let l=[...s].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return c(c({},r),{},{routes:l,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:void 0})),t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),b=it||m?[]:(n.entry.imports.concat(We(y,n,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof n.sri?n.sri:{};return Be(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),it||m?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:x[n],suppressHydrationWarning:!0})),v)}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function ct(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let a,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Z(n))return t.createElement(ut,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(ut,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function ut(e){var n;let{title:r,renderScripts:a,isOutsideRemixApp:s,children:i}=e,{routeModules:o}=et();return null!==o.root&&void 0!==n&&n.Layout&&!s?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,a?t.createElement(ot,null):null)))}var dt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{dt&&(window.__reactRouterVersion="7.9.4")}catch(Et){}function ht(e){let{basename:n,children:r,window:a}=e,s=t.useRef();null==s.current&&(s.current=y({window:a,v5Compat:!0}));let i=s.current,[o,l]=t.useState({action:i.action,location:i.location}),c=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>i.listen(c),[i,c]),t.createElement(je,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:i})}var ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=t.forwardRef(function(e,n){let r,{onClick:s,discover:i="render",prefetch:o="none",relative:l,reloadDocument:u,replace:d,state:h,target:p,to:m,preventScrollReset:g,viewTransition:y}=e,w=a(e,f),{basename:x}=t.useContext(ie),C="string"===typeof m&&ft.test(m),A=!1;if("string"===typeof m&&C&&(r=m,dt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=z(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:A=!0}catch(Et){b(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=t.useContext(ie),{hash:s,pathname:i,search:o}=me(e,{relative:n}),l=i;return"/"!==r&&(l="/"===i?r:q([r,i])),a.createHref({pathname:l,search:o,hash:s})}(m,{relative:l}),[N,k,T]=function(e,n){let r=t.useContext($e),[a,s]=t.useState(!1),[i,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return r?"intent"!==e?[i,f,{}]:[i,f,{onFocus:tt(l,p),onBlur:tt(c,m),onMouseEnter:tt(u,p),onMouseLeave:tt(d,m),onTouchStart:tt(h,p)}]:[!1,f,{}]}(o,w),I=function(e){let{target:n,replace:r,state:a,preventScrollReset:s,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=pe(),c=de(),u=me(e,{relative:i});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:E(c)===E(u);l(e,{replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,r,a,n,e,s,i,o])}(m,{replace:d,state:h,target:p,preventScrollReset:g,relative:l,viewTransition:y});let B=t.createElement("a",c(c(c({},w),T),{},{href:r||S,onClick:A||u?s:function(e){s&&s(e),e.defaultPrevented||I(e)},ref:lt(n,k),target:p,"data-discover":C||"render"!==i?void 0:"true"}));return N&&!C?t.createElement(t.Fragment,null,B,t.createElement(rt,{page:S})):B});pt.displayName="Link",t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:d,children:h}=e,f=a(e,p),m=me(u,{relative:f.relative}),g=de(),y=t.useContext(te),{navigator:b,basename:w}=t.useContext(ie),x=null!=y&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(re);v(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=yt("useViewTransitionState"),s=me(e,{relative:n});if(!r.isTransitioning)return!1;let i=z(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=z(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=M(s.pathname,o)||null!=M(s.pathname,i)}(m)&&!0===d,E=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,C=g.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(C=C.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&w&&(A=z(A,w)||A);const S="/"!==E&&E.endsWith("/")?E.length-1:E.length;let N,k=C===E||!o&&C.startsWith(E)&&"/"===C.charAt(S),T=null!=A&&(A===E||!o&&A.startsWith(E)&&"/"===A.charAt(E.length)),I={isActive:k,isPending:T,isTransitioning:x},B=k?r:void 0;N="function"===typeof i?i(I):[i,k?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let R="function"===typeof l?l(I):l;return t.createElement(pt,c(c({},f),{},{"aria-current":B,className:N,ref:n,style:R,to:u,viewTransition:d}),"function"===typeof h?h(I):h)}).displayName="NavLink";var mt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:s,navigate:i,reloadDocument:o,replace:l,state:u,method:d=De,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y}=e,b=a(e,m),w=wt(),x=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(ie),a=t.useContext(le);v(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i=c({},me(e||".",{relative:n})),o=de();if(null==e){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(i.pathname="/"===i.pathname?r:q([r,i.pathname]));return E(i)}(h,{relative:p}),C="get"===d.toLowerCase()?"get":"post",A="string"===typeof h&&ft.test(h);return t.createElement("form",c(c({ref:n,method:C,action:x,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;w(t||e.currentTarget,{fetcherKey:s,method:n,navigate:i,replace:l,state:u,relative:p,preventScrollReset:g,viewTransition:y})}},b),{},{"data-discover":A||"render"!==r?void 0:"true"}))});function gt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function yt(e){let n=t.useContext(ee);return v(n,gt(e)),n}mt.displayName="Form";var vt=0,bt=()=>"__".concat(String(++vt),"__");function wt(){let{router:e}=yt("useSubmit"),{basename:n}=t.useContext(ie),r=Se("useRouteId");return t.useCallback(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:o,formData:l,body:c}=Ve(t,n);if(!1===a.navigate){let t=a.fetcherKey||bt();await e.fetch(t,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,n,r])}function xt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Et={data:""},Ct=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Et},At=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,St=/\/\*[^]*?\*\/|  +/g,Nt=/\n+/g,kt=(e,t)=>{let n="",r="",a="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+i+";":r+="f"==s[1]?kt(i,s):s+"{"+kt(i,"k"==s[1]?"":t)+"}":"object"==typeof i?r+=kt(i,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=kt.p?kt.p(s,i):s+":"+i+";")}return n+(t&&a?t+"{"+a+"}":a)+r},Tt={},It=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+It(e[n]);return t}return e},Bt=(e,t,n,r,a)=>{let s=It(e),i=Tt[s]||(Tt[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Tt[i]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=At.exec(e.replace(St,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Nt," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Nt," ").trim();return r[0]})(e);Tt[i]=kt(a?{["@keyframes "+i]:t}:t,n?"":"."+i)}let o=n&&Tt.g?Tt.g:null;return n&&(Tt.g=Tt[i]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Tt[i],t,r,o),i};function Rt(e){let t=this||{},n=e.call?e(t.p):e;return Bt(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let s=t[a];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":kt(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Ct(t.target),t.g,t.o,t.k)}Rt.bind({g:1});let jt,Pt,Lt,Dt=Rt.bind({k:1});function Ot(e,t){let n=this||{};return function(){let r=arguments;function a(s,i){let o=Object.assign({},s),l=o.className||a.className;n.p=Object.assign({theme:Pt&&Pt()},o),n.o=/ *go\d+/.test(l),o.className=Rt.apply(n,r)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),Lt&&c[0]&&Lt(o),jt(c,o)}return t?t(a):a}}var _t,Ut,Mt,Ft,Vt,zt,Kt,Ht,Gt,Qt,qt,Wt,Jt,Yt,Zt,Xt,$t=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,en=(()=>{let e=0;return()=>(++e).toString()})(),tn=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),nn="default",rn=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return c(c({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?c(c({},e),t.toast):e)});case 2:let{toast:r}=t;return rn(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return c(c({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?c(c({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?c(c({},e),{},{toasts:[]}):c(c({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return c(c({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return c(c({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>c(c({},e),{},{pauseDuration:e.pauseDuration+s}))})}},an=[],sn={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},on={},ln=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nn;on[t]=rn(on[t]||sn,e),an.forEach(e=>{let[n,r]=e;n===t&&r(on[t])})},cn=e=>Object.keys(on).forEach(t=>ln(e,t)),un=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn;return t=>{ln(t,e)}},dn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hn=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return c(c({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||en()})}(t,e,n);return un(r.toasterId||(e=>Object.keys(on).find(t=>on[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},fn=(e,t)=>hn("blank")(e,t);fn.error=hn("error"),fn.success=hn("success"),fn.loading=hn("loading"),fn.custom=hn("custom"),fn.dismiss=(e,t)=>{let n={type:3,toastId:e};t?un(t)(n):cn(n)},fn.dismissAll=e=>fn.dismiss(void 0,e),fn.remove=(e,t)=>{let n={type:4,toastId:e};t?un(t)(n):cn(n)},fn.removeAll=e=>fn.remove(void 0,e),fn.promise=(e,t,n)=>{let r=fn.loading(t.loading,c(c({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?$t(t.success,e):void 0;return a?fn.success(a,c(c({id:r},n),null==n?void 0:n.success)):fn.dismiss(r),e}).catch(e=>{let a=t.error?$t(t.error,e):void 0;a?fn.error(a,c(c({id:r},n),null==n?void 0:n.error)):fn.dismiss(r)}),e};var pn=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:r,pausedAt:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nn,[r,a]=(0,t.useState)(on[n]||sn),s=(0,t.useRef)(on[n]);(0,t.useEffect)(()=>(s.current!==on[n]&&a(on[n]),an.push([n,a]),()=>{let e=an.findIndex(e=>{let[t]=e;return t===n});e>-1&&an.splice(e,1)}),[n]);let i=r.toasts.map(t=>{var n,r,a;return c(c(c(c({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||dn[t.type],style:c(c(c({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return c(c({},r),{},{toasts:i})}(e,n),s=(0,t.useRef)(new Map).current,i=(0,t.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(s.has(e))return;let n=setTimeout(()=>{s.delete(e),o({type:4,toastId:e})},t);s.set(e,n)},[]);(0,t.useEffect)(()=>{if(a)return;let e=Date.now(),t=r.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(r<0))return setTimeout(()=>fn.dismiss(t.id,n),r);t.visible&&fn.dismiss(t.id)});return()=>{t.forEach(e=>e&&clearTimeout(e))}},[r,a,n]);let o=(0,t.useCallback)(un(n),[n]),l=(0,t.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),u=(0,t.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),d=(0,t.useCallback)(()=>{a&&o({type:6,time:Date.now()})},[a,o]),h=(0,t.useCallback)((e,t)=>{let{reverseOrder:n=!1,gutter:a=8,defaultPosition:s}=t||{},i=r.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=i.findIndex(t=>t.id===e.id),l=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...n?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[r]);return(0,t.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=s.get(e.id);t&&(clearTimeout(t),s.delete(e.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:u,startPause:l,endPause:d,calculateOffset:h}}},mn=Dt(_t||(_t=xt(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),gn=Dt(Ut||(Ut=xt(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),yn=Dt(Mt||(Mt=xt(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),vn=Ot("div")(Ft||(Ft=xt(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",mn,gn,e=>e.secondary||"#fff",yn),bn=Dt(Vt||(Vt=xt(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),wn=Ot("div")(zt||(zt=xt(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",bn),xn=Dt(Kt||(Kt=xt(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),En=Dt(Ht||(Ht=xt(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Cn=Ot("div")(Gt||(Gt=xt(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",xn,En,e=>e.secondary||"#fff"),An=Ot("div")(Qt||(Qt=xt(["\n  position: absolute;\n"]))),Sn=Ot("div")(qt||(qt=xt(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Nn=Dt(Wt||(Wt=xt(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),kn=Ot("div")(Jt||(Jt=xt(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Nn),Tn=e=>{let{toast:n}=e,{icon:r,type:a,iconTheme:s}=n;return void 0!==r?"string"==typeof r?t.createElement(kn,null,r):r:"blank"===a?null:t.createElement(Sn,null,t.createElement(wn,c({},s)),"loading"!==a&&t.createElement(An,null,"error"===a?t.createElement(vn,c({},s)):t.createElement(Cn,c({},s))))},In=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Bn=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Rn=Ot("div")(Yt||(Yt=xt(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),jn=Ot("div")(Zt||(Zt=xt(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Pn=t.memo(e=>{let{toast:n,position:r,style:a,children:s}=e,i=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=tn()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[In(n),Bn(n)];return{animation:t?"".concat(Dt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Dt(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(n.position||r||"top-center",n.visible):{opacity:0},o=t.createElement(Tn,{toast:n}),l=t.createElement(jn,c({},n.ariaProps),$t(n.message,n));return t.createElement(Rn,{className:n.className,style:c(c(c({},i),a),n.style)},"function"==typeof s?s({icon:o,message:l}):t.createElement(t.Fragment,null,o,l))});!function(e,t,n,r){kt.p=t,jt=e,Pt=n,Lt=r}(t.createElement);var Ln=e=>{let{id:n,className:r,style:a,onHeightUpdate:s,children:i}=e,o=t.useCallback(e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;s(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return t.createElement("div",{ref:o,className:r,style:a},i)},Dn=Rt(Xt||(Xt=xt(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),On=e=>{let{reverseOrder:n,position:r="top-center",toastOptions:a,gutter:s,children:i,toasterId:o,containerStyle:l,containerClassName:u}=e,{toasts:d,handlers:h}=pn(a,o);return t.createElement("div",{"data-rht-toaster":o||"",style:c({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},d.map(e=>{let a=e.position||r,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return c(c({left:0,right:0,display:"flex",position:"absolute",transition:tn()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)})(a,h.calculateOffset(e,{reverseOrder:n,gutter:s,defaultPosition:r}));return t.createElement(Ln,{id:e.id,key:e.id,onHeightUpdate:h.updateHeight,className:e.visible?Dn:"",style:o},"custom"===e.type?$t(e.message,e):i?i(e):t.createElement(Pn,{toast:e,position:a}))}))},_n=fn,Un={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mn=["color","size","strokeWidth","absoluteStrokeWidth","children"];var Fn=(e,n)=>{const r=(0,t.forwardRef)((r,s)=>{let{color:i="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,children:d}=r,h=a(r,Mn);return(0,t.createElement)("svg",c(c({ref:s},Un),{},{width:o,height:o,stroke:i,strokeWidth:u?24*Number(l)/Number(o):l,className:"lucide lucide-".concat((f=e,f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},h),[...n.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...(Array.isArray(d)?d:[d])||[]]);var f});return r.displayName="".concat(e),r};const Vn=Fn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),zn=Fn("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Kn=Fn("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Hn=Fn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Gn=Fn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Qn=Fn("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),qn=Fn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function Wn(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jn(e,t,n){Wn(e,t),t.set(e,n)}function Yn(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function Zn(e,t){return e.get(Yn(e,t))}function Xn(e,t,n){return e.set(Yn(e,t),n),n}function $n(e,t,n){const r=t.split("|").map(e=>e.trim());for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const a=new Error("invalid value for type ".concat(t));throw a.code="INVALID_ARGUMENT",a.argument="value.".concat(n),a.value=e,a}async function er(e){const t=Object.keys(e),n=await Promise.all(t.map(t=>Promise.resolve(e[t])));return n.reduce((e,n,r)=>(e[t[r]]=n,e),{})}function tr(e,t,n){for(let r in t){let a=t[r];const s=n?n[r]:null;s&&$n(a,s,r),Object.defineProperty(e,r,{enumerable:!0,value:a,writable:!1})}}function nr(e,t){if(null==e)return"null";if(null==t&&(t=new Set),"object"===typeof e){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(e=>nr(e,t)).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return nr(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const n=Object.keys(e);return n.sort(),"{ "+n.map(n=>"".concat(nr(n,t),": ").concat(nr(e[n],t))).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function rr(e,t){return e&&e.code===t}function ar(e){return rr(e,"CALL_EXCEPTION")}function sr(e,t,n){let r,a=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error("value will overwrite populated values: ".concat(nr(n)));for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+nr(t))}}r.push("code=".concat(t)),r.push("version=".concat("6.15.0")),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return tr(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&tr(r,{shortMessage:a}),r}function ir(e,t,n,r){if(!e)throw sr(t,n,r)}function or(e,t,n,r){ir(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function lr(e,t,n){null==n&&(n=""),n&&(n=": "+n),ir(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),ir(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const cr=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e},[]);function ur(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),ir(!1,"private constructor; use ".concat(e,"from* methods"),"UNSUPPORTED_OPERATION",{operation:t})}}function dr(e,t){Wn(e,t),t.add(e)}function hr(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}or(!1,"invalid BytesLike value",t||"value",e)}function fr(e,t){return hr(e,t,!1)}function pr(e,t){return hr(e,t,!0)}function mr(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function gr(e){return mr(e,!0)||e instanceof Uint8Array}const yr="0123456789abcdef";function vr(e){const t=fr(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=yr[(240&e)>>4]+yr[15&e]}return n}function br(e){return"0x"+e.map(e=>vr(e).substring(2)).join("")}function wr(e){return mr(e,!0)?(e.length-2)/2:fr(e).length}function xr(e,t,n){const r=fr(e);return null!=n&&n>r.length&&ir(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),vr(r.slice(null==t?0:t,null==n?r.length:n))}function Er(e,t,n){const r=fr(e);ir(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const a=new Uint8Array(t);return a.fill(0),n?a.set(r,t-r.length):a.set(r,0),vr(a)}function Cr(e,t){return Er(e,t,!0)}const Ar=BigInt(0),Sr=BigInt(1),Nr=9007199254740991;function kr(e,t){let n=Ir(e,"value");const r=BigInt(Pr(t,"width")),a=Sr<<r-Sr;if(n<Ar){n=-n,ir(n<=a,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(Sr<<r)-Sr)+Sr}return ir(n<a,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function Tr(e,t){const n=Br(e,"value"),r=BigInt(Pr(t,"bits"));return n&(Sr<<r)-Sr}function Ir(e,t){switch(typeof e){case"bigint":return e;case"number":return or(Number.isInteger(e),"underflow",t||"value",e),or(e>=-Nr&&e<=Nr,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(Et){or(!1,"invalid BigNumberish string: ".concat(Et.message),t||"value",e)}}or(!1,"invalid BigNumberish value",t||"value",e)}function Br(e,t){const n=Ir(e,t);return ir(n>=Ar,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const Rr="0123456789abcdef";function jr(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=Rr[n>>4],t+=Rr[15&n];return BigInt(t)}return Ir(e)}function Pr(e,t){switch(typeof e){case"bigint":return or(e>=-Nr&&e<=Nr,"overflow",t||"value",e),Number(e);case"number":return or(Number.isInteger(e),"underflow",t||"value",e),or(e>=-Nr&&e<=Nr,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return Pr(BigInt(e),t)}catch(Et){or(!1,"invalid numeric string: ".concat(Et.message),t||"value",e)}}or(!1,"invalid numeric value",t||"value",e)}function Lr(e,t){let n=Br(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=Pr(t,"width");for(ir(2*r>=n.length,"value exceeds width (".concat(r," bytes)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function Dr(e){const t=Br(e,"value");if(t===Ar)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let a=0;a<r.length;a++){const e=2*a;r[a]=parseInt(n.substring(e,e+2),16)}return r}function Or(e){let t=vr(gr(e)?e:Dr(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const _r=32,Ur=new Uint8Array(_r),Mr=["then"],Fr={},Vr=new WeakMap;function zr(e){return Vr.get(e)}function Kr(e,t){Vr.set(e,t)}function Hr(e,t){const n=new Error("deferred error during ABI decoding triggered accessing ".concat(e));throw n.error=t,n}function Gr(e,t,n){return e.indexOf(null)>=0?t.map((e,t)=>e instanceof qr?Gr(zr(e),e,n):e):e.reduce((e,r,a)=>{let s=t.getValue(r);return r in e||(n&&s instanceof qr&&(s=Gr(zr(s),s,n)),e[r]=s),e},{})}var Qr=new WeakMap;class qr extends Array{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let a=t[1],s=(t[2]||[]).slice(),i=!0;r!==Fr&&(a=t,s=[],i=!1),super(a.length),Jn(this,Qr,void 0),a.forEach((e,t)=>{this[t]=e});const o=s.reduce((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(Kr(this,Object.freeze(a.map((e,t)=>{const n=s[t];return null!=n&&1===o.get(n)?n:null}))),Xn(Qr,this,[]),null==Zn(Qr,this)&&Zn(Qr,this),!i)return;Object.freeze(this);const l=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=Pr(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&Hr("index ".concat(n),r),r}if(Mr.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r.apply(this===n?e:this,a)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return Kr(l,zr(this)),l}toArray(e){const t=[];return this.forEach((n,r)=>{n instanceof Error&&Hr("index ".concat(r),n),e&&n instanceof qr&&(n=n.toArray(e)),t.push(n)}),t}toObject(e){const t=zr(this);return t.reduce((n,r,a)=>(ir(null!=r,"value at index ".concat(a," unnamed"),"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Gr(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=zr(this),r=[],a=[];for(let s=e;s<t;s++)r.push(this[s]),a.push(n[s]);return new qr(Fr,r,a)}filter(e,t){const n=zr(this),r=[],a=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&Hr("index ".concat(s),i),e.call(t,i,s,this)&&(r.push(i),a.push(n[s]))}return new qr(Fr,r,a)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const a=this[r];a instanceof Error&&Hr("index ".concat(r),a),n.push(e.call(t,a,r,this))}return n}getValue(e){const t=zr(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&Hr("property ".concat(JSON.stringify(e)),n.error),n}static fromItems(e,t){return new qr(Fr,e,t)}}function Wr(e){let t=Dr(e);return ir(t.length<=_r,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:_r,offset:t.length}),t.length!==_r&&(t=pr(br([Ur.slice(t.length%_r),t]))),t}class Jr{constructor(e,t,n,r){o(this,"name",void 0),o(this,"type",void 0),o(this,"localName",void 0),o(this,"dynamic",void 0),tr(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){or(!1,e,this.localName,t)}}var Yr=new WeakMap,Zr=new WeakMap,Xr=new WeakSet;class $r{constructor(){dr(this,Xr),Jn(this,Yr,void 0),Jn(this,Zr,void 0),Xn(Yr,this,[]),Xn(Zr,this,0)}get data(){return br(Zn(Yr,this))}get length(){return Zn(Zr,this)}appendWriter(e){return Yn(Xr,this,ea).call(this,pr(e.data))}writeBytes(e){let t=pr(e);const n=t.length%_r;return n&&(t=pr(br([t,Ur.slice(n)]))),Yn(Xr,this,ea).call(this,t)}writeValue(e){return Yn(Xr,this,ea).call(this,Wr(e))}writeUpdatableValue(){const e=Zn(Yr,this).length;return Zn(Yr,this).push(Ur),Xn(Zr,this,Zn(Zr,this)+_r),t=>{Zn(Yr,this)[e]=Wr(t)}}}function ea(e){return Zn(Yr,this).push(e),Xn(Zr,this,Zn(Zr,this)+e.length),e.length}var ta=new WeakMap,na=new WeakMap,ra=new WeakMap,aa=new WeakMap,sa=new WeakMap,ia=new WeakSet;class oa{constructor(e,t,n){dr(this,ia),o(this,"allowLoose",void 0),Jn(this,ta,void 0),Jn(this,na,void 0),Jn(this,ra,void 0),Jn(this,aa,void 0),Jn(this,sa,void 0),tr(this,{allowLoose:!!t}),Xn(ta,this,pr(e)),Xn(ra,this,0),Xn(aa,this,null),Xn(sa,this,null!=n?n:1024),Xn(na,this,0)}get data(){return vr(Zn(ta,this))}get dataLength(){return Zn(ta,this).length}get consumed(){return Zn(na,this)}get bytes(){return new Uint8Array(Zn(ta,this))}subReader(e){const t=new oa(Zn(ta,this).slice(Zn(na,this)+e),this.allowLoose,Zn(sa,this));return Xn(aa,t,this),t}readBytes(e,t){let n=Yn(ia,this,ca).call(this,0,e,!!t);return Yn(ia,this,la).call(this,e),Xn(na,this,Zn(na,this)+n.length),n.slice(0,e)}readValue(){return jr(this.readBytes(_r))}readIndex(){return Pr(jr(this.readBytes(_r)))}}function la(e){var t;if(Zn(aa,this))return Yn(ia,t=Zn(aa,this),la).call(t,e);Xn(ra,this,Zn(ra,this)+e),ir(Zn(sa,this)<1||Zn(ra,this)<=Zn(sa,this)*this.dataLength,"compressed ABI data exceeds inflation ratio of ".concat(Zn(sa,this)," ( see: https://github.com/ethers-io/ethers.js/issues/4537 )"),"BUFFER_OVERRUN",{buffer:pr(Zn(ta,this)),offset:Zn(na,this),length:e,info:{bytesRead:Zn(ra,this),dataLength:this.dataLength}})}function ca(e,t,n){let r=Math.ceil(t/_r)*_r;return Zn(na,this)+r>Zn(ta,this).length&&(this.allowLoose&&n&&Zn(na,this)+t<=Zn(ta,this).length?r=t:ir(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:pr(Zn(ta,this)),length:Zn(ta,this).length,offset:Zn(na,this)+r})),Zn(ta,this).slice(Zn(na,this),Zn(na,this)+r)}function ua(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function da(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function ha(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ua(e.outputLen),ua(e.blockLen)}function fa(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function pa(e,t){da(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const ma=BigInt(2**32-1),ga=BigInt(32);function ya(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&ma),l:Number(e>>ga&ma)}:{h:0|Number(e>>ga&ma),l:0|Number(e&ma)}}function va(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:s,l:i}=ya(e[a],t);[n[a],r[a]]=[s,i]}return[n,r]}const ba=(e,t,n)=>e<<n|t>>>32-n,wa=(e,t,n)=>t<<n|e>>>32-n,xa=(e,t,n)=>t<<n-32|e>>>64-n,Ea=(e,t,n)=>e<<n-32|t>>>64-n;const Ca={fromBig:ya,split:va,toBig:(e,t)=>BigInt(e>>>0)<<ga|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:ba,rotlSL:wa,rotlBH:xa,rotlBL:Ea,add:function(e,t,n,r){const a=(t>>>0)+(r>>>0);return{h:e+n+(a/2**32|0)|0,l:0|a}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,a)=>t+n+r+a+(e/2**32|0)|0,add5H:(e,t,n,r,a,s)=>t+n+r+a+s+(e/2**32|0)|0,add5L:(e,t,n,r,a)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(a>>>0)},Aa=Ca,Sa="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Na=e=>e instanceof Uint8Array,ka=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ta=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Ia(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!Na(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class Ba{clone(){return this._cloneInto()}}function Ra(e){const t=t=>e().update(Ia(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Sa&&"function"===typeof Sa.getRandomValues)return Sa.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[Pa,La,Da]=[[],[],[]],Oa=BigInt(0),_a=BigInt(1),Ua=BigInt(2),Ma=BigInt(7),Fa=BigInt(256),Va=BigInt(113);for(let n=0,hy=_a,fy=1,py=0;n<24;n++){[fy,py]=[py,(2*fy+3*py)%5],Pa.push(2*(5*py+fy)),La.push((n+1)*(n+2)/2%64);let e=Oa;for(let t=0;t<7;t++)hy=(hy<<_a^(hy>>Ma)*Va)%Fa,hy&Ua&&(e^=_a<<(_a<<BigInt(t))-_a);Da.push(e)}const[za,Ka]=va(Da,!0),Ha=(e,t,n)=>n>32?xa(e,t,n):ba(e,t,n),Ga=(e,t,n)=>n>32?Ea(e,t,n):wa(e,t,n);class Qa extends Ba{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ua(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,a=(r+2)%10,s=n[a],i=n[a+1],o=Ha(s,i,1)^n[t],l=Ga(s,i,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=o,e[r+n+1]^=l}let t=e[2],a=e[3];for(let n=0;n<24;n++){const r=La[n],s=Ha(t,a,r),i=Ga(t,a,r),o=Pa[n];t=e[o],a=e[o+1],e[o]=s,e[o+1]=i}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=za[r],e[1]^=Ka[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){fa(this);const{blockLen:t,state:n}=this,r=(e=Ia(e)).length;for(let a=0;a<r;){const s=Math.min(t-this.pos,r-a);for(let t=0;t<s;t++)n[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){fa(this,!1),da(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,a=e.length;r<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ua(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(pa(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:a,enableXOF:s}=this;return e||(e=new Qa(t,n,r,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const qa=(e,t,n)=>Ra(()=>new Qa(t,e,n)),Wa=qa(1,136,32);let Ja=!1;const Ya=function(e){return Wa(e)};let Za=Ya;function Xa(e){const t=fr(e,"data");return vr(Za(t))}Xa._=Ya,Xa.lock=function(){Ja=!0},Xa.register=function(e){if(Ja)throw new TypeError("keccak256 is locked");Za=e},Object.freeze(Xa);const $a=BigInt(0),es=BigInt(36);function ts(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let a=0;a<40;a++)n[a]=t[a].charCodeAt(0);const r=fr(Xa(n));for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&(t[a]=t[a].toUpperCase()),(15&r[a>>1])>=8&&(t[a+1]=t[a+1].toUpperCase());return"0x"+t.join("")}const ns={};for(let n=0;n<10;n++)ns[String(n)]=String(n);for(let n=0;n<26;n++)ns[String.fromCharCode(65+n)]=String(10+n);function rs(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>ns[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const as=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function ss(e){if(or("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=ts(e);return or(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){or(e.substring(2,4)===rs(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=$a;for(let n=0;n<e.length;n++)t=t*es+as[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return ts("0x"+t)}or(!1,"invalid address","address",e)}const is={};function os(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new ds(is,"".concat(n?"":"u","int").concat(t),e,{signed:n,width:t})}function ls(e,t){return new ds(is,"bytes".concat(t||""),e,{size:t})}const cs=Symbol.for("_ethers_typed");var us=new WeakMap;class ds{constructor(e,t,n,r){o(this,"type",void 0),o(this,"value",void 0),Jn(this,us,void 0),o(this,"_typedSymbol",void 0),null==r&&(r=null),ur(is,e,"Typed"),tr(this,{_typedSymbol:cs,type:t,value:n}),Xn(us,this,r),this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?"tuple(".concat(this.value.map(e=>e.format()).join(","),")"):this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return Zn(us,this)}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===Zn(us,this)?-1:!1===Zn(us,this)?this.value.length:null}static from(e,t){return new ds(is,e,t)}static uint8(e){return os(e,8)}static uint16(e){return os(e,16)}static uint24(e){return os(e,24)}static uint32(e){return os(e,32)}static uint40(e){return os(e,40)}static uint48(e){return os(e,48)}static uint56(e){return os(e,56)}static uint64(e){return os(e,64)}static uint72(e){return os(e,72)}static uint80(e){return os(e,80)}static uint88(e){return os(e,88)}static uint96(e){return os(e,96)}static uint104(e){return os(e,104)}static uint112(e){return os(e,112)}static uint120(e){return os(e,120)}static uint128(e){return os(e,128)}static uint136(e){return os(e,136)}static uint144(e){return os(e,144)}static uint152(e){return os(e,152)}static uint160(e){return os(e,160)}static uint168(e){return os(e,168)}static uint176(e){return os(e,176)}static uint184(e){return os(e,184)}static uint192(e){return os(e,192)}static uint200(e){return os(e,200)}static uint208(e){return os(e,208)}static uint216(e){return os(e,216)}static uint224(e){return os(e,224)}static uint232(e){return os(e,232)}static uint240(e){return os(e,240)}static uint248(e){return os(e,248)}static uint256(e){return os(e,256)}static uint(e){return os(e,256)}static int8(e){return os(e,-8)}static int16(e){return os(e,-16)}static int24(e){return os(e,-24)}static int32(e){return os(e,-32)}static int40(e){return os(e,-40)}static int48(e){return os(e,-48)}static int56(e){return os(e,-56)}static int64(e){return os(e,-64)}static int72(e){return os(e,-72)}static int80(e){return os(e,-80)}static int88(e){return os(e,-88)}static int96(e){return os(e,-96)}static int104(e){return os(e,-104)}static int112(e){return os(e,-112)}static int120(e){return os(e,-120)}static int128(e){return os(e,-128)}static int136(e){return os(e,-136)}static int144(e){return os(e,-144)}static int152(e){return os(e,-152)}static int160(e){return os(e,-160)}static int168(e){return os(e,-168)}static int176(e){return os(e,-176)}static int184(e){return os(e,-184)}static int192(e){return os(e,-192)}static int200(e){return os(e,-200)}static int208(e){return os(e,-208)}static int216(e){return os(e,-216)}static int224(e){return os(e,-224)}static int232(e){return os(e,-232)}static int240(e){return os(e,-240)}static int248(e){return os(e,-248)}static int256(e){return os(e,-256)}static int(e){return os(e,-256)}static bytes1(e){return ls(e,1)}static bytes2(e){return ls(e,2)}static bytes3(e){return ls(e,3)}static bytes4(e){return ls(e,4)}static bytes5(e){return ls(e,5)}static bytes6(e){return ls(e,6)}static bytes7(e){return ls(e,7)}static bytes8(e){return ls(e,8)}static bytes9(e){return ls(e,9)}static bytes10(e){return ls(e,10)}static bytes11(e){return ls(e,11)}static bytes12(e){return ls(e,12)}static bytes13(e){return ls(e,13)}static bytes14(e){return ls(e,14)}static bytes15(e){return ls(e,15)}static bytes16(e){return ls(e,16)}static bytes17(e){return ls(e,17)}static bytes18(e){return ls(e,18)}static bytes19(e){return ls(e,19)}static bytes20(e){return ls(e,20)}static bytes21(e){return ls(e,21)}static bytes22(e){return ls(e,22)}static bytes23(e){return ls(e,23)}static bytes24(e){return ls(e,24)}static bytes25(e){return ls(e,25)}static bytes26(e){return ls(e,26)}static bytes27(e){return ls(e,27)}static bytes28(e){return ls(e,28)}static bytes29(e){return ls(e,29)}static bytes30(e){return ls(e,30)}static bytes31(e){return ls(e,31)}static bytes32(e){return ls(e,32)}static address(e){return new ds(is,"address",e)}static bool(e){return new ds(is,"bool",!!e)}static bytes(e){return new ds(is,"bytes",e)}static string(e){return new ds(is,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new ds(is,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===cs}static dereference(e,t){if(ds.isTyped(e)){if(e.type!==t)throw new Error("invalid type: expecetd ".concat(t,", got ").concat(e.type));return e.value}return e}}class hs extends Jr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=ds.dereference(t,"string");try{n=ss(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return ss(Lr(e.readValue(),20))}}class fs extends Jr{constructor(e){super(e.name,e.type,"_",e.dynamic),o(this,"coder",void 0),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function ps(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map(t=>{const r=t.localName;return ir(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),ir(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]})}else or(!1,"invalid tuple value","tuple",n);or(t.length===r.length,"types/value length mismatch","tuple",n);let a=new $r,s=new $r,i=[];t.forEach((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=a.writeUpdatableValue();i.push(e=>{r(e+t)})}else e.encode(a,n)}),i.forEach(e=>{e(a.length)});let o=e.appendWriter(a);return o+=e.appendWriter(s),o}function ms(e,t){let n=[],r=[],a=e.subReader(0);return t.forEach(t=>{let s=null;if(t.dynamic){let n=e.readIndex(),r=a.subReader(n);try{s=t.decode(r)}catch(i){if(rr(i,"BUFFER_OVERRUN"))throw i;s=i,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(i){if(rr(i,"BUFFER_OVERRUN"))throw i;s=i,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw new Error("investigate");n.push(s),r.push(t.localName||null)}),qr.fromItems(n,r)}class gs extends Jr{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),o(this,"coder",void 0),o(this,"length",void 0),tr(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=ds.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),lr(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let s=0;s<n.length;s++)a.push(this.coder);return ps(e,a,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),ir(t*_r<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*_r,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new fs(this.coder));return ms(e,n)}}class ys extends Jr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=ds.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class vs extends Jr{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=pr(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class bs extends vs{constructor(e){super("bytes",e)}decode(e){return vr(super.decode(e))}}class ws extends Jr{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),o(this,"size",void 0),tr(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=pr(ds.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return vr(e.readBytes(this.size))}}const xs=new Uint8Array([]);class Es extends Jr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(xs)}decode(e){return e.readBytes(0),null}}const Cs=BigInt(0),As=BigInt(1),Ss=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Ns extends Jr{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),o(this,"size",void 0),o(this,"signed",void 0),tr(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=Ir(ds.dereference(t,this.type)),r=Tr(Ss,256);if(this.signed){let e=Tr(r,8*this.size-1);(n>e||n<-(e+As))&&this._throwError("value out-of-bounds",t),n=kr(n,256)}else(n<Cs||n>Tr(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=Tr(e.readValue(),8*this.size);return this.signed&&(t=function(e,t){const n=Br(e,"value"),r=BigInt(Pr(t,"width"));if(ir(n>>r===Ar,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-Sr)return-((~n&(Sr<<r)-Sr)+Sr);return n}(t,8*this.size)),t}}function ks(e,t,n,r,a){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const Ts=Object.freeze({error:function(e,t,n,r,a){or(!1,"invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",n)},ignore:ks,replace:function(e,t,n,r,a){return"OVERLONG"===e?(or("number"===typeof a,"invalid bad code point for replacement","badCodepoint",a),r.push(a),0):(r.push(65533),ks(e,t,n))}});function Is(e,t){null==t&&(t=Ts.error);const n=fr(e,"bytes"),r=[];let a=0;for(;a<n.length;){const e=n[a++];if(e>>7===0){r.push(e);continue}let s=null,i=null;if(192===(224&e))s=1,i=127;else if(224===(240&e))s=2,i=2047;else{if(240!==(248&e)){a+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",a-1,n,r);continue}s=3,i=65535}if(a-1+s>=n.length){a+=t("OVERRUN",a-1,n,r);continue}let o=e&(1<<8-s-1)-1;for(let l=0;l<s;l++){let e=n[a];if(128!=(192&e)){a+=t("MISSING_CONTINUE",a,n,r),o=null;break}o=o<<6|63&e,a++}null!==o&&(o>1114111?a+=t("OUT_OF_RANGE",a-1-s,n,r,o):o>=55296&&o<=57343?a+=t("UTF16_SURROGATE",a-1-s,n,r,o):o<=i?a+=t("OVERLONG",a-1-s,n,r,o):r.push(o))}return r}function Bs(e,t){or("string"===typeof e,"invalid string value","str",e),null!=t&&(!function(e){ir(cr.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const a=e.charCodeAt(r);or(r<e.length&&56320===(64512&a),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&a);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function Rs(e,t){return Is(e,t).map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))).join("")}class js extends vs{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Bs(ds.dereference(t,"string")))}decode(e){return Rs(super.decode(e))}}class Ps extends Jr{constructor(e,t){let n=!1;const r=[];e.forEach(e=>{e.dynamic&&(n=!0),r.push(e.type)});super("tuple","tuple("+r.join(",")+")",t,n),o(this,"coders",void 0),tr(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});const t=this.coders.reduce((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e},{});return this.coders.forEach((n,r)=>{let a=n.localName;a&&1===t[a]&&("length"===a&&(a="_length"),null==e[a]&&(e[a]=e[r]))}),Object.freeze(e)}encode(e,t){const n=ds.dereference(t,"tuple");return ps(e,this.coders,n)}decode(e){return ms(e,this.coders)}}function Ls(e){return Xa(Bs(e))}var Ds;function Os(e){const t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}const _s=Os("external public payable override".split(" ")),Us="constant external internal payable private public pure view override",Ms=Os(Us.split(" ")),Fs="constructor error event fallback function receive struct",Vs=Os(Fs.split(" ")),zs="calldata memory storage payable indexed",Ks=Os(zs.split(" ")),Hs=Os([Fs,zs,"tuple returns",Us].join(" ").split(" ")),Gs={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Qs=new RegExp("^(\\s*)"),qs=new RegExp("^([0-9]+)"),Ws=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Js=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Ys=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Zs=new WeakMap,Xs=new WeakMap,$s=new WeakSet;class ei{get offset(){return Zn(Zs,this)}get length(){return Zn(Xs,this).length-Zn(Zs,this)}constructor(e){dr(this,$s),Jn(this,Zs,void 0),Jn(this,Xs,void 0),Xn(Zs,this,0),Xn(Xs,this,e.slice())}clone(){return new ei(Zn(Xs,this))}reset(){Xn(Zs,this,0)}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error("expected keyword ".concat(t.text));return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error("expected ".concat(e,"; got ").concat(t.type," ").concat(JSON.stringify(t.text)))}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=Yn($s,this,ti).call(this,Zn(Zs,this)+1,e.match+1);return Xn(Zs,this,e.match+1),t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;Zn(Zs,this)<e.match-1;){const e=this.peek().linkNext;t.push(Yn($s,this,ti).call(this,Zn(Zs,this)+1,e)),Xn(Zs,this,e)}return Xn(Zs,this,e.match+1),t}peek(){if(Zn(Zs,this)>=Zn(Xs,this).length)throw new Error("out-of-bounds");return Zn(Xs,this)[Zn(Zs,this)]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){var e;const t=this.peek();return Xn(Zs,this,(e=Zn(Zs,this),e++,e)),t}toString(){const e=[];for(let t=Zn(Zs,this);t<Zn(Xs,this).length;t++){const n=Zn(Xs,this)[t];e.push("".concat(n.type,":").concat(n.text))}return"<TokenString ".concat(e.join(" "),">")}}function ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Ds(Zn(Xs,this).slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}function ni(e){const t=[],n=t=>{const n=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error("invalid token ".concat(n," at ").concat(s,": ").concat(t))};let r=[],a=[],s=0;for(;s<e.length;){let i=e.substring(s),o=i.match(Qs);o&&(s+=o[1].length,i=e.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(l);let c=Gs[i[0]]||"";if(c){if(l.type=c,l.text=i[0],s++,"OPEN_PAREN"===c)r.push(t.length-1),a.push(t.length-1);else if("CLOSE_PAREN"==c)0===r.length&&n("no matching open bracket"),l.match=r.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=a.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===c)l.linkBack=a.pop(),t[l.linkBack].linkNext=t.length-1,a.push(t.length-1);else if("OPEN_BRACKET"===c)l.type="BRACKET";else if("CLOSE_BRACKET"===c){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=Pr(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(o=i.match(Ws),o){if(l.text=o[1],s+=l.text.length,Hs.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(Ys)){l.type="TYPE";continue}l.type="ID"}else{if(o=i.match(qs),!o)throw new Error("unexpected token ".concat(JSON.stringify(i[0])," at position ").concat(s));l.text=o[1],l.type="NUMBER",s+=l.text.length}}return new ei(t.map(e=>Object.freeze(e)))}function ri(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error("conflicting types: ".concat(n.join(", ")))}function ai(e,t){if(t.peekKeyword(Vs)){const n=t.pop().text;if(n!==e)throw new Error("expected ".concat(e,", got ").concat(n))}return t.popType("ID")}function si(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error("duplicate keywords: ".concat(JSON.stringify(r)));n.add(r)}return Object.freeze(n)}function ii(e){let t=si(e,Ms);return ri(t,Os("constant payable nonpayable".split(" "))),ri(t,Os("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function oi(e,t){return e.popParams().map(e=>Ei.from(e,t))}function li(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return Ir(e.pop().text);throw new Error("invalid gas")}return null}function ci(e){if(e.length)throw new Error("unexpected tokens at offset ".concat(e.offset,": ").concat(e.toString()))}Ds=ei;const ui=new RegExp(/^(.*)\[([0-9]*)\]$/);function di(e){const t=e.match(Ys);if(or(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);or(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);or(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const hi={},fi=Symbol.for("_ethers_internal"),pi="_ParamTypeInternal",mi="_ErrorInternal",gi="_EventInternal",yi="_ConstructorInternal",vi="_FallbackInternal",bi="_FunctionInternal",wi="_StructInternal";var xi=new WeakSet;class Ei{constructor(e,t,n,r,a,s,i,l){if(dr(this,xi),o(this,"name",void 0),o(this,"type",void 0),o(this,"baseType",void 0),o(this,"indexed",void 0),o(this,"components",void 0),o(this,"arrayLength",void 0),o(this,"arrayChildren",void 0),ur(e,hi,"ParamType"),Object.defineProperty(this,fi,{value:pi}),s&&(s=Object.freeze(s.slice())),"array"===r){if(null==i||null==l)throw new Error("")}else if(null!=i||null!=l)throw new Error("");if("tuple"===r){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");tr(this,{name:t,type:n,baseType:r,indexed:a,components:s,arrayLength:i,arrayChildren:l})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]"),JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]")):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(e=>n.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((e,r)=>n.components[r].walk(e,t))}return t(this.type,e)}async walkAsync(e,t){const n=[],r=[e];return Yn(xi,this,Ci).call(this,n,e,t,e=>{r[0]=e}),n.length&&await Promise.all(n),r[0]}static from(e,t){if(Ei.isParamType(e))return e;if("string"===typeof e)try{return Ei.from(ni(e),t)}catch(i){or(!1,"invalid param type","obj",e)}else if(e instanceof ei){let n="",r="",a=null;si(e,Os(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",a=e.popParams().map(e=>Ei.from(e)),n="tuple(".concat(a.map(e=>e.format()).join(","),")")):(n=di(e.popType("TYPE")),r=n);let s=null,i=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();s=new Ei(hi,"",n,r,null,a,i,s),i=t.value,n+=t.text,r="array",a=null}let o=null;if(si(e,Ks).has("indexed")){if(!t)throw new Error("");o=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Ei(hi,l,n,r,o,a,i,s)}const n=e.name;or(!n||"string"===typeof n&&n.match(Js),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(or(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let a=e.type,s=a.match(ui);if(s){const t=parseInt(s[2]||"-1"),i=Ei.from({type:s[1],components:e.components});return new Ei(hi,n||"",a,"array",r,null,t,i)}if("tuple"===a||a.startsWith("tuple(")||a.startsWith("(")){const t=null!=e.components?e.components.map(e=>Ei.from(e)):null;return new Ei(hi,n||"",a,"tuple",r,t,null,null)}return a=di(e.type),new Ei(hi,n||"",a,a,r,null,null,null)}static isParamType(e){return e&&e[fi]===pi}}function Ci(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,s=t.slice();return s.forEach((t,r)=>{Yn(xi,a,Ci).call(a,e,t,n,e=>{s[r]=e})}),void r(s)}if(this.isTuple()){const a=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");s=a.map(e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error("missing value for component ".concat(e.name));return t[e.name]})}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach((t,r)=>{var i;Yn(xi,i=a[r],Ci).call(i,e,t,n,e=>{s[r]=e})}),void r(s)}const a=n(this.type,t);a.then?e.push(async function(){r(await a)}()):r(a)}class Ai{constructor(e,t,n){o(this,"type",void 0),o(this,"inputs",void 0),ur(e,hi,"Fragment"),tr(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{Ai.from(JSON.parse(e))}catch(Et){}return Ai.from(ni(e))}if(e instanceof ei){switch(e.peekKeyword(Vs)){case"constructor":return Ii.from(e);case"error":return ki.from(e);case"event":return Ti.from(e);case"fallback":case"receive":return Bi.from(e);case"function":return Ri.from(e);case"struct":return ji.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return Ii.from(e);case"error":return ki.from(e);case"event":return Ti.from(e);case"fallback":case"receive":return Bi.from(e);case"function":return Ri.from(e);case"struct":return ji.from(e)}ir(!1,"unsupported type: ".concat(e.type),"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}or(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ii.isFragment(e)}static isError(e){return ki.isFragment(e)}static isEvent(e){return Ti.isFragment(e)}static isFunction(e){return Ri.isFragment(e)}static isStruct(e){return ji.isFragment(e)}}class Si extends Ai{constructor(e,t,n,r){super(e,t,r),o(this,"name",void 0),or("string"===typeof n&&n.match(Js),"invalid identifier","name",n),r=Object.freeze(r.slice()),tr(this,{name:n})}}function Ni(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class ki extends Si{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,fi,{value:mi})}get selector(){return Ls(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+Ni(e,this.inputs)),t.join(" ")}static from(e){if(ki.isFragment(e))return e;if("string"===typeof e)return ki.from(ni(e));if(e instanceof ei){const t=ai("error",e),n=oi(e);return ci(e),new ki(hi,t,n)}return new ki(hi,e.name,e.inputs?e.inputs.map(Ei.from):[])}static isFragment(e){return e&&e[fi]===mi}}class Ti extends Si{constructor(e,t,n,r){super(e,"event",t,n),o(this,"anonymous",void 0),Object.defineProperty(this,fi,{value:gi}),tr(this,{anonymous:r})}get topicHash(){return Ls(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+Ni(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map(e=>Ei.from(e));return new Ti(hi,e,t,!1).topicHash}static from(e){if(Ti.isFragment(e))return e;if("string"===typeof e)try{return Ti.from(ni(e))}catch(t){or(!1,"invalid event fragment","obj",e)}else if(e instanceof ei){const t=ai("event",e),n=oi(e,!0),r=!!si(e,Os(["anonymous"])).has("anonymous");return ci(e),new Ti(hi,t,n,r)}return new Ti(hi,e.name,e.inputs?e.inputs.map(e=>Ei.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[fi]===gi}}class Ii extends Ai{constructor(e,t,n,r,a){super(e,t,n),o(this,"payable",void 0),o(this,"gas",void 0),Object.defineProperty(this,fi,{value:yi}),tr(this,{payable:r,gas:a})}format(e){if(ir(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=["constructor".concat(Ni(e,this.inputs))];return this.payable&&t.push("payable"),null!=this.gas&&t.push("@".concat(this.gas.toString())),t.join(" ")}static from(e){if(Ii.isFragment(e))return e;if("string"===typeof e)try{return Ii.from(ni(e))}catch(t){or(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof ei){si(e,Os(["constructor"]));const t=oi(e),n=!!si(e,_s).has("payable"),r=li(e);return ci(e),new Ii(hi,"constructor",t,n,r)}return new Ii(hi,"constructor",e.inputs?e.inputs.map(Ei.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[fi]===yi}}class Bi extends Ai{constructor(e,t,n){super(e,"fallback",t),o(this,"payable",void 0),Object.defineProperty(this,fi,{value:vi}),tr(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return"".concat(t,"()").concat(this.payable?" payable":"")}static from(e){if(Bi.isFragment(e))return e;if("string"===typeof e)try{return Bi.from(ni(e))}catch(t){or(!1,"invalid fallback fragment","obj",e)}else if(e instanceof ei){const t=e.toString();or(e.peekKeyword(Os(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(Os(["fallback","receive"]))){const t=oi(e);return or(0===t.length,"receive cannot have arguments","obj.inputs",t),si(e,Os(["payable"])),ci(e),new Bi(hi,[],!0)}let n=oi(e);n.length?or(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map(e=>e.format("minimal")).join(", ")):n=[Ei.from("bytes")];const r=ii(e);if(or("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),si(e,Os(["returns"])).has("returns")){const t=oi(e);or(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return ci(e),new Bi(hi,n,"payable"===r)}if("receive"===e.type)return new Bi(hi,[],!0);if("fallback"===e.type){const t=[Ei.from("bytes")],n="payable"===e.stateMutability;return new Bi(hi,t,n)}or(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[fi]===vi}}class Ri extends Si{constructor(e,t,n,r,a,s){super(e,"function",t,r),o(this,"constant",void 0),o(this,"outputs",void 0),o(this,"stateMutability",void 0),o(this,"payable",void 0),o(this,"gas",void 0),Object.defineProperty(this,fi,{value:bi});tr(this,{constant:"view"===n||"pure"===n,gas:s,outputs:a=Object.freeze(a.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return Ls(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+Ni(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Ni(e,this.outputs))),null!=this.gas&&t.push("@".concat(this.gas.toString()))),t.join(" ")}static getSelector(e,t){t=(t||[]).map(e=>Ei.from(e));return new Ri(hi,e,"view",t,[],null).selector}static from(e){if(Ri.isFragment(e))return e;if("string"===typeof e)try{return Ri.from(ni(e))}catch(n){or(!1,"invalid function fragment","obj",e)}else if(e instanceof ei){const t=ai("function",e),n=oi(e),r=ii(e);let a=[];si(e,Os(["returns"])).has("returns")&&(a=oi(e));const s=li(e);return ci(e),new Ri(hi,t,r,n,a,s)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new Ri(hi,e.name,t,e.inputs?e.inputs.map(Ei.from):[],e.outputs?e.outputs.map(Ei.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[fi]===bi}}class ji extends Si{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,fi,{value:wi})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return ji.from(ni(e))}catch(t){or(!1,"invalid struct fragment","obj",e)}else if(e instanceof ei){const t=ai("struct",e),n=oi(e);return ci(e),new ji(hi,t,n)}return new ji(hi,e.name,e.inputs?e.inputs.map(Ei.from):[])}static isFragment(e){return e&&e[fi]===wi}}const Pi=new Map;Pi.set(0,"GENERIC_PANIC"),Pi.set(1,"ASSERT_FALSE"),Pi.set(17,"OVERFLOW"),Pi.set(18,"DIVIDE_BY_ZERO"),Pi.set(33,"ENUM_RANGE_ERROR"),Pi.set(34,"BAD_STORAGE_DATA"),Pi.set(49,"STACK_UNDERFLOW"),Pi.set(50,"ARRAY_RANGE_ERROR"),Pi.set(65,"OUT_OF_MEMORY"),Pi.set(81,"UNINITIALIZED_FUNCTION_CALL");const Li=new RegExp(/^bytes([0-9]*)$/),Di=new RegExp(/^(u?int)([0-9]*)$/);let Oi=null,_i=1024;var Ui=new WeakSet;class Mi{constructor(){dr(this,Ui)}getDefaultValue(e){const t=e.map(e=>Yn(Ui,this,Fi).call(this,Ei.from(e)));return new Ps(t,"_").defaultValue()}encode(e,t){lr(t.length,e.length,"types/values length mismatch");const n=e.map(e=>Yn(Ui,this,Fi).call(this,Ei.from(e))),r=new Ps(n,"_"),a=new $r;return r.encode(a,t),a.data}decode(e,t,n){const r=e.map(e=>Yn(Ui,this,Fi).call(this,Ei.from(e)));return new Ps(r,"_").decode(new oa(t,n,_i))}static _setDefaultMaxInflation(e){or("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),_i=e}static defaultAbiCoder(){return null==Oi&&(Oi=new Mi),Oi}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let a="missing revert data",s=null,i=null;if(n){a="execution reverted";const e=fr(n);if(n=vr(n),0===e.length)a+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!==4)a+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===vr(e.slice(0,4)))try{s=r.decode(["string"],e.slice(4))[0],i={signature:"Error(string)",name:"Error",args:[s]},a+=": ".concat(JSON.stringify(s))}catch(l){a+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===vr(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);i={signature:"Panic(uint256)",name:"Panic",args:[t]},s="Panic due to ".concat(Pi.get(t)||"UNKNOWN","(").concat(t,")"),a+=": ".concat(s)}catch(l){a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}const o={to:t.to?ss(t.to):null,data:t.data||"0x"};return t.from&&(o.from=ss(t.from)),sr(a,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:o,invocation:null,revert:i})}(e,t,n,Mi.defaultAbiCoder())}}function Fi(e){if(e.isArray())return new gs(Yn(Ui,this,Fi).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Ps(e.components.map(e=>Yn(Ui,this,Fi).call(this,e)),e.name);switch(e.baseType){case"address":return new hs(e.name);case"bool":return new ys(e.name);case"string":return new js(e.name);case"bytes":return new bs(e.name);case"":return new Es(e.name)}let t=e.type.match(Di);if(t){let n=parseInt(t[2]||"256");return or(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new Ns(n/8,"int"===t[1],e.name)}if(t=e.type.match(Li),t){let n=parseInt(t[1]);return or(0!==n&&n<=32,"invalid bytes length","param",e),new ws(n,e.name)}or(!1,"invalid type","type",e.type)}function Vi(e){return e&&"function"===typeof e.getAddress}async function zi(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(ir("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),or(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),ss(n)}function Ki(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?ss(e):(ir(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),zi(e,t.resolveName(e))):Vi(e)?zi(e,e.getAddress()):e&&"function"===typeof e.then?zi(e,e):void or(!1,"unsupported addressable value","target",e)}const Hi=new Uint8Array(32);Hi.fill(0);const Gi=BigInt(-1),Qi=BigInt(0),qi=BigInt(1),Wi=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Ji=Lr(qi,32),Yi=Lr(Qi,32),Zi={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Xi=["name","version","chainId","verifyingContract","salt"];function $i(e){return function(t){return or("string"===typeof t,"invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}const eo={name:$i("name"),version:$i("version"),chainId:function(e){const t=Ir(e,"domain.chainId");return or(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):Or(t)},verifyingContract:function(e){try{return ss(e).toLowerCase()}catch(t){}or(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=fr(e,"domain.salt");return or(32===t.length,'invalid domain value "salt"',"domain.salt",e),vr(t)}};function to(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);or(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const a=Tr(Wi,n?r-1:r),s=n?(a+qi)*Gi:Qi;return function(t){const r=Ir(t,"value");return or(r>=s&&r<=a,"value out-of-bounds for ".concat(e),"value",r),Lr(n?kr(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return or(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return or(fr(t).length===n,"invalid length for ".concat(e),"value",t),function(e){const t=fr(e),n=t.length%32;return n?br([t,Hi.slice(n)]):vr(t)}(t)}}}switch(e){case"address":return function(e){return Cr(ss(e),32)};case"bool":return function(e){return e?Ji:Yi};case"bytes":return function(e){return Xa(e)};case"string":return function(e){return Ls(e)}}return null}function no(e,t){return"".concat(e,"(").concat(t.map(e=>{let{name:t,type:n}=e;return n+" "+t}).join(","),")")}function ro(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}var ao=new WeakMap,so=new WeakMap,io=new WeakMap,oo=new WeakSet;class lo{get types(){return JSON.parse(Zn(ao,this))}constructor(e){dr(this,oo),o(this,"primaryType",void 0),Jn(this,ao,void 0),Jn(this,so,void 0),Jn(this,io,void 0),Xn(so,this,new Map),Xn(io,this,new Map);const t=new Map,n=new Map,r=new Map,a={};Object.keys(e).forEach(s=>{a[s]=e[s].map(t=>{let{name:n,type:r}=t,{base:a,index:s}=ro(r);return"int"!==a||e.int||(a="int256"),"uint"!==a||e.uint||(a="uint256"),{name:n,type:a+(s||"")}}),t.set(s,new Set),n.set(s,[]),r.set(s,new Set)}),Xn(ao,this,JSON.stringify(a));for(const i in a){const r=new Set;for(const s of a[i]){or(!r.has(s.name),"duplicate variable name ".concat(JSON.stringify(s.name)," in ").concat(JSON.stringify(i)),"types",e),r.add(s.name);const a=ro(s.type).base;or(a!==i,"circular type reference to ".concat(JSON.stringify(a)),"types",e);to(a)||(or(n.has(a),"unknown type ".concat(JSON.stringify(a)),"types",e),n.get(a).push(i),t.get(i).add(a))}}const s=Array.from(n.keys()).filter(e=>0===n.get(e).length);or(0!==s.length,"missing primary type","types",e),or(1===s.length,"ambiguous primary types or unused types: ".concat(s.map(e=>JSON.stringify(e)).join(", ")),"types",e),tr(this,{primaryType:s[0]}),function a(s,i){or(!i.has(s),"circular type reference to ".concat(JSON.stringify(s)),"types",e),i.add(s);for(const e of t.get(s))if(n.has(e)){a(e,i);for(const t of i)r.get(t).add(e)}i.delete(s)}(this.primaryType,new Set);for(const[i,o]of r){const e=Array.from(o);e.sort(),Zn(so,this).set(i,no(i,a[i])+e.map(e=>no(e,a[e])).join(""))}}getEncoder(e){let t=Zn(io,this).get(e);return t||(t=Yn(oo,this,co).call(this,e),Zn(io,this).set(e,t)),t}encodeType(e){const t=Zn(so,this).get(e);return or(t,"unknown type: ".concat(JSON.stringify(e)),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Xa(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(to(e))return n(e,t);const r=ro(e).array;if(r)return or(-1===r.count||r.count===t.length,"array length mismatch; expected length ".concat(r.count),"value",t),t.map(e=>this._visit(r.prefix,e,n));const a=this.types[e];if(a)return a.reduce((e,r)=>{let{name:a,type:s}=r;return e[a]=this._visit(s,t[a],n),e},{});or(!1,"unknown type: ".concat(e),"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new lo(e)}static getPrimaryType(e){return lo.from(e).primaryType}static hashStruct(e,t,n){return lo.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=Zi[n];or(r,"invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",e),t.push({name:n,type:r})}return t.sort((e,t)=>Xi.indexOf(e.name)-Xi.indexOf(t.name)),lo.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return br(["0x1901",lo.hashDomain(e),lo.from(t).hash(n)])}static hash(e,t,n){return Xa(lo.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const i in e)null==e[i]&&delete e[i];const a={};e.verifyingContract&&!mr(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const s=lo.from(t);s.visit(n,(e,t)=>("address"!==e||mr(t,20)||(a[t]="0x"),t));for(const i in a)a[i]=await r(i);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),{domain:e,value:n=s.visit(n,(e,t)=>"address"===e&&a[t]?a[t]:t)}}static getPayload(e,t,n){lo.hashDomain(e);const r={},a=[];Xi.forEach(t=>{const n=e[t];null!=n&&(r[t]=eo[t](n),a.push({name:t,type:Zi[t]}))});const s=lo.from(t);t=s.types;const i=Object.assign({},t);return or(null==i.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),i.EIP712Domain=a,s.encode(n),{types:i,domain:r,primaryType:s.primaryType,message:s.visit(n,(e,t)=>{if(e.match(/^bytes(\d*)/))return vr(fr(t));if(e.match(/^u?int/))return Ir(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return or("string"===typeof t,"invalid string","value",t),t}or(!1,"unsupported type","type",e)})}}}function co(e){{const t=to(e);if(t)return t}const t=ro(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{or(-1===t.count||t.count===r.length,"array length mismatch; expected length ".concat(t.count),"value",r);let a=r.map(n);return Zn(so,this).has(e)&&(a=a.map(Xa)),Xa(br(a))}}const n=this.types[e];if(n){const t=Ls(Zn(so,this).get(e));return e=>{const r=n.map(t=>{let{name:n,type:r}=t;const a=this.getEncoder(r)(e[n]);return Zn(so,this).has(r)?Xa(a):a});return r.unshift(t),br(r)}}or(!1,"unknown type: ".concat(e),"type",e)}function uo(e,t){return{address:ss(e),storageKeys:t.map((e,t)=>(or(mr(e,32),"invalid slot","storageKeys[".concat(t,"]"),e),e.toLowerCase()))}}function ho(e){if(Array.isArray(e))return e.map((t,n)=>Array.isArray(t)?(or(2===t.length,"invalid slot set","value[".concat(n,"]"),t),uo(t[0],t[1])):(or(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),uo(t.address,t.storageKeys)));or(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map(t=>{const n=e[t].reduce((e,t)=>(e[t]=!0,e),{});return uo(t,Object.keys(n).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}const fo="0x0000000000000000000000000000000000000000000000000000000000000000",po=BigInt(0),mo=BigInt(1),go=BigInt(2),yo=BigInt(27),vo=BigInt(28),bo=BigInt(35),wo={};function xo(e){return Cr(Dr(e),32)}var Eo=new WeakMap,Co=new WeakMap,Ao=new WeakMap,So=new WeakMap;class No{get r(){return Zn(Eo,this)}set r(e){or(32===wr(e),"invalid r","value",e),Xn(Eo,this,vr(e))}get s(){return or(parseInt(Zn(Co,this).substring(0,3))<8,"non-canonical s; use ._s","s",Zn(Co,this)),Zn(Co,this)}set s(e){or(32===wr(e),"invalid s","value",e),Xn(Co,this,vr(e))}get _s(){return Zn(Co,this)}isValid(){return parseInt(Zn(Co,this).substring(0,3))<8}get v(){return Zn(Ao,this)}set v(e){const t=Pr(e,"value");or(27===t||28===t,"invalid v","v",e),Xn(Ao,this,t)}get networkV(){return Zn(So,this)}get legacyChainId(){const e=this.networkV;return null==e?null:No.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=fr(this.s);return this.yParity&&(e[0]|=128),vr(e)}get compactSerialized(){return br([this.r,this.yParityAndS])}get serialized(){return br([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){Jn(this,Eo,void 0),Jn(this,Co,void 0),Jn(this,Ao,void 0),Jn(this,So,void 0),ur(e,wo,"Signature"),Xn(Eo,this,t),Xn(Co,this,n),Xn(Ao,this,r),Xn(So,this,null)}[Symbol.for("nodejs.util.inspect.custom")](){return'Signature { r: "'.concat(this.r,'", s: "').concat(this._s,'"').concat(this.isValid()?"":', valid: "false"',", yParity: ").concat(this.yParity,", networkV: ").concat(this.networkV," }")}clone(){const e=new No(wo,this.r,this._s,this.v);return this.networkV&&Xn(So,e,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=Ir(e,"v");return t==yo||t==vo?po:(or(t>=bo,"invalid EIP-155 v","v",e),(t-bo)/go)}static getChainIdV(e,t){return Ir(e)*go+BigInt(35+t-27)}static getNormalizedV(e){const t=Ir(e);return t===po||t===yo?27:t===mo||t===vo?28:(or(t>=bo,"invalid v","v",e),t&mo?27:28)}static from(e){function t(t,n){or(t,n,"signature",e)}if(null==e)return new No(wo,fo,fo,27);if("string"===typeof e){const n=fr(e,"signature");if(64===n.length){const e=vr(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new No(wo,e,vr(t),r)}if(65===n.length){const e=vr(n.slice(0,32)),t=vr(n.slice(32,64)),r=No.getNormalizedV(n[64]);return new No(wo,e,t,r)}t(!1,"invalid raw signature length")}if(e instanceof No)return e.clone();const n=e.r;t(null!=n,"missing r");const r=xo(n),a=function(e,n){if(null!=e)return xo(e);if(null!=n){t(mr(n,32),"invalid yParityAndS");const e=fr(n);return e[0]&=127,vr(e)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:s,v:i}=function(e,n,r){if(null!=e){const t=Ir(e);return{networkV:t>=bo?t:void 0,v:No.getNormalizedV(t)}}if(null!=n)return t(mr(n,32),"invalid yParityAndS"),{v:128&fr(n)[0]?28:27};if(null!=r){switch(Pr(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new No(wo,r,a,i);return s&&Xn(So,o,s),t(null==e.yParity||Pr(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}function ko(e){return{address:ss(e.address),nonce:Ir(null!=e.nonce?e.nonce:0),chainId:Ir(null!=e.chainId?e.chainId:0),signature:No.from(e.signature)}}function To(e){return async function(t,n){ir(null==n||!n.cancelled,"request cancelled before sending","CANCELLED");const r=t.url.split(":")[0].toLowerCase();ir("http"===r||"https"===r,"unsupported protocol ".concat(r),"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),ir("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a=null;const s=new AbortController,i=setTimeout(()=>{a=sr("request timeout","TIMEOUT"),s.abort()},t.timeout);n&&n.addListener(()=>{a=sr("request cancelled","CANCELLED"),s.abort()});const o=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s.signal});let l;try{l=await fetch(t.url,o)}catch(ul){if(clearTimeout(i),a)throw a;throw ul}clearTimeout(i);const c={};l.headers.forEach((e,t)=>{c[t.toLowerCase()]=e});const u=await l.arrayBuffer(),d=null==u?null:new Uint8Array(u);return{statusCode:l.status,statusMessage:l.statusText,headers:c,body:d}}}To({});let Io=To();const Bo=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Ro=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let jo=!1;async function Po(e,t){try{const t=e.match(Bo);if(!t)throw new Error("invalid data");return new dl(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return fr(t)}(t[3]):Bs(t[3].replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))}catch(n){return new dl(599,"BAD REQUEST (invalid data: URI)",{},null,new rl(e))}}function Lo(e){return async function(t,n){try{const n=t.match(Ro);if(!n)throw new Error("invalid link");return new rl("".concat(e).concat(n[2]))}catch(r){return new dl(599,"BAD REQUEST (invalid IPFS URI)",{},null,new rl(t))}}}const Do={data:Po,ipfs:Lo("https://gateway.ipfs.io/ipfs/")},Oo=new WeakMap;var _o=new WeakMap,Uo=new WeakMap;class Mo{constructor(e){Jn(this,_o,void 0),Jn(this,Uo,void 0),Xn(_o,this,[]),Xn(Uo,this,!1),Oo.set(e,()=>{if(!Zn(Uo,this)){Xn(Uo,this,!0);for(const e of Zn(_o,this))setTimeout(()=>{e()},0);Xn(_o,this,[])}})}addListener(e){ir(!Zn(Uo,this),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),Zn(_o,this).push(e)}get cancelled(){return Zn(Uo,this)}checkSignal(){ir(!this.cancelled,"cancelled","CANCELLED",{})}}function Fo(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}var Vo=new WeakMap,zo=new WeakMap,Ko=new WeakMap,Ho=new WeakMap,Go=new WeakMap,Qo=new WeakMap,qo=new WeakMap,Wo=new WeakMap,Jo=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,Xo=new WeakMap,$o=new WeakMap,el=new WeakMap,tl=new WeakMap,nl=new WeakSet;class rl{get url(){return Zn(Qo,this)}set url(e){Xn(Qo,this,String(e))}get body(){return null==Zn(qo,this)?null:new Uint8Array(Zn(qo,this))}set body(e){if(null==e)Xn(qo,this,void 0),Xn(Wo,this,void 0);else if("string"===typeof e)Xn(qo,this,Bs(e)),Xn(Wo,this,"text/plain");else if(e instanceof Uint8Array)Xn(qo,this,e),Xn(Wo,this,"application/octet-stream");else{if("object"!==typeof e)throw new Error("invalid body");Xn(qo,this,Bs(JSON.stringify(e))),Xn(Wo,this,"application/json")}}hasBody(){return null!=Zn(qo,this)}get method(){return Zn(Ho,this)?Zn(Ho,this):this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),Xn(Ho,this,String(e).toUpperCase())}get headers(){const e=Object.assign({},Zn(Ko,this));return Zn(Jo,this)&&(e.authorization="Basic ".concat(function(e){const t=fr(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(Bs(Zn(Jo,this))))),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&Zn(Wo,this)&&(e["content-type"]=Zn(Wo,this)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){Zn(Ko,this)[String(e).toLowerCase()]=String(t)}clearHeaders(){Xn(Ko,this,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return Zn(Jo,this)||null}setCredentials(e,t){or(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),Xn(Jo,this,"".concat(e,":").concat(t))}get allowGzip(){return Zn(zo,this)}set allowGzip(e){Xn(zo,this,!!e)}get allowInsecureAuthentication(){return!!Zn(Vo,this)}set allowInsecureAuthentication(e){Xn(Vo,this,!!e)}get timeout(){return Zn(Go,this)}set timeout(e){or(e>=0,"timeout must be non-zero","timeout",e),Xn(Go,this,e)}get preflightFunc(){return Zn(Yo,this)||null}set preflightFunc(e){Xn(Yo,this,e)}get processFunc(){return Zn(Zo,this)||null}set processFunc(e){Xn(Zo,this,e)}get retryFunc(){return Zn(Xo,this)||null}set retryFunc(e){Xn(Xo,this,e)}get getUrlFunc(){return Zn(tl,this)||Io}set getUrlFunc(e){Xn(tl,this,e)}constructor(e){dr(this,nl),Jn(this,Vo,void 0),Jn(this,zo,void 0),Jn(this,Ko,void 0),Jn(this,Ho,void 0),Jn(this,Go,void 0),Jn(this,Qo,void 0),Jn(this,qo,void 0),Jn(this,Wo,void 0),Jn(this,Jo,void 0),Jn(this,Yo,void 0),Jn(this,Zo,void 0),Jn(this,Xo,void 0),Jn(this,$o,void 0),Jn(this,el,void 0),Jn(this,tl,void 0),Xn(Qo,this,String(e)),Xn(Vo,this,!1),Xn(zo,this,!0),Xn(Ko,this,{}),Xn(Ho,this,""),Xn(Go,this,3e5),Xn(el,this,{slotInterval:250,maxAttempts:12}),Xn(tl,this,null)}toString(){return"<FetchRequest method=".concat(JSON.stringify(this.method)," url=").concat(JSON.stringify(this.url)," headers=").concat(JSON.stringify(this.headers)," body=").concat(Zn(qo,this)?vr(Zn(qo,this)):"null",">")}setThrottleParams(e){null!=e.slotInterval&&(Zn(el,this).slotInterval=e.slotInterval),null!=e.maxAttempts&&(Zn(el,this).maxAttempts=e.maxAttempts)}send(){return ir(null==Zn($o,this),"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),Xn($o,this,new Mo(this)),Yn(nl,this,al).call(this,0,hl()+this.timeout,0,this,new dl(0,"",{},null,this))}cancel(){ir(null!=Zn($o,this),"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Oo.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();ir("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:"redirect(".concat(this.method," ").concat(JSON.stringify(this.url)," => ").concat(JSON.stringify(e),")")});const r=new rl(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,Xn(Ko,r,Object.assign({},Zn(Ko,this))),Zn(qo,this)&&Xn(qo,r,new Uint8Array(Zn(qo,this))),Xn(Wo,r,Zn(Wo,this)),r}clone(){const e=new rl(this.url);return Xn(Ho,e,Zn(Ho,this)),Zn(qo,this)&&Xn(qo,e,Zn(qo,this)),Xn(Wo,e,Zn(Wo,this)),Xn(Ko,e,Object.assign({},Zn(Ko,this))),Xn(Jo,e,Zn(Jo,this)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),Xn(Yo,e,Zn(Yo,this)),Xn(Zo,e,Zn(Zo,this)),Xn(Xo,e,Zn(Xo,this)),Xn(el,e,Object.assign({},Zn(el,this))),Xn(tl,e,Zn(tl,this)),e}static lockConfig(){jo=!0}static getGateway(e){return Do[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error("cannot intercept ".concat(e,"; use registerGetUrl"));if(jo)throw new Error("gateways locked");Do[e]=t}static registerGetUrl(e){if(jo)throw new Error("gateways locked");Io=e}static createGetUrlFunc(e){return To(e)}static createDataGateway(){return Po}static createIpfsGatewayFunc(e){return Lo(e)}}async function al(e,t,n,r,a){if(e>=Zn(el,this).maxAttempts)return a.makeServerError("exceeded maximum retry limit");ir(hl()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise(t=>setTimeout(t,e))}(n);let s=this.clone();const i=(s.url.split(":")[0]||"").toLowerCase();if(i in Do){const e=await Do[i](s.url,Fo(Zn($o,r)));if(e instanceof dl){let t=e;if(this.processFunc){Fo(Zn($o,r));try{t=await this.processFunc(s,t)}catch(h){null!=h.throttle&&"number"===typeof h.stall||t.makeServerError("error in post-processing function",h).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));const o=await this.getUrlFunc(s,Fo(Zn($o,r)));let l=new dl(o.statusCode,o.statusMessage,o.headers,o.body,r);if(301===l.statusCode||302===l.statusCode){try{var c;const n=l.headers.location||"";return Yn(nl,c=s.redirect(n),al).call(c,e+1,t,0,r,l)}catch(h){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(s,l,e))){var u;const n=l.headers["retry-after"];let a=Zn(el,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(a=parseInt(n)),Yn(nl,u=s.clone(),al).call(u,e+1,t,a,r,l)}if(this.processFunc){Fo(Zn($o,r));try{l=await this.processFunc(s,l)}catch(h){var d;null!=h.throttle&&"number"===typeof h.stall||l.makeServerError("error in post-processing function",h).assertOk();let n=Zn(el,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return h.stall>=0&&(n=h.stall),Yn(nl,d=s.clone(),al).call(d,e+1,t,n,r,l)}}return l}var sl=new WeakMap,il=new WeakMap,ol=new WeakMap,ll=new WeakMap,cl=new WeakMap,ul=new WeakMap;class dl{toString(){return"<FetchResponse status=".concat(this.statusCode," body=").concat(Zn(ll,this)?vr(Zn(ll,this)):"null",">")}get statusCode(){return Zn(sl,this)}get statusMessage(){return Zn(il,this)}get headers(){return Object.assign({},Zn(ol,this))}get body(){return null==Zn(ll,this)?null:new Uint8Array(Zn(ll,this))}get bodyText(){try{return null==Zn(ll,this)?"":Rs(Zn(ll,this))}catch(e){ir(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){ir(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,a){Jn(this,sl,void 0),Jn(this,il,void 0),Jn(this,ol,void 0),Jn(this,ll,void 0),Jn(this,cl,void 0),Jn(this,ul,void 0),Xn(sl,this,e),Xn(il,this,t),Xn(ol,this,Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=String(n[t]),e),{})),Xn(ll,this,null==r?null:new Uint8Array(r)),Xn(cl,this,a||null),Xn(ul,this,{message:""})}makeServerError(e,t){let n;e?n="CLIENT ESCALATED SERVER ERROR (".concat(this.statusCode," ").concat(this.statusMessage,"; ").concat(e,")"):(e="".concat(this.statusCode," ").concat(this.statusMessage),n="CLIENT ESCALATED SERVER ERROR (".concat(e,")"));const r=new dl(599,n,this.headers,this.body,Zn(cl,this)||void 0);return Xn(ul,r,{message:e,error:t}),r}throwThrottleError(e,t){null==t?t=-1:or(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw tr(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=Zn(ll,this)}get request(){return Zn(cl,this)}ok(){return""===Zn(ul,this).message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=Zn(ul,this);""===e&&(e="server response ".concat(this.statusCode," ").concat(this.statusMessage));let n=null;this.request&&(n=this.request.url);let r=null;try{Zn(ll,this)&&(r=Rs(Zn(ll,this)))}catch(Et){}ir(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:"".concat(this.statusCode," ").concat(this.statusMessage)}})}}function hl(){return(new Date).getTime()}const fl="0x0000000000000000000000000000000000000000";class pl{constructor(e,t,n){o(this,"fragment",void 0),o(this,"name",void 0),o(this,"signature",void 0),o(this,"topic",void 0),o(this,"args",void 0);const r=e.name,a=e.format();tr(this,{fragment:e,name:r,signature:a,topic:t,args:n})}}class ml{constructor(e,t,n,r){o(this,"fragment",void 0),o(this,"name",void 0),o(this,"args",void 0),o(this,"signature",void 0),o(this,"selector",void 0),o(this,"value",void 0);const a=e.name,s=e.format();tr(this,{fragment:e,name:a,args:n,signature:s,selector:t,value:r})}}class gl{constructor(e,t,n){o(this,"fragment",void 0),o(this,"name",void 0),o(this,"args",void 0),o(this,"signature",void 0),o(this,"selector",void 0);const r=e.name,a=e.format();tr(this,{fragment:e,name:r,args:n,signature:a,selector:t})}}class yl{static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){o(this,"hash",void 0),o(this,"_isIndexed",void 0),tr(this,{hash:e,_isIndexed:!0})}}const vl={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},bl={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>"reverted with reason string ".concat(JSON.stringify(e))},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&vl[e.toString()]&&(t=vl[e.toString()]),"reverted with panic code 0x".concat(e.toString(16)," (").concat(t,")")}}};var wl=new WeakMap,xl=new WeakMap,El=new WeakMap,Cl=new WeakMap,Al=new WeakSet;class Sl{constructor(e){dr(this,Al),o(this,"fragments",void 0),o(this,"deploy",void 0),o(this,"fallback",void 0),o(this,"receive",void 0),Jn(this,wl,void 0),Jn(this,xl,void 0),Jn(this,El,void 0),Jn(this,Cl,void 0);let t=[];t="string"===typeof e?JSON.parse(e):e,Xn(El,this,new Map),Xn(wl,this,new Map),Xn(xl,this,new Map);const n=[];for(const i of t)try{n.push(Ai.from(i))}catch(s){console.log("[Warning] Invalid Fragment ".concat(JSON.stringify(i),":"),s.message)}tr(this,{fragments:Object.freeze(n)});let r=null,a=!1;Xn(Cl,this,this.getAbiCoder()),this.fragments.forEach((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void tr(this,{deploy:e});case"fallback":return void(0===e.inputs.length?a=!0:(or(!r||e.payable!==r.payable,"conflicting fallback fragments","fragments[".concat(t,"]"),e),r=e,a=r.payable));case"function":n=Zn(El,this);break;case"event":n=Zn(xl,this);break;case"error":n=Zn(wl,this);break;default:return}const s=e.format();n.has(s)||n.set(s,e)}),this.deploy||tr(this,{deploy:Ii.from("constructor()")}),tr(this,{fallback:r,receive:a})}format(e){const t=e?"minimal":"full",n=this.fragments.map(e=>e.format(t));return n}formatJson(){const e=this.fragments.map(e=>e.format("json"));return JSON.stringify(e.map(e=>JSON.parse(e)))}getAbiCoder(){return Mi.defaultAbiCoder()}getFunctionName(e){const t=Yn(Al,this,Nl).call(this,e,null,!1);return or(t,"no matching function","key",e),t.name}hasFunction(e){return!!Yn(Al,this,Nl).call(this,e,null,!1)}getFunction(e,t){return Yn(Al,this,Nl).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(Zn(El,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(Zn(El,this).get(r),n)}}getEventName(e){const t=Yn(Al,this,kl).call(this,e,null,!1);return or(t,"no matching event","key",e),t.name}hasEvent(e){return!!Yn(Al,this,kl).call(this,e,null,!1)}getEvent(e,t){return Yn(Al,this,kl).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(Zn(xl,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(Zn(xl,this).get(r),n)}}getError(e,t){if(mr(e)){const t=e.toLowerCase();if(bl[t])return ki.from(bl[t].signature);for(const e of Zn(wl,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of Zn(wl,this))n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?ki.from("error Error(string)"):"Panic"===e?ki.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map(e=>JSON.stringify(e.format())).join(", ");or(!1,"ambiguous error description (i.e. ".concat(n,")"),"name",e)}return t[0]}if("Error(string)"===(e=ki.from(e).format()))return ki.from("error Error(string)");if("Panic(uint256)"===e)return ki.from("error Panic(uint256)");const n=Zn(wl,this).get(e);return n||null}forEachError(e){const t=Array.from(Zn(wl,this).keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(Zn(wl,this).get(r),n)}}_decodeParams(e,t){return Zn(Cl,this).decode(e,t)}_encodeParams(e,t){return Zn(Cl,this).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);or(t,"unknown error","fragment",e),e=t}return or(xr(t,0,4)===e.selector,"data signature does not match error ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,xr(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);or(t,"unknown error","fragment",e),e=t}return br([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);or(t,"unknown function","fragment",e),e=t}return or(xr(t,0,4)===e.selector,"data signature does not match function ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,xr(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);or(t,"unknown function","fragment",e),e=t}return br([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);or(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=pr(t);if(r.length%32===0)try{return Zn(Cl,this).decode(e.outputs,r)}catch(a){n="could not decode result data"}ir(!1,n,"BAD_DATA",{value:vr(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=fr(e,"data"),r=Mi.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=vr(n.slice(0,4)),t=this.getError(e);if(t)try{const e=Zn(Cl,this).decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message="execution reverted: ".concat(r.reason)}catch(Et){r.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(t);return a&&(r.invocation={method:a.name,signature:a.signature,args:a.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);or(t,"unknown function","fragment",e),e=t}return vr(Zn(Cl,this).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);or(t,"unknown event","eventFragment",e),e=t}ir(t.length<=e.inputs.length,"too many arguments for ".concat(e.format()),"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?Ls(t):"bytes"===e.type?Xa(vr(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=Lr(t):e.type.match(/^bytes/)?t=function(e,t){return Er(e,t,!1)}(t,32):"address"===e.type&&Zn(Cl,this).encode(["address"],[t]),Cr(vr(t),32));for(t.forEach((t,a)=>{const s=e.inputs[a];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?or(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map(e=>r(s,e))):n.push(r(s,t)):or(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t)});n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);or(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],a=[];return e.anonymous||n.push(e.topicHash),or(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{const i=t[s];if(e.indexed)if("string"===e.type)n.push(Ls(i));else if("bytes"===e.type)n.push(Xa(i));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(Zn(Cl,this).encode([e.type],[i]))}else r.push(e),a.push(i)}),{data:Zn(Cl,this).encode(r,a),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);or(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;or(mr(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],a=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(Ei.from({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(a.push(e),s.push(!1))});const i=null!=n?Zn(Cl,this).decode(r,br(n)):null,o=Zn(Cl,this).decode(a,t,!0),l=[],c=[];let u=0,d=0;return e.inputs.forEach((e,t)=>{let n=null;if(e.indexed)if(null==i)n=new yl(null);else if(s[t])n=new yl(i[d++]);else try{n=i[d++]}catch(r){n=r}else try{n=o[u++]}catch(r){n=r}l.push(n),c.push(e.name||null)}),qr.fromItems(l,c)}parseTransaction(e){const t=fr(e.data,"tx.data"),n=Ir(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(vr(t.slice(0,4)));if(!r)return null;const a=Zn(Cl,this).decode(r.inputs,t.slice(4));return new ml(r,r.selector,a,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new pl(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=vr(e),n=this.getError(xr(t,0,4));if(!n)return null;const r=Zn(Cl,this).decode(n.inputs,xr(t,4));return new gl(n,n.selector,r)}static from(e){return e instanceof Sl?e:"string"===typeof e?new Sl(JSON.parse(e)):"function"===typeof e.formatJson?new Sl(e.formatJson()):"function"===typeof e.format?new Sl(e.format("json")):new Sl(e)}}function Nl(e,t,n){if(mr(e)){const t=e.toLowerCase();for(const e of Zn(El,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of Zn(El,this))t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,a=!0;ds.isTyped(e)&&"overrides"===e.type&&(a=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||a&&e===n-1||r.splice(t,1)}for(let s=r.length-1;s>=0;s--){const e=r[s].inputs;for(let n=0;n<t.length;n++)if(ds.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(s,1);break}if(t[n].type!==e[n].baseType){r.splice(s,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");or(!1,"ambiguous function description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=Zn(El,this).get(Ri.from(e).format());return r||null}function kl(e,t,n){if(mr(e)){const t=e.toLowerCase();for(const e of Zn(xl,this).values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of Zn(xl,this))t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let a=0;a<t.length;a++)if(ds.isTyped(t[a])&&t[a].type!==n[a].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");or(!1,"ambiguous event description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=Zn(xl,this).get(Ti.from(e).format());return r||null}const Tl=BigInt(0);function Il(e){return null==e?null:e}function Bl(e){return null==e?null:e.toString()}class Rl{constructor(e,t,n){o(this,"gasPrice",void 0),o(this,"maxFeePerGas",void 0),o(this,"maxPriorityFeePerGas",void 0),tr(this,{gasPrice:Il(e),maxFeePerGas:Il(t),maxPriorityFeePerGas:Il(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Bl(e),maxFeePerGas:Bl(t),maxPriorityFeePerGas:Bl(n)}}}function jl(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=vr(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const a of n)a in e&&null!=e[a]&&(t[a]=Ir(e[a],"request.".concat(a)));const r="type,nonce".split(/,/);for(const a of r)a in e&&null!=e[a]&&(t[a]=Pr(e[a],"request.".concat(a)));return e.accessList&&(t.accessList=ho(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>gr(e)?vr(e):Object.assign({},e))),t}var Pl=new WeakMap;class Ll{constructor(e,t){o(this,"provider",void 0),o(this,"number",void 0),o(this,"hash",void 0),o(this,"timestamp",void 0),o(this,"parentHash",void 0),o(this,"parentBeaconBlockRoot",void 0),o(this,"nonce",void 0),o(this,"difficulty",void 0),o(this,"gasLimit",void 0),o(this,"gasUsed",void 0),o(this,"stateRoot",void 0),o(this,"receiptsRoot",void 0),o(this,"blobGasUsed",void 0),o(this,"excessBlobGas",void 0),o(this,"miner",void 0),o(this,"prevRandao",void 0),o(this,"extraData",void 0),o(this,"baseFeePerGas",void 0),Jn(this,Pl,void 0),Xn(Pl,this,e.transactions.map(e=>"string"!==typeof e?new Ml(e,t):e)),tr(this,{provider:t,hash:Il(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Il(e.prevRandao),extraData:e.extraData,baseFeePerGas:Il(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return Zn(Pl,this).map(e=>"string"===typeof e?e:e.hash)}get prefetchedTransactions(){const e=Zn(Pl,this).slice();return 0===e.length?[]:(ir("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:a,hash:s,miner:i,prevRandao:o,nonce:l,number:c,parentHash:u,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:f,timestamp:p,transactions:m}=this;return{_type:"Block",baseFeePerGas:Bl(e),difficulty:Bl(t),extraData:n,gasLimit:Bl(r),gasUsed:Bl(a),blobGasUsed:Bl(this.blobGasUsed),excessBlobGas:Bl(this.excessBlobGas),hash:s,miner:i,prevRandao:o,nonce:l,number:c,parentHash:u,timestamp:p,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:f,transactions:m}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return Zn(Pl,this).length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=Zn(Pl,this)[e];else{const n=e.toLowerCase();for(const e of Zn(Pl,this)){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash===n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;or(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class Dl{constructor(e,t){o(this,"provider",void 0),o(this,"transactionHash",void 0),o(this,"blockHash",void 0),o(this,"blockNumber",void 0),o(this,"removed",void 0),o(this,"address",void 0),o(this,"data",void 0),o(this,"topics",void 0),o(this,"index",void 0),o(this,"transactionIndex",void 0),this.provider=t;const n=Object.freeze(e.topics.slice());tr(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:a,removed:s,topics:i,transactionHash:o,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:a,removed:s,topics:i,transactionHash:o,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return ir(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return ir(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return ir(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}var Ol=new WeakMap;class _l{constructor(e,t){o(this,"provider",void 0),o(this,"to",void 0),o(this,"from",void 0),o(this,"contractAddress",void 0),o(this,"hash",void 0),o(this,"index",void 0),o(this,"blockHash",void 0),o(this,"blockNumber",void 0),o(this,"logsBloom",void 0),o(this,"gasUsed",void 0),o(this,"blobGasUsed",void 0),o(this,"cumulativeGasUsed",void 0),o(this,"gasPrice",void 0),o(this,"blobGasPrice",void 0),o(this,"type",void 0),o(this,"status",void 0),o(this,"root",void 0),Jn(this,Ol,void 0),Xn(Ol,this,Object.freeze(e.logs.map(e=>new Dl(e,t))));let n=Tl;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),tr(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return Zn(Ol,this)}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:a,blockHash:s,blockNumber:i,logsBloom:o,logs:l,status:c,root:u}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:i,contractAddress:n,cumulativeGasUsed:Bl(this.cumulativeGasUsed),from:t,gasPrice:Bl(this.gasPrice),blobGasUsed:Bl(this.blobGasUsed),blobGasPrice:Bl(this.blobGasPrice),gasUsed:Bl(this.gasUsed),hash:r,index:a,logs:l,logsBloom:o,root:u,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Vl(this)}reorderedEvent(e){return ir(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Fl(this,e)}}var Ul=new WeakMap;class Ml{constructor(e,t){o(this,"provider",void 0),o(this,"blockNumber",void 0),o(this,"blockHash",void 0),o(this,"index",void 0),o(this,"hash",void 0),o(this,"type",void 0),o(this,"to",void 0),o(this,"from",void 0),o(this,"nonce",void 0),o(this,"gasLimit",void 0),o(this,"gasPrice",void 0),o(this,"maxPriorityFeePerGas",void 0),o(this,"maxFeePerGas",void 0),o(this,"maxFeePerBlobGas",void 0),o(this,"data",void 0),o(this,"value",void 0),o(this,"chainId",void 0),o(this,"signature",void 0),o(this,"accessList",void 0),o(this,"blobVersionedHashes",void 0),o(this,"authorizationList",void 0),Jn(this,Ul,void 0),this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.authorizationList=null!=e.authorizationList?e.authorizationList:null,Xn(Ul,this,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:a,to:s,from:i,nonce:o,data:l,signature:c,accessList:u,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:Bl(this.chainId),data:l,from:i,gasLimit:Bl(this.gasLimit),gasPrice:Bl(this.gasPrice),hash:r,maxFeePerGas:Bl(this.maxFeePerGas),maxPriorityFeePerGas:Bl(this.maxPriorityFeePerGas),maxFeePerBlobGas:Bl(this.maxFeePerBlobGas),nonce:o,signature:c,to:s,index:n,type:a,value:Bl(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await er({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let a=Zn(Ul,this),s=-1,i=-1===a;const o=async()=>{if(i)return null;const{blockNumber:e,nonce:t}=await er({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(a=e);if(i)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===s&&(s=a-3,s<Zn(Ul,this)&&(s=Zn(Ul,this)));s<=e;){if(i)return null;const t=await this.provider.getBlock(s,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const s=await t.getTransaction(r);if(s.from===this.from&&s.nonce===this.nonce){if(i)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?r="repriced":"0x"===s.data&&s.from===s.to&&s.value===Tl&&(r="cancelled"),ir(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:s.replaceableTransaction(a),hash:s.hash,receipt:t})}}s++}},l=e=>{if(null==e||0!==e.status)return e;ir(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},c=await this.provider.getTransactionReceipt(this.hash);if(0===n)return l(c);if(c){if(1===n||await c.confirmations()>=n)return l(c)}else if(await o(),0===n)return null;const u=new Promise((e,t)=>{const s=[],c=()=>{s.forEach(e=>e())};if(s.push(()=>{i=!0}),r>0){const e=setTimeout(()=>{c(),t(sr("wait for transaction timeout","TIMEOUT"))},r);s.push(()=>{clearTimeout(e)})}const u=async r=>{if(await r.confirmations()>=n){c();try{e(l(r))}catch(a){t(a)}}};if(s.push(()=>{this.provider.off(this.hash,u)}),this.provider.on(this.hash,u),a>=0){const e=async()=>{try{await o()}catch(n){if(rr(n,"TRANSACTION_REPLACED"))return c(),void t(n)}i||this.provider.once("block",e)};s.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return ir(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Vl(this)}reorderedEvent(e){return ir(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ir(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Fl(this,e)}replaceableTransaction(e){or(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Ml(this,this.provider);return Xn(Ul,t,e),t}}function Fl(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Vl(e){return{orphan:"drop-transaction",tx:e}}var zl=new WeakMap;class Kl{constructor(e,t,n){o(this,"filter",void 0),o(this,"emitter",void 0),Jn(this,zl,void 0),Xn(zl,this,t),tr(this,{emitter:e,filter:n})}async removeListener(){null!=Zn(zl,this)&&await this.emitter.off(this.filter,Zn(zl,this))}}class Hl extends Dl{constructor(e,t,n){super(e,e.provider),o(this,"interface",void 0),o(this,"fragment",void 0),o(this,"args",void 0);tr(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Gl extends Dl{constructor(e,t){super(e,e.provider),o(this,"error",void 0),tr(this,{error:t})}}var Ql=new WeakMap;class ql extends _l{constructor(e,t,n){super(n,t),Jn(this,Ql,void 0),Xn(Ql,this,e)}get logs(){return super.logs.map(e=>{const t=e.topics.length?Zn(Ql,this).getEvent(e.topics[0]):null;if(t)try{return new Hl(e,Zn(Ql,this),t)}catch(n){return new Gl(e,n)}return e})}}var Wl=new WeakMap;class Jl extends Ml{constructor(e,t,n){super(n,t),Jn(this,Wl,void 0),Xn(Wl,this,e)}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new ql(Zn(Wl,this),this.provider,n)}}class Yl extends Kl{constructor(e,t,n,r){super(e,t,n),o(this,"log",void 0),tr(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Zl extends Yl{constructor(e,t,n,r,a){super(e,t,n,new Hl(a,e.interface,r));tr(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Xl=BigInt(0);function $l(e){return e&&"function"===typeof e.call}function ec(e){return e&&"function"===typeof e.estimateGas}function tc(e){return e&&"function"===typeof e.resolveName}function nc(e){return e&&"function"===typeof e.sendTransaction}function rc(e){if(null!=e){if(tc(e))return e;if(e.provider)return e.provider}}var ac=new WeakMap;class sc{constructor(e,t,n){if(Jn(this,ac,void 0),o(this,"fragment",void 0),tr(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=ic(e.runner,"resolveName"),a=tc(r)?r:null;Xn(ac,this,async function(){const r=await Promise.all(t.inputs.map((e,t)=>null==n[t]?null:e.walkAsync(n[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>Ki(e,a))):Ki(t,a):t)));return e.interface.encodeFilterTopics(t,r)}())}getTopicFilter(){return Zn(ac,this)}}function ic(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function oc(e){return null==e?null:e.provider||null}async function lc(e,t){const n=ds.dereference(e,"overrides");or("object"===typeof n,"invalid overrides parameter","overrides",e);const r=jl(n);return or(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),or(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function cc(e){const t=async function(t){const n=await lc(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await Ki(n.from,rc(e.runner)));const r=e.interface,a=Ir(n.value||Xl,"overrides.value")===Xl,s="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||s||a||or(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),or(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data);return or(r.receive||r.fallback&&r.fallback.payable||a,"cannot send value to non-payable fallback","overrides.value",n.value),or(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;ir(nc(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const a=await r.sendTransaction(await t(n)),s=oc(e.runner);return new Jl(e.interface,s,a)},r=async e=>await n(e);return tr(r,{_contract:e,estimateGas:async function(n){const r=ic(e.runner,"estimateGas");return ir(ec(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=ic(e.runner,"call");ir($l(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await t(n);try{return await r.call(a)}catch(s){if(ar(s)&&s.data)throw e.interface.makeError(s.data,a);throw s}}}),r}function uc(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];const s=e.interface.getFunction(t,r);return ir(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=async function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];const s=n(...r);let i={};if(s.inputs.length+1===r.length&&(i=await lc(r.pop()),i.from&&(i.from=await Ki(i.from,rc(e.runner)))),s.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const o=await async function(e,t,n){const r=ic(e,"resolveName"),a=tc(r)?r:null;return await Promise.all(t.map((e,t)=>e.walkAsync(n[t],(e,t)=>(t=ds.dereference(t,e),"address"===e?Ki(t,a):t))))}(e.runner,s.inputs,r);return Object.assign({},i,await er({to:e.getAddress(),data:e.interface.encodeFunctionData(s,o)}))},a=async function(){const e=await i(...arguments);return 1===e.length?e[0]:e},s=async function(){const t=e.runner;ir(nc(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),a=oc(e.runner);return new Jl(e.interface,a,n)},i=async function(){const t=ic(e.runner,"call");ir($l(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await r(...arguments);let s="0x";try{s=await t.call(a)}catch(o){if(ar(o)&&o.data)throw e.interface.makeError(o.data,a);throw o}const i=n(...arguments);return e.interface.decodeFunctionResult(i,s)},o=async function(){return n(...arguments).constant?await a(...arguments):await s(...arguments)};return tr(o,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=ic(e.runner,"estimateGas");return ir(ec(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:s,staticCall:a,staticCallResult:i}),Object.defineProperty(o,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return ir(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),o}const dc=Symbol.for("_ethersInternal_contract"),hc=new WeakMap;function fc(e){return hc.get(e[dc])}async function pc(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(mr(t,32))return t;const n=e.interface.getEvent(t);return or(n,"unknown fragment","name",t),n.topicHash};n=t.map(e=>null==e?null:Array.isArray(e)?e.map(r):r(e))}else"*"===t?n=[null]:"string"===typeof t?mr(t,32)?n=[t]:(r=e.interface.getEvent(t),or(r,"unknown fragment","event",t),n=[r.topicHash]):(a=t)&&"object"===typeof a&&"getTopicFilter"in a&&"function"===typeof a.getTopicFilter&&a.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):or(!1,"unknown event name","event",t);var a;n=n.map(e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()});const s=n.map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&");return{fragment:r,tag:s,topics:n}}async function mc(e,t){const{subs:n}=fc(e);return n.get((await pc(e,t)).tag)||null}async function gc(e,t,n){const r=oc(e.runner);ir(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:a,tag:s,topics:i}=await pc(e,n),{addr:o,subs:l}=fc(e);let c=l.get(s);if(!c){const t={address:o||e,topics:i},u=t=>{let r=a;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(s){}if(r){const s=r,i=a?e.interface.decodeEventLog(a,t.data,t.topics):[];vc(e,n,i,r=>new Zl(e,r,n,s,t))}else vc(e,n,[],r=>new Yl(e,r,n,t))};let d=[];c={tag:s,listeners:[],start:()=>{d.length||d.push(r.on(t,u))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),r.off(t,u)}},l.set(s,c)}return c}let yc=Promise.resolve();async function vc(e,t,n,r){try{await yc}catch(s){}const a=async function(e,t,n,r){await yc;const a=await mc(e,t);if(!a)return!1;const i=a.listeners.length;return a.listeners=a.listeners.filter(t=>{let{listener:a,once:i}=t;const o=Array.from(n);r&&o.push(r(i?null:a));try{a.call(e,...o)}catch(s){}return!i}),0===a.listeners.length&&(a.stop(),fc(e).subs.delete(a.tag)),i>0}(e,t,n,r);return yc=a,await a}const bc=["then"];class wc{constructor(e,t,n,r){o(this,"target",void 0),o(this,"interface",void 0),o(this,"runner",void 0),o(this,"filters",void 0),o(this,dc,void 0),o(this,"fallback",void 0),or("string"===typeof e||Vi(e),"invalid value for Contract target","target",e),null==n&&(n=null);const a=Sl.from(t);let s;tr(this,{target:e,runner:n,interface:a}),Object.defineProperty(this,dc,{value:{}});let i=null,l=null;if(r){const e=oc(n);l=new Jl(this.interface,e,r)}let c=new Map;if("string"===typeof e)if(mr(e))i=e,s=Promise.resolve(e);else{const t=ic(n,"resolveName");if(!tc(t))throw sr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then(t=>{if(null==t)throw sr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return fc(this).addr=t,t})}else s=e.getAddress().then(e=>{if(null==e)throw new Error("TODO");return fc(this).addr=e,e});var u,d;u=this,d={addrPromise:s,addr:i,deployTx:l,subs:c},hc.set(u[dc],d);const h=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||bc.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!rr(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>bc.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return tr(this,{filters:h}),tr(this,{fallback:a.receive||a.fallback?cc(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||bc.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!rr(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||bc.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new wc(this.target,this.interface,e)}attach(e){return new wc(e,this.interface,this.runner)}async getAddress(){return await fc(this).addrPromise}async getDeployedCode(){const e=oc(this.runner);ir(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=oc(this.runner);return ir(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(a){n(a)}};r()})}deploymentTransaction(){return fc(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return uc(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];const s=e.interface.getEvent(t,r);return ir(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return new sc(e,n(...r),r)};return tr(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return ir(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:a}=fc(this),s=r||await a,{fragment:i,topics:o}=await pc(this,e),l={address:s,topics:o,fromBlock:t,toBlock:n},c=oc(this.runner);return ir(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map(e=>{let t=i;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new Hl(e,this.interface,t)}catch(n){return new Gl(e,n)}return new Dl(e,c)})}async on(e,t){const n=await gc(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await gc(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await vc(this,e,n,null)}async listenerCount(e){if(e){const t=await mc(this,e);return t?t.listeners.length:0}const{subs:t}=fc(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await mc(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}const{subs:t}=fc(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map(e=>{let{listener:t}=e;return t}));return n}async off(e,t){const n=await mc(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),fc(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await mc(this,e);if(!t)return this;t.stop(),fc(this).subs.delete(t.tag)}else{const{subs:e}=fc(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends wc{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class xc extends(function(){return wc}()){}const Ec=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function Cc(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),a=1,s=[0,1];for(let w=1;w<r;w++)s.push(a+=n());let i=n(),o=t;t+=i;let l=0,c=0;function u(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const d=2**31,h=d>>>1,f=h>>1,p=d-1;let m=0;for(let w=0;w<31;w++)m=m<<1|u();let g=[],y=0,v=d;for(;;){let e=Math.floor(((m-y+1)*a-1)/v),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<s[r]?n=r:t=r}if(0==t)break;g.push(t);let i=y+Math.floor(v*s[t]/a),o=y+Math.floor(v*s[t+1]/a)-1;for(;0==((i^o)&h);)m=m<<1&p|u(),i=i<<1&p,o=o<<1&p|1;for(;i&~o&f;)m=m&h|m<<1&p>>>1|u(),i=i<<1^h,o=(o^h)<<1|h|1;y=i,v=1+o-i}let b=r-4;return g.map(t=>{switch(t-b){case 3:return b+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return b+256+(e[o++]<<8|e[o++]);case 1:return b+e[o++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,n)=>t[e.charCodeAt(0)]=n);let n=e.length,r=new Uint8Array(6*n>>3);for(let a=0,s=0,i=0,o=0;a<n;a++)o=o<<6|t[e.charCodeAt(a)],i+=6,i>=8&&(r[s++]=o>>(i-=8));return r}(e)))}function Ac(e){return 1&e?~e>>1:e>>1}function Sc(e,t){let n=Array(e);for(let r=0,a=0;r<e;r++)n[r]=a+=Ac(t());return n}function Nc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),a=e();if(!a)break;t+=r;for(let e=0;e<a;e++)n.push(t+e);t+=a+1}return n}function kc(e){return Ic(()=>{let t=Nc(e);if(t.length)return t})}function Tc(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(Rc(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(jc(n,e))}return t.flat()}function Ic(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function Bc(e,t,n){let r=Array(e).fill().map(()=>[]);for(let a=0;a<t;a++)Sc(e,n).forEach((e,t)=>r[t].push(e));return r}function Rc(e,t){let n=1+t(),r=t(),a=Ic(t);return Bc(a.length,1+e,t).flatMap((e,t)=>{let[s,...i]=e;return Array(a[t]).fill().map((e,t)=>{let a=t*r;return[s+t*n,i.map(e=>e+a)]})})}function jc(e,t){return Bc(1+t(),1+e,t).map(e=>[e[0],e.slice(1)])}function Pc(e){return"{".concat(function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e),"}")}function Lc(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function Dc(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function Oc(e,t){let n=e.length,r=n-t.length;for(let a=0;0==r&&a<n;a++)r=e[a]-t[a];return r}const _c=44032,Uc=4352,Mc=4449,Fc=4519,Vc=28,zc=588;function Kc(e){return e>>24&255}function Hc(e){return 16777215&e}let Gc,Qc,qc,Wc;function Jc(e){return e>=_c&&e<55204}function Yc(e,t){if(e>=Uc&&e<4371&&t>=Mc&&t<4470)return _c+(e-Uc)*zc+(t-Mc)*Vc;if(Jc(e)&&t>Fc&&t<4547&&(e-_c)%Vc==0)return e+(t-Fc);{let n=Wc.get(e);return n&&(n=n.get(t),n)?n:-1}}function Zc(e){Gc||function(){let e=Cc("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");Gc=new Map(kc(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),Qc=new Set(Nc(e)),qc=new Map,Wc=new Map;for(let[t,n]of Tc(e)){if(!Qc.has(t)&&2==n.length){let[e,r]=n,a=Wc.get(e);a||(a=new Map,Wc.set(e,a)),a.set(r,t)}qc.set(t,n.reverse())}}();let t=[],n=[],r=!1;function a(e){let n=Gc.get(e);n&&(r=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(Jc(s)){let e=s-_c,t=e%zc/Vc|0,n=e%Vc;a(Uc+(e/zc|0)),a(Mc+t),n>0&&a(Fc+n)}else{let e=qc.get(s);e?n.push(...e):a(s)}if(!n.length)break;s=n.pop()}if(r&&t.length>1){let e=Kc(t[0]);for(let n=1;n<t.length;n++){let r=Kc(t[n]);if(0==r||e<=r){e=r;continue}let a=n-1;for(;;){let n=t[a+1];if(t[a+1]=t[a],t[a]=n,!a)break;if(e=Kc(t[--a]),e<=r)break}e=Kc(t[n])}}return t}function Xc(e){return Zc(e).map(Hc)}function $c(e){return function(e){let t=[],n=[],r=-1,a=0;for(let s of e){let e=Kc(s),i=Hc(s);if(-1==r)0==e?r=i:t.push(i);else if(a>0&&a>=e)0==e?(t.push(r,...n),n.length=0,r=i):n.push(i),a=e;else{let s=Yc(r,i);s>=0?r=s:0==a&&0==e?(t.push(r),r=i):(n.push(i),a=e)}}return r>=0&&t.push(r,...n),t}(Zc(e))}const eu=".",tu=e=>Array.from(e);function nu(e,t){return e.P.has(t)||e.Q.has(t)}class ru extends Array{get is_emoji(){return!0}}let au,su,iu,ou,lu,cu,uu,du,hu,fu,pu,mu;function gu(){if(au)return;let e=Cc("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>Nc(e),n=()=>new Set(t()),r=(e,t)=>t.forEach(t=>e.add(t));au=new Map(Tc(e)),su=n(),iu=t(),ou=new Set(t().map(e=>iu[e])),iu=new Set(iu),lu=n(),cu=n();let a=kc(e),s=e();const i=()=>{let e=new Set;return t().forEach(t=>r(e,a[t])),r(e,t()),e};uu=Ic(t=>{let n=Ic(e).map(e=>e+96);if(n.length){let r=t>=s;return n[0]-=32,n=Dc(n),r&&(n="Restricted[".concat(n,"]")),{N:n,P:i(),Q:i(),M:!e(),R:r}}}),du=n(),hu=new Map;let o=t().concat(tu(du)).sort((e,t)=>e-t);o.forEach((t,n)=>{let r=e(),a=o[n]=r?o[n-r]:{V:[],M:new Map};a.V.push(t),du.has(t)||hu.set(t,a)});for(let{V:u,M:d}of new Set(hu.values())){let e=[];for(let n of u){let t=uu.filter(e=>nu(e,n)),a=e.find(e=>{let{G:n}=e;return t.some(e=>n.has(e))});a||(a={G:new Set,V:[]},e.push(a)),a.V.push(n),r(a.G,t)}let t=e.flatMap(e=>tu(e.G));for(let{G:n,V:r}of e){let e=new Set(t.filter(e=>!n.has(e)));for(let t of r)d.set(t,e)}}fu=new Set;let l=new Set;const c=e=>fu.has(e)?l.add(e):fu.add(e);for(let u of uu){for(let e of u.P)c(e);for(let e of u.Q)c(e)}for(let u of fu)hu.has(u)||l.has(u)||hu.set(u,1);r(fu,Xc(fu)),pu=function(e){let t=[],n=Nc(e);return function e(n,r,a){let{S:s,B:i}=n;if(!(4&s&&a===r[r.length-1])){2&s&&(a=r[r.length-1]),1&s&&t.push(r);for(let t of i)for(let n of t.Q)e(t,[...r,n],a)}}(function t(r){let a=e(),s=Ic(()=>{let r=Nc(e).map(e=>n[e]);if(r.length)return t(r)});return{S:a,B:s,Q:r}}([]),[]),t}(e).map(e=>ru.from(e)).sort(Oc),mu=new Map;for(let u of pu){let e=[mu];for(let t of u){let n=e.map(e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n});65039===t?e.push(...n):e=n}for(let t of e)t.V=u}}function yu(e){return(wu(e)?"":"".concat(vu(bu([e]))," "))+Pc(e)}function vu(e){return'"'.concat(e,'"\u200e')}function bu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pc,r=[];var a;a=e[0],gu(),iu.has(a)&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,i=e.length;for(let o=0;o<i;o++){let t=e[o];wu(t)&&(r.push(Dc(e.slice(s,o))),r.push(n(t)),s=o+1)}return r.push(Dc(e.slice(s,i))),r.join("")}function wu(e){return gu(),lu.has(e)}function xu(e,t,n){if(!e)return[];gu();let r=0;return e.split(eu).map(e=>{let a=Lc(e),s={input:a,offset:r};r+=a.length+1;try{let e,r=s.tokens=Nu(a,t,n),i=r.length;if(!i)throw new Error("empty label");let o=s.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(o),!(s.emoji=i>1||r[0].is_emoji)&&o.every(e=>e<128))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error('invalid label extension: "'.concat(Dc(e.slice(0,4)),'"'))}(o),e="ASCII";else{let t=r.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(iu.has(o[0]))throw Su("leading combining mark");for(let e=1;e<i;e++){let t=r[e];if(!t.is_emoji&&iu.has(t[0]))throw Su('emoji + combining mark: "'.concat(Dc(r[e-1])," + ").concat(bu([t[0]]),'"'))}!function(e){let t=e[0],n=Ec.get(t);if(n)throw Su("leading ".concat(n));let r=e.length,a=-1;for(let s=1;s<r;s++){t=e[s];let r=Ec.get(t);if(r){if(a==s)throw Su("".concat(n," + ").concat(r));a=s+1,n=r}}if(a==r)throw Su("trailing ".concat(n))}(o);let n=tu(new Set(t)),[a]=function(e){let t=uu;for(let n of e){let e=t.filter(e=>nu(e,n));if(!e.length)throw uu.some(e=>nu(e,n))?Au(t[0],n):Cu(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!nu(e,n))throw Au(e,n);if(e.M){let e=Xc(t);for(let t=1,n=e.length;t<n;t++)if(ou.has(e[t])){let r=t+1;for(let a;r<n&&ou.has(a=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==a)throw new Error("duplicate non-spacing marks: ".concat(yu(a)));if(r-t>4)throw new Error("excessive non-spacing marks: ".concat(vu(bu(e.slice(t-1,r)))," (").concat(r-t,"/").concat(4,")"));t=r}}}(a,t),function(e,t){let n,r=[];for(let a of t){let e=hu.get(a);if(1===e)return;if(e){let t=e.M.get(a);if(n=n?n.filter(e=>t.has(e)):tu(t),!n.length)return}else r.push(a)}if(n)for(let a of n)if(r.every(e=>nu(a,e)))throw new Error("whole-script confusable: ".concat(e.N,"/").concat(a.N))}(a,n),e=a.N}else e="Emoji"}s.type=e}catch(i){s.error=i}return s})}function Eu(e){return e.map(t=>{let{input:n,error:r,output:a}=t;if(r){let t=r.message;throw new Error(1==e.length?t:"Invalid label ".concat(vu(bu(n,63)),": ").concat(t))}return Dc(a)}).join(eu)}function Cu(e){return new Error("disallowed character: ".concat(yu(e)))}function Au(e,t){let n=yu(t),r=uu.find(e=>e.P.has(t));return r&&(n="".concat(r.N," ").concat(n)),new Error("illegal mixture: ".concat(e.N," + ").concat(n))}function Su(e){return new Error("illegal placement: ".concat(e))}function Nu(e,t,n){let r=[],a=[];for(e=e.slice().reverse();e.length;){let s=Tu(e);if(s)a.length&&(r.push(t(a)),a=[]),r.push(n(s));else{let t=e.pop();if(fu.has(t))a.push(t);else{let e=au.get(t);if(e)a.push(...e);else if(!su.has(t))throw Cu(t)}}}return a.length&&r.push(t(a)),r}function ku(e){return e.filter(e=>65039!=e)}function Tu(e,t){let n,r=mu,a=e.length;for(;a&&(r=r.get(e[--a]),r);){let{V:s}=r;s&&(n=s,t&&t.push(...e.slice(a).reverse()),e.length=a)}return n}const Iu=new Uint8Array(32);function Bu(e){return or(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Ru(e){const t=Bs(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return Eu(xu(e,$c,ku))}(e)}catch(t){or(!1,"invalid ENS name (".concat(t.message,")"),"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let a=0;a<t.length;a++){46===t[a]&&(n.push(Bu(t.slice(r,a))),r=a+1)}return or(r<t.length,"invalid ENS name; empty component","name",e),n.push(Bu(t.slice(r))),n}function ju(e){or("string"===typeof e,"invalid ENS name; not a string","name",e),or(e.length,"invalid ENS name (empty label)","name",e);let t=Iu;const n=Ru(e);for(;n.length;)t=Xa(br([t,Xa(n.pop())]));return vr(t)}function Pu(e,t){const n=null!=t?t:63;return or(n<=255,"DNS encoded label cannot exceed 255","length",n),vr(br(Ru(e).map(t=>{or(t.length<=n,"label ".concat(JSON.stringify(e)," exceeds ").concat(n," bytes"),"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r})))+"00"}Iu.fill(0);class Lu extends Ba{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ka(this.buffer)}update(e){fa(this);const{view:t,buffer:n,blockLen:r}=this,a=(e=Ia(e)).length;for(let s=0;s<a;){const i=Math.min(r-this.pos,a-s);if(i===r){const t=ka(e);for(;r<=a-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fa(this),pa(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:a}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const a=BigInt(32),s=BigInt(4294967295),i=Number(n>>a&s),o=Number(n&s),l=r?4:0,c=r?0:4;e.setUint32(t+l,i,r),e.setUint32(t+c,o,r)}(n,r-8,BigInt(8*this.length),a),this.process(n,0);const i=ka(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=o/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)i.setUint32(4*u,c[u],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:a,destroyed:s,pos:i}=this;return e.length=r,e.pos=i,e.finished=a,e.destroyed=s,r%t&&e.buffer.set(n),e}}const Du=(e,t,n)=>e&t^~e&n,Ou=(e,t,n)=>e&t^e&n^t&n,_u=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Uu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mu=new Uint32Array(64);class Fu extends Lu{constructor(){super(64,32,8,!1),this.A=0|Uu[0],this.B=0|Uu[1],this.C=0|Uu[2],this.D=0|Uu[3],this.E=0|Uu[4],this.F=0|Uu[5],this.G=0|Uu[6],this.H=0|Uu[7]}get(){const{A:e,B:t,C:n,D:r,E:a,F:s,G:i,H:o}=this;return[e,t,n,r,a,s,i,o]}set(e,t,n,r,a,s,i,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|a,this.F=0|s,this.G=0|i,this.H=0|o}process(e,t){for(let u=0;u<16;u++,t+=4)Mu[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Mu[u-15],t=Mu[u-2],n=Ta(e,7)^Ta(e,18)^e>>>3,r=Ta(t,17)^Ta(t,19)^t>>>10;Mu[u]=r+Mu[u-7]+n+Mu[u-16]|0}let{A:n,B:r,C:a,D:s,E:i,F:o,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(Ta(i,6)^Ta(i,11)^Ta(i,25))+Du(i,o,l)+_u[u]+Mu[u]|0,t=(Ta(n,2)^Ta(n,13)^Ta(n,22))+Ou(n,r,a)|0;c=l,l=o,o=i,i=s+e|0,s=a,a=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,s=s+this.D|0,i=i+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,a,s,i,o,l,c)}roundClean(){Mu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Vu=Ra(()=>new Fu),[zu,Ku]=(()=>Aa.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Hu=new Uint32Array(80),Gu=new Uint32Array(80);class Qu extends Lu{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:a,Cl:s,Dh:i,Dl:o,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,n,r,a,s,i,o,l,c,u,d,h,f,p,m]}set(e,t,n,r,a,s,i,o,l,c,u,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|a,this.Cl=0|s,this.Dh=0|i,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let v=0;v<16;v++,t+=4)Hu[v]=e.getUint32(t),Gu[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|Hu[v-15],t=0|Gu[v-15],n=Aa.rotrSH(e,t,1)^Aa.rotrSH(e,t,8)^Aa.shrSH(e,t,7),r=Aa.rotrSL(e,t,1)^Aa.rotrSL(e,t,8)^Aa.shrSL(e,t,7),a=0|Hu[v-2],s=0|Gu[v-2],i=Aa.rotrSH(a,s,19)^Aa.rotrBH(a,s,61)^Aa.shrSH(a,s,6),o=Aa.rotrSL(a,s,19)^Aa.rotrBL(a,s,61)^Aa.shrSL(a,s,6),l=Aa.add4L(r,o,Gu[v-7],Gu[v-16]),c=Aa.add4H(l,n,i,Hu[v-7],Hu[v-16]);Hu[v]=0|c,Gu[v]=0|l}let{Ah:n,Al:r,Bh:a,Bl:s,Ch:i,Cl:o,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let v=0;v<80;v++){const e=Aa.rotrSH(u,d,14)^Aa.rotrSH(u,d,18)^Aa.rotrBH(u,d,41),t=Aa.rotrSL(u,d,14)^Aa.rotrSL(u,d,18)^Aa.rotrBL(u,d,41),b=u&h^~u&p,w=d&f^~d&m,x=Aa.add5L(y,t,w,Ku[v],Gu[v]),E=Aa.add5H(x,g,e,b,zu[v],Hu[v]),C=0|x,A=Aa.rotrSH(n,r,28)^Aa.rotrBH(n,r,34)^Aa.rotrBH(n,r,39),S=Aa.rotrSL(n,r,28)^Aa.rotrBL(n,r,34)^Aa.rotrBL(n,r,39),N=n&a^n&i^a&i,k=r&s^r&o^s&o;g=0|p,y=0|m,p=0|h,m=0|f,h=0|u,f=0|d,({h:u,l:d}=Aa.add(0|l,0|c,0|E,0|C)),l=0|i,c=0|o,i=0|a,o=0|s,a=0|n,s=0|r;const T=Aa.add3L(C,S,k);n=Aa.add3H(T,E,A,N),r=0|T}({h:n,l:r}=Aa.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:a,l:s}=Aa.add(0|this.Bh,0|this.Bl,0|a,0|s)),({h:i,l:o}=Aa.add(0|this.Ch,0|this.Cl,0|i,0|o)),({h:l,l:c}=Aa.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=Aa.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=Aa.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:m}=Aa.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=Aa.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(n,r,a,s,i,o,l,c,u,d,h,f,p,m,g,y)}roundClean(){Hu.fill(0),Gu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qu=Ra(()=>new Qu);const Wu=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}();Wu.crypto||Wu.msCrypto;function Ju(e){switch(e){case"sha256":return Vu.create();case"sha512":return qu.create()}or(!1,"invalid hashing algorithm name","algorithm",e)}const Yu=function(e){return Ju("sha256").update(e).digest()},Zu=function(e){return Ju("sha512").update(e).digest()};let Xu=Yu,$u=Zu,ed=!1,td=!1;function nd(e){const t=fr(e,"data");return vr(Xu(t))}function rd(e){const t=fr(e,"data");return vr($u(t))}nd._=Yu,nd.lock=function(){ed=!0},nd.register=function(e){if(ed)throw new Error("sha256 is locked");Xu=e},Object.freeze(nd),rd._=Zu,rd.lock=function(){td=!0},rd.register=function(e){if(td)throw new Error("sha512 is locked");$u=e},Object.freeze(nd);BigInt(0);const ad=BigInt(1),sd=BigInt(2),id=e=>e instanceof Uint8Array,od=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ld(e){if(!id(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=od[e[n]];return t}function cd(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function ud(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,a=e.slice(t,t+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function dd(e){return cd(ld(e))}function hd(e){if(!id(e))throw new Error("Uint8Array expected");return cd(ld(Uint8Array.from(e).reverse()))}function fd(e,t){return ud(e.toString(16).padStart(2*t,"0"))}function pd(e,t){return fd(e,t).reverse()}function md(e,t,n){let r;if("string"===typeof t)try{r=ud(t)}catch(Et){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(Et))}else{if(!id(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const a=r.length;if("number"===typeof n&&a!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(a));return r}function gd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let a=0;return t.forEach(e=>{if(!id(e))throw new Error("Uint8Array expected");r.set(e,a),a+=e.length}),r}const yd=e=>(sd<<BigInt(e-1))-ad,vd=e=>new Uint8Array(e),bd=e=>Uint8Array.from(e);function wd(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=vd(e),a=vd(e),s=0;const i=()=>{r.fill(1),a.fill(0),s=0},o=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(a,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vd();a=o(bd([0]),e),r=o(),0!==e.length&&(a=o(bd([1]),e),r=o())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=o();const t=r.slice();n.push(t),e+=r.length}return gd(...n)};return(e,t)=>{let n;for(i(),l(e);!(n=t(c()));)l();return i(),n}}const xd={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Ed(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const a=xd[n];if("function"!==typeof a)throw new Error('Invalid validator "'.concat(n,'", expected function'));const s=e[t];if((!r||void 0!==s)&&!a(s,e))throw new Error("Invalid param ".concat(String(t),"=").concat(s," (").concat(typeof s,"), expected ").concat(n))};for(const[a,s]of Object.entries(t))r(a,s,!1);for(const[a,s]of Object.entries(n))r(a,s,!0);return e}const Cd=BigInt(0),Ad=BigInt(1),Sd=BigInt(2),Nd=BigInt(3),kd=BigInt(4),Td=BigInt(5),Id=BigInt(8);BigInt(9),BigInt(16);function Bd(e,t){const n=e%t;return n>=Cd?n:t+n}function Rd(e,t,n){if(n<=Cd||t<Cd)throw new Error("Expected power/modulo > 0");if(n===Ad)return Cd;let r=Ad;for(;t>Cd;)t&Ad&&(r=r*e%n),e=e*e%n,t>>=Ad;return r}function jd(e,t,n){let r=e;for(;t-- >Cd;)r*=r,r%=n;return r}function Pd(e,t){if(e===Cd||t<=Cd)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=Bd(e,t),r=t,a=Cd,s=Ad,i=Ad,o=Cd;for(;n!==Cd;){const e=r/n,t=r%n,l=a-i*e,c=s-o*e;r=n,n=t,a=i,s=o,i=l,o=c}if(r!==Ad)throw new Error("invert: does not exist");return Bd(a,t)}function Ld(e){if(e%kd===Nd){const t=(e+Ad)/kd;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Id===Td){const t=(e-Td)/Id;return function(e,n){const r=e.mul(n,Sd),a=e.pow(r,t),s=e.mul(n,a),i=e.mul(e.mul(s,Sd),a),o=e.mul(s,e.sub(i,e.ONE));if(!e.eql(e.sqr(o),n))throw new Error("Cannot find square root");return o}}return function(e){const t=(e-Ad)/Sd;let n,r,a;for(n=e-Ad,r=0;n%Sd===Cd;n/=Sd,r++);for(a=Sd;a<e&&Rd(a,t,e)!==e-Ad;a++);if(1===r){const t=(e+Ad)/kd;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+Ad)/Sd;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,a),n),c=e.pow(i,s),u=e.pow(i,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,Ad<<BigInt(o-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),o=t}return c}}(e)}const Dd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Od(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function _d(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ud(e){const t=_d(e);return t+Math.ceil(t/2)}class Md extends Ba{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ha(e);const n=Ia(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,a=new Uint8Array(r);a.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return fa(this),this.iHash.update(e),this}digestInto(e){fa(this),da(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:a,blockLen:s,outputLen:i}=this;return e.finished=r,e.destroyed=a,e.blockLen=s,e.outputLen=i,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Fd=(e,t,n)=>new Md(e,t).update(n).digest();Fd.create=(e,t)=>new Md(e,t);const Vd=BigInt(0),zd=BigInt(1);function Kd(e){return Ed(e.Fp,Dd.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Ed(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(c(c(c({},Od(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))}const{Ph:Hd,aT:Gd}=e,Qd={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Qd;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Hd(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Qd,n="string"===typeof e?Gd(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:a,l:s}=Qd._parseInt(n.subarray(2)),{d:i,l:o}=Qd._parseInt(s);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s:i}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),a=t(n(e.r)),s=r.length/2,i=a.length/2,o=n(s),l=n(i);return"30".concat(n(i+s+4),"02").concat(l).concat(a,"02").concat(o).concat(r)}},qd=BigInt(0),Wd=BigInt(1),Jd=(BigInt(2),BigInt(3));BigInt(4);function Yd(e){const t=function(e){const t=Kd(e);Ed(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:a}=t;if(n){if(!r.eql(a,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze(c({},t))}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const a=t.toAffine();return gd(Uint8Array.from([4]),n.toBytes(a.x),n.toBytes(a.y))}),a=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:a}=t,s=n.sqr(e),i=n.mul(s,e);return n.add(n.add(i,n.mul(e,r)),a)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function i(e){return"bigint"===typeof e&&qd<e&&e<t.n}function o(e){if(!i(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:a,n:s}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=ld(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let i;try{i="bigint"===typeof e?e:dd(md("private key",e,r))}catch(l){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return a&&(i=Bd(i,s)),o(i),i}const u=new Map;function d(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const a=e=>n.eql(e,n.ZERO);return a(t)&&a(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(a(md("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const a=n.sqr(r),i=s(e);if(!n.eql(a,i))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){d(e);const{px:t,py:r,pz:a}=this,{px:s,py:i,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(s,a)),c=n.eql(n.mul(r,o),n.mul(i,a));return l&&c}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,a=n.mul(r,Jd),{px:s,py:i,pz:o}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,d=n.mul(s,s),f=n.mul(i,i),p=n.mul(o,o),m=n.mul(s,i);return m=n.add(m,m),u=n.mul(s,o),u=n.add(u,u),l=n.mul(e,u),c=n.mul(a,p),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(m,l),u=n.mul(a,u),p=n.mul(e,p),m=n.sub(d,p),m=n.mul(e,m),m=n.add(m,u),u=n.add(d,d),d=n.add(u,d),d=n.add(d,p),d=n.mul(d,m),c=n.add(c,d),p=n.mul(i,o),p=n.add(p,p),d=n.mul(p,m),l=n.sub(l,d),u=n.mul(p,f),u=n.add(u,u),u=n.add(u,u),new h(l,c,u)}add(e){d(e);const{px:r,py:a,pz:s}=this,{px:i,py:o,pz:l}=e;let c=n.ZERO,u=n.ZERO,f=n.ZERO;const p=t.a,m=n.mul(t.b,Jd);let g=n.mul(r,i),y=n.mul(a,o),v=n.mul(s,l),b=n.add(r,a),w=n.add(i,o);b=n.mul(b,w),w=n.add(g,y),b=n.sub(b,w),w=n.add(r,s);let x=n.add(i,l);return w=n.mul(w,x),x=n.add(g,v),w=n.sub(w,x),x=n.add(a,s),c=n.add(o,l),x=n.mul(x,c),c=n.add(y,v),x=n.sub(x,c),f=n.mul(p,w),c=n.mul(m,v),f=n.add(c,f),c=n.sub(y,f),f=n.add(y,f),u=n.mul(c,f),y=n.add(g,g),y=n.add(y,g),v=n.mul(p,v),w=n.mul(m,w),y=n.add(y,v),v=n.sub(g,v),v=n.mul(p,v),w=n.add(w,v),g=n.mul(y,w),u=n.add(u,g),g=n.mul(x,w),c=n.mul(b,c),c=n.sub(c,g),g=n.mul(b,y),f=n.mul(x,f),f=n.add(f,g),new h(c,u,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return p.wNAFCached(this,u,e,e=>{const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(h.fromAffine)})}multiplyUnsafe(e){const r=h.ZERO;if(e===qd)return r;if(o(e),e===Wd)return this;const{endo:a}=t;if(!a)return p.unsafeLadder(this,e);let{k1neg:s,k1:i,k2neg:l,k2:c}=a.splitScalar(e),u=r,d=r,f=this;for(;i>qd||c>qd;)i&Wd&&(u=u.add(f)),c&Wd&&(d=d.add(f)),f=f.double(),i>>=Wd,c>>=Wd;return s&&(u=u.negate()),l&&(d=d.negate()),d=new h(n.mul(d.px,a.beta),d.py,d.pz),u.add(d)}multiply(e){o(e);let r,a,s=e;const{endo:i}=t;if(i){const{k1neg:e,k1:t,k2neg:o,k2:l}=i.splitScalar(s);let{p:c,f:u}=this.wNAF(t),{p:d,f:f}=this.wNAF(l);c=p.constTimeNegate(e,c),d=p.constTimeNegate(o,d),d=new h(n.mul(d.px,i.beta),d.py,d.pz),r=c.add(d),a=u.add(f)}else{const{p:e,f:t}=this.wNAF(s);r=e,a=t}return h.normalizeZ([r,a])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,a=(e,t)=>t!==qd&&t!==Wd&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=a(this,t).add(a(e,n));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:a}=this,s=this.is0();null==e&&(e=s?n.ONE:n.inv(a));const i=n.mul(t,e),o=n.mul(r,e),l=n.mul(a,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:i,y:o}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Wd)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Wd?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ld(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,a=t;for(;n>Vd;)n&zd&&(r=r.add(a)),a=a.double(),n>>=zd;return r},precomputeWindow(e,t){const{windows:n,windowSize:a}=r(t),s=[];let i=e,o=i;for(let r=0;r<n;r++){o=i,s.push(o);for(let e=1;e<a;e++)o=o.add(i),s.push(o);i=o.double()}return s},wNAF(t,a,s){const{windows:i,windowSize:o}=r(t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<i;e++){const t=e*o;let r=Number(s&u);s>>=h,r>o&&(r-=d,s+=zd);const i=t,f=t+Math.abs(r)-1,p=e%2!==0,m=r<0;0===r?c=c.add(n(p,a[i])):l=l.add(n(m,a[f]))}return{p:l,f:c}},wNAFCached(e,t,n,r){const a=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,a),1!==a&&t.set(e,r(s))),this.wNAF(a,s,n)}}}(h,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:i}}function Zd(e){const t=function(e){const t=Kd(e);return Ed(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(c({lowS:!0},t))}(e),{Fp:n,n:r}=t,a=n.BYTES+1,s=2*n.BYTES+1;function i(e){return Bd(e,r)}function o(e){return Pd(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:h}=Yd(c(c({},t),{},{toBytes(e,t,r){const a=t.toAffine(),s=n.toBytes(a.x),i=gd;return r?i(Uint8Array.from([t.hasEvenY()?2:3]),s):i(Uint8Array.from([4]),s,n.toBytes(a.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==a||2!==r&&3!==r){if(t===s&&4===r){return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(a," compressed bytes or ").concat(s," uncompressed bytes"))}{const e=dd(i);if(!(qd<(o=e)&&o<n.ORDER))throw new Error("Point is not on curve");const t=d(e);let a=n.sqrt(t);return 1===(1&r)!==((a&Wd)===Wd)&&(a=n.neg(a)),{x:e,y:a}}var o}})),f=e=>ld(fd(e,t.nByteLength));function p(e){return e>r>>Wd}const m=(e,t,n)=>dd(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=md("compactSignature",e,2*n),new g(m(e,0,n),m(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Qd.toSig(md("DER",e));return new g(t,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:a,recovery:s}=this,c=w(md("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&s)?"02":"03",h=l.fromHex(d+f(u)),p=o(u),m=i(-c*p),g=i(a*p),y=l.BASE.multiplyAndAddUnsafe(h,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return ud(this.toDERHex())}toDERHex(){return Qd.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ud(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Ud(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,a=_d(t),s=Ud(t);if(r<16||r<s||r>1024)throw new Error("expected ".concat(s,"-1024 bytes of input, got ").concat(r));const i=Bd(n?dd(e):hd(e),t-Ad)+Ad;return n?pd(i,a):fd(i,a)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function v(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===a||r===s:n?r===2*a||r===2*s:e instanceof l}const b=t.bits2int||function(e){const n=dd(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},w=t.bits2int_modN||function(e){return i(b(e))},x=yd(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(qd<=e&&e<x))throw new Error("bigint expected < 2^".concat(t.nBitLength));return fd(e,t.nByteLength)}function C(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;if(["recovered","canonical"].some(e=>e in a))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:c}=t;let{lowS:d,prehash:f,extraEntropy:m}=a;null==d&&(d=!0),e=md("msgHash",e),f&&(e=md("prehashed msgHash",s(e)));const y=w(e),v=u(r),x=[E(v),E(y)];if(null!=m){const e=!0===m?c(n.BYTES):m;x.push(md("extraEntropy",e))}const C=gd(...x),S=y;return{seed:C,k2sig:function(e){const t=b(e);if(!h(t))return;const n=o(t),r=l.BASE.multiply(t).toAffine(),a=i(r.x);if(a===qd)return;const s=i(n*i(S+a*v));if(s===qd)return;let c=(r.x===a?0:2)|Number(r.y&Wd),u=s;return d&&p(s)&&(u=function(e){return p(e)?i(-e):e}(s),c^=1),new g(a,u,c)}}}const A={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(v(e))throw new Error("first arg must be private key");if(!v(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;const{seed:a,k2sig:s}=C(e,n,r),i=t;return wd(i.hash.outputLen,i.nByteLength,i.hmac)(a,s)},verify:function(e,n,r){var a;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const c=e;if(n=md("msgHash",n),r=md("publicKey",r),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:d}=s;let h,f;try{if("string"===typeof c||c instanceof Uint8Array)try{h=g.fromDER(c)}catch(C){if(!(C instanceof Qd.Err))throw C;h=g.fromCompact(c)}else{if("object"!==typeof c||"bigint"!==typeof c.r||"bigint"!==typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;h=new g(e,t)}}f=l.fromHex(r)}catch(A){if("PARSE"===A.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;d&&(n=t.hash(n));const{r:p,s:m}=h,y=w(n),v=o(m),b=i(y*v),x=i(p*v),E=null===(a=l.BASE.multiplyAndAddUnsafe(f,b,x))||void 0===a?void 0:a.toAffine();return!!E&&i(E.x)===p},ProjectivePoint:l,Signature:g,utils:y}}function Xd(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return Fd(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let a=0;return t.forEach(e=>{if(!Na(e))throw new Error("Uint8Array expected");r.set(e,a),a+=e.length}),r}(...r))},randomBytes:ja}}const $d=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),th=BigInt(1),nh=BigInt(2),rh=(e,t)=>(e+t/nh)/t;function ah(e){const t=$d,n=BigInt(3),r=BigInt(6),a=BigInt(11),s=BigInt(22),i=BigInt(23),o=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=jd(u,n,t)*u%t,h=jd(d,n,t)*u%t,f=jd(h,nh,t)*c%t,p=jd(f,a,t)*f%t,m=jd(p,s,t)*p%t,g=jd(m,o,t)*m%t,y=jd(g,l,t)*g%t,v=jd(y,o,t)*m%t,b=jd(v,n,t)*u%t,w=jd(b,i,t)*p%t,x=jd(w,r,t)*c%t,E=jd(x,nh,t);if(!sh.eql(sh.sqr(E),e))throw new Error("Cannot find square root");return E}const sh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Cd)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:a,nByteLength:s}=Od(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=Ld(e),o=Object.freeze({ORDER:e,BITS:a,BYTES:s,MASK:yd(a),ZERO:Cd,ONE:Ad,create:t=>Bd(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return Cd<=t&&t<e},is0:e=>e===Cd,isOdd:e=>(e&Ad)===Ad,neg:t=>Bd(-t,e),eql:(e,t)=>e===t,sqr:t=>Bd(t*t,e),add:(t,n)=>Bd(t+n,e),sub:(t,n)=>Bd(t-n,e),mul:(t,n)=>Bd(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Cd)throw new Error("Expected power > 0");if(n===Cd)return e.ONE;if(n===Ad)return t;let r=e.ONE,a=t;for(;n>Cd;)n&Ad&&(r=e.mul(r,a)),a=e.sqr(a),n>>=Ad;return r}(o,e,t),div:(t,n)=>Bd(t*Pd(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Pd(t,e),sqrt:r.sqrt||(e=>i(o,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,a)=>e.is0(r)?t:(n[a]=t,e.mul(t,r)),e.ONE),a=e.inv(r);return t.reduceRight((t,r,a)=>e.is0(r)?t:(n[a]=e.mul(t,n[a]),e.mul(t,r)),a),n}(o,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?pd(e,s):fd(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(e.length));return n?hd(e):dd(e)}});return Object.freeze(o)}($d,void 0,void 0,{sqrt:ah}),ih=function(e,t){const n=t=>Zd(c(c({},e),Xd(t)));return Object.freeze(c(c({},n(t)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:sh,n:eh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=eh,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-th*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,i=BigInt("0x100000000000000000000000000000000"),o=rh(s*e,t),l=rh(-r*e,t);let c=Bd(e-o*n-l*a,t),u=Bd(-o*r-l*s,t);const d=c>i,h=u>i;if(d&&(c=t-c),h&&(u=t-u),c>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}}},Vu);BigInt(0);ih.ProjectivePoint;var oh=new WeakMap;class lh{constructor(e){Jn(this,oh,void 0),or(32===wr(e),"invalid private key","privateKey","[REDACTED]"),Xn(oh,this,vr(e))}get privateKey(){return Zn(oh,this)}get publicKey(){return lh.computePublicKey(Zn(oh,this))}get compressedPublicKey(){return lh.computePublicKey(Zn(oh,this),!0)}sign(e){or(32===wr(e),"invalid digest length","digest",e);const t=ih.sign(pr(e),pr(Zn(oh,this)),{lowS:!0});return No.from({r:Lr(t.r,32),s:Lr(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=lh.computePublicKey(e);return vr(ih.getSharedSecret(pr(Zn(oh,this)),fr(t),!1))}static computePublicKey(e,t){let n=fr(e,"key");if(32===n.length){return vr(ih.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return vr(ih.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){or(32===wr(e),"invalid digest length","digest",e);const n=No.from(t);let r=ih.Signature.fromCompact(pr(br([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const a=r.recoverPublicKey(pr(e));return or(null!=a,"invalid signature for digest","signature",t),"0x"+a.toHex(!1)}static addPoints(e,t,n){const r=ih.ProjectivePoint.fromHex(lh.computePublicKey(e).substring(2)),a=ih.ProjectivePoint.fromHex(lh.computePublicKey(t).substring(2));return"0x"+r.add(a).toHex(!!n)}}function ch(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function uh(e,t,n){let r=0;for(let a=0;a<n;a++)r=256*r+e[t+a];return r}function dh(e,t,n,r){const a=[];for(;n<t+1+r;){const s=hh(e,n);a.push(s.result),ir((n+=s.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:a}}function hh(e,t){ir(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{ir(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const a=uh(e,t+1,r);return n(t+1+r+a),dh(e,t,t+1+r,r+a)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),dh(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const a=uh(e,t+1,r);n(t+1+r+a);return{consumed:1+r+a,result:vr(e.slice(t+1+r,t+1+r+a))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:vr(e.slice(t+1,t+1+r))}}return{consumed:1,result:ch(e[t])}}function fh(e){const t=fr(e,"data"),n=hh(t,0);return or(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function ph(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function mh(e){if(Array.isArray(e)){let t=[];if(e.forEach(function(e){t=t.concat(mh(e))}),t.length<=55)return t.unshift(192+t.length),t;const n=ph(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(fr(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=ph(t.length);return n.unshift(183+n.length),n.concat(t)}const gh="0123456789abcdef";function yh(e){let t="0x";for(const n of mh(e))t+=gh[n>>4],t+=gh[15&n];return t}function vh(e,t){return function(e){let t;return t="string"===typeof e?lh.computePublicKey(e,!1):e.publicKey,ss(Xa("0x"+t.substring(4)).substring(26))}(lh.recoverPublicKey(e,t))}const bh=BigInt(0),wh=BigInt(2),xh=BigInt(27),Eh=BigInt(28),Ch=BigInt(35),Ah=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Sh=131072;function Nh(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=nd(t).substring(4),"0x"+n}function kh(e){return"0x"===e?null:ss(e)}function Th(e,t){try{return ho(e)}catch(n){or(!1,n.message,t,e)}}function Ih(e,t){try{if(!Array.isArray(e))throw new Error("authorizationList: invalid array");const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!Array.isArray(r))throw new Error("authorization[".concat(n,"]: invalid array"));if(6!==r.length)throw new Error("authorization[".concat(n,"]: wrong length"));if(!r[1])throw new Error("authorization[".concat(n,"]: null address"));t.push({address:kh(r[1]),nonce:Rh(r[2],"nonce"),chainId:Rh(r[0],"chainId"),signature:No.from({yParity:Bh(r[3],"yParity"),r:Cr(r[4],32),s:Cr(r[5],32)})})}return t}catch(n){or(!1,n.message,t,e)}}function Bh(e,t){return"0x"===e?0:Pr(e,t)}function Rh(e,t){if("0x"===e)return bh;const n=Ir(e,t);return or(n<=Ah,"value exceeds uint size",t,n),n}function jh(e,t){const n=Ir(e,"value"),r=Dr(n);return or(r.length<=32,"value too large","tx.".concat(t),n),r}function Ph(e){return ho(e).map(e=>[e.address,e.storageKeys])}function Lh(e,t){or(Array.isArray(e),"invalid ".concat(t),"value",e);for(let n=0;n<e.length;n++)or(mr(e[n],32),"invalid ${ param } hash","value[".concat(n,"]"),e[n]);return e}function Dh(e,t){let n;try{if(n=Bh(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(i){or(!1,"invalid yParity","yParity",t[0])}const r=Cr(t[1],32),a=Cr(t[2],32),s=No.from({r:r,s:a,yParity:n});e.signature=s}var Oh=new WeakMap,_h=new WeakMap,Uh=new WeakMap,Mh=new WeakMap,Fh=new WeakMap,Vh=new WeakMap,zh=new WeakMap,Kh=new WeakMap,Hh=new WeakMap,Gh=new WeakMap,Qh=new WeakMap,qh=new WeakMap,Wh=new WeakMap,Jh=new WeakMap,Yh=new WeakMap,Zh=new WeakMap,Xh=new WeakMap,$h=new WeakSet;class ef{get type(){return Zn(Oh,this)}set type(e){switch(e){case null:Xn(Oh,this,null);break;case 0:case"legacy":Xn(Oh,this,0);break;case 1:case"berlin":case"eip-2930":Xn(Oh,this,1);break;case 2:case"london":case"eip-1559":Xn(Oh,this,2);break;case 3:case"cancun":case"eip-4844":Xn(Oh,this,3);break;case 4:case"pectra":case"eip-7702":Xn(Oh,this,4);break;default:or(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=Zn(_h,this);return null==e&&3===this.type?fl:e}set to(e){Xn(_h,this,null==e?null:ss(e))}get nonce(){return Zn(Mh,this)}set nonce(e){Xn(Mh,this,Pr(e,"value"))}get gasLimit(){return Zn(Fh,this)}set gasLimit(e){Xn(Fh,this,Ir(e))}get gasPrice(){const e=Zn(Vh,this);return null!=e||0!==this.type&&1!==this.type?e:bh}set gasPrice(e){Xn(Vh,this,null==e?null:Ir(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=Zn(zh,this);return null==e?2===this.type||3===this.type?bh:null:e}set maxPriorityFeePerGas(e){Xn(zh,this,null==e?null:Ir(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=Zn(Kh,this);return null==e?2===this.type||3===this.type?bh:null:e}set maxFeePerGas(e){Xn(Kh,this,null==e?null:Ir(e,"maxFeePerGas"))}get data(){return Zn(Uh,this)}set data(e){Xn(Uh,this,vr(e))}get value(){return Zn(Hh,this)}set value(e){Xn(Hh,this,Ir(e,"value"))}get chainId(){return Zn(Gh,this)}set chainId(e){Xn(Gh,this,Ir(e))}get signature(){return Zn(Qh,this)||null}set signature(e){Xn(Qh,this,null==e?null:No.from(e))}get accessList(){const e=Zn(qh,this)||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){Xn(qh,this,null==e?null:ho(e))}get authorizationList(){const e=Zn(Xh,this)||null;return null==e&&4===this.type?[]:e}set authorizationList(e){Xn(Xh,this,null==e?null:e.map(e=>ko(e)))}get maxFeePerBlobGas(){const e=Zn(Wh,this);return null==e&&3===this.type?bh:e}set maxFeePerBlobGas(e){Xn(Wh,this,null==e?null:Ir(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=Zn(Jh,this);return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){or(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)or(mr(e[t],32),"invalid blobVersionedHash","value[".concat(t,"]"),e[t])}Xn(Jh,this,e)}get blobs(){return null==Zn(Zh,this)?null:Zn(Zh,this).map(e=>Object.assign({},e))}set blobs(e){if(null==e)return void Xn(Zh,this,null);const t=[],n=[];for(let r=0;r<e.length;r++){const a=e[r];if(gr(a)){ir(Zn(Yh,this),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=fr(a);if(or(e.length<=Sh,"blob is too large","blobs[".concat(r,"]"),a),e.length!==Sh){const t=new Uint8Array(Sh);t.set(e),e=t}const s=Zn(Yh,this).blobToKzgCommitment(e),i=vr(Zn(Yh,this).computeBlobKzgProof(e,s));t.push({data:vr(e),commitment:vr(s),proof:i}),n.push(Nh(1,s))}else{const e=vr(a.commitment);t.push({data:vr(a.data),commitment:e,proof:vr(a.proof)}),n.push(Nh(1,e))}}Xn(Zh,this,t),Xn(Jh,this,n)}get kzg(){return Zn(Yh,this)}set kzg(e){Xn(Yh,this,null==e?null:function(e){return{blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return fr(e.blobToKzgCommitment(vr(t)))}else if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return fr(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&"function"===typeof e.blobToKZGCommitment)return fr(e.blobToKZGCommitment(vr(t)));or(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,n)=>"computeBlobProof"in e&&"function"===typeof e.computeBlobProof?fr(e.computeBlobProof(vr(t),vr(n))):"computeBlobKzgProof"in e&&"function"===typeof e.computeBlobKzgProof?e.computeBlobKzgProof(t,n):"computeBlobKZGProof"in e&&"function"===typeof e.computeBlobKZGProof?fr(e.computeBlobKZGProof(vr(t),vr(n))):void or(!1,"unsupported KZG library","kzg",e)}}(e))}constructor(){dr(this,$h),Jn(this,Oh,void 0),Jn(this,_h,void 0),Jn(this,Uh,void 0),Jn(this,Mh,void 0),Jn(this,Fh,void 0),Jn(this,Vh,void 0),Jn(this,zh,void 0),Jn(this,Kh,void 0),Jn(this,Hh,void 0),Jn(this,Gh,void 0),Jn(this,Qh,void 0),Jn(this,qh,void 0),Jn(this,Wh,void 0),Jn(this,Jh,void 0),Jn(this,Yh,void 0),Jn(this,Zh,void 0),Jn(this,Xh,void 0),Xn(Oh,this,null),Xn(_h,this,null),Xn(Mh,this,0),Xn(Fh,this,bh),Xn(Vh,this,null),Xn(zh,this,null),Xn(Kh,this,null),Xn(Uh,this,"0x"),Xn(Hh,this,bh),Xn(Gh,this,bh),Xn(Qh,this,null),Xn(qh,this,null),Xn(Wh,this,null),Xn(Jh,this,null),Xn(Yh,this,null),Xn(Zh,this,null),Xn(Xh,this,null)}get hash(){return null==this.signature?null:Xa(Yn($h,this,tf).call(this,!0,!1))}get unsignedHash(){return Xa(this.unsignedSerialized)}get from(){return null==this.signature?null:vh(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:lh.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){return Yn($h,this,tf).call(this,!0,!0)}get unsignedSerialized(){return Yn($h,this,tf).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=Zn(Wh,this)||Zn(Jh,this);null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&ir(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ir(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ir(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const a=[];return null!=this.type?a.push(this.type):this.authorizationList&&this.authorizationList.length?a.push(4):t?a.push(2):e?(a.push(1),n||a.push(0)):n?(a.push(1),a.push(2)):(r&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return ef.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new ef;if("string"===typeof e){const t=fr(e);if(t[0]>=127)return ef.from(function(e){const t=fh(e);or(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:Bh(t[0],"nonce"),gasPrice:Rh(t[1],"gasPrice"),gasLimit:Rh(t[2],"gasLimit"),to:kh(t[3]),value:Rh(t[4],"value"),data:vr(t[5]),chainId:bh};if(6===t.length)return n;const r=Rh(t[6],"v"),a=Rh(t[7],"r"),s=Rh(t[8],"s");if(a===bh&&s===bh)n.chainId=r;else{let e=(r-Ch)/wh;e<bh&&(e=bh),n.chainId=e,or(e!==bh||r===xh||r===Eh,"non-canonical legacy v","v",t[6]),n.signature=No.from({r:Cr(t[7],32),s:Cr(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return ef.from(function(e){const t=fh(fr(e).slice(1));or(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",vr(e));const n={type:1,chainId:Rh(t[0],"chainId"),nonce:Bh(t[1],"nonce"),gasPrice:Rh(t[2],"gasPrice"),gasLimit:Rh(t[3],"gasLimit"),to:kh(t[4]),value:Rh(t[5],"value"),data:vr(t[6]),accessList:Th(t[7],"accessList")};return 8===t.length||Dh(n,t.slice(8)),n}(t));case 2:return ef.from(function(e){const t=fh(fr(e).slice(1));or(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",vr(e));const n={type:2,chainId:Rh(t[0],"chainId"),nonce:Bh(t[1],"nonce"),maxPriorityFeePerGas:Rh(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Rh(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Rh(t[4],"gasLimit"),to:kh(t[5]),value:Rh(t[6],"value"),data:vr(t[7]),accessList:Th(t[8],"accessList")};return 9===t.length||Dh(n,t.slice(9)),n}(t));case 3:return ef.from(function(e){let t=fh(fr(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],a=t[2],s=t[3];or(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),or(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),or(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),or(e.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",t),or(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:a[n],proof:s[n]});t=t[0]}or(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: ".concat(n),"data",vr(e));const a={type:3,chainId:Rh(t[0],"chainId"),nonce:Bh(t[1],"nonce"),maxPriorityFeePerGas:Rh(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Rh(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Rh(t[4],"gasLimit"),to:kh(t[5]),value:Rh(t[6],"value"),data:vr(t[7]),accessList:Th(t[8],"accessList"),maxFeePerBlobGas:Rh(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(a.blobs=r),or(null!=a.to,"invalid address for transaction type: ".concat(n),"data",e),or(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<a.blobVersionedHashes.length;s++)or(mr(a.blobVersionedHashes[s],32),"invalid blobVersionedHash at index ".concat(s,": must be length 32"),"data",e);return 11===t.length||Dh(a,t.slice(11)),a}(t));case 4:return ef.from(function(e){const t=fh(fr(e).slice(1));or(Array.isArray(t)&&(10===t.length||13===t.length),"invalid field count for transaction type: 4","data",vr(e));const n={type:4,chainId:Rh(t[0],"chainId"),nonce:Bh(t[1],"nonce"),maxPriorityFeePerGas:Rh(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Rh(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Rh(t[4],"gasLimit"),to:kh(t[5]),value:Rh(t[6],"value"),data:vr(t[7]),accessList:Th(t[8],"accessList"),authorizationList:Ih(t[9],"authorizationList")};return 10===t.length||Dh(n,t.slice(10)),n}(t))}ir(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new ef;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=No.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.authorizationList&&(t.authorizationList=e.authorizationList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(or(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),or(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(or(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),or(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function tf(e,t){ir(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[jh(e.nonce,"nonce"),jh(e.gasPrice||0,"gasPrice"),jh(e.gasLimit,"gasLimit"),e.to||"0x",jh(e.value,"value"),e.data];let r=bh;if(e.chainId!=bh)r=Ir(e.chainId,"tx.chainId"),or(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==bh&&(n.push(Dr(r)),n.push("0x"),n.push("0x")),yh(n);let a=BigInt(27+t.yParity);return r!==bh?a=No.getChainIdV(r,t.v):BigInt(t.v)!==a&&or(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(Dr(a)),n.push(Dr(t.r)),n.push(Dr(t.s)),yh(n)}(this,n);case 1:return function(e,t){const n=[jh(e.chainId,"chainId"),jh(e.nonce,"nonce"),jh(e.gasPrice||0,"gasPrice"),jh(e.gasLimit,"gasLimit"),e.to||"0x",jh(e.value,"value"),e.data,Ph(e.accessList||[])];return t&&(n.push(jh(t.yParity,"recoveryParam")),n.push(Dr(t.r)),n.push(Dr(t.s))),br(["0x01",yh(n)])}(this,n);case 2:return function(e,t){const n=[jh(e.chainId,"chainId"),jh(e.nonce,"nonce"),jh(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jh(e.maxFeePerGas||0,"maxFeePerGas"),jh(e.gasLimit,"gasLimit"),e.to||"0x",jh(e.value,"value"),e.data,Ph(e.accessList||[])];return t&&(n.push(jh(t.yParity,"yParity")),n.push(Dr(t.r)),n.push(Dr(t.s))),br(["0x02",yh(n)])}(this,n);case 3:return function(e,t,n){const r=[jh(e.chainId,"chainId"),jh(e.nonce,"nonce"),jh(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jh(e.maxFeePerGas||0,"maxFeePerGas"),jh(e.gasLimit,"gasLimit"),e.to||fl,jh(e.value,"value"),e.data,Ph(e.accessList||[]),jh(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Lh(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(jh(t.yParity,"yParity")),r.push(Dr(t.r)),r.push(Dr(t.s)),n)?br(["0x03",yh([r,n.map(e=>e.data),n.map(e=>e.commitment),n.map(e=>e.proof)])]):br(["0x03",yh(r)])}(this,n,t?this.blobs:null);case 4:return function(e,t){const n=[jh(e.chainId,"chainId"),jh(e.nonce,"nonce"),jh(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jh(e.maxFeePerGas||0,"maxFeePerGas"),jh(e.gasLimit,"gasLimit"),e.to||"0x",jh(e.value,"value"),e.data,Ph(e.accessList||[]),(r=e.authorizationList||[],r.map(e=>[jh(e.chainId,"chainId"),e.address,jh(e.nonce,"nonce"),jh(e.signature.yParity,"yParity"),Dr(e.signature.r),Dr(e.signature.s)]))];var r;return t&&(n.push(jh(t.yParity,"yParity")),n.push(Dr(t.r)),n.push(Dr(t.s))),br(["0x04",yh(n)])}(this,n)}ir(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}const nf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const rf=BigInt(58);var af;function sf(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):or(!1,"unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}class of{constructor(e){o(this,"name",void 0),tr(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const lf=new RegExp("^(ipfs)://(.*)$","i"),cf=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),lf,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var uf=new WeakMap,df=new WeakMap,hf=new WeakSet;class ff{constructor(e,t,n){dr(this,hf),o(this,"provider",void 0),o(this,"address",void 0),o(this,"name",void 0),Jn(this,uf,void 0),Jn(this,df,void 0),tr(this,{provider:e,address:t,name:n}),Xn(uf,this,null),Xn(df,this,new xc(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return null==Zn(uf,this)&&Xn(uf,this,(async()=>{try{return await Zn(df,this).supportsInterface("0x9061b923")}catch(e){if(rr(e,"CALL_EXCEPTION"))return!1;throw Xn(uf,this,null),e}})()),await Zn(uf,this)}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await Yn(hf,this,pf).call(this,"addr(bytes32)");return null==e||e===fl?null:e}catch(a){if(rr(a,"CALL_EXCEPTION"))return null;throw a}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await Yn(hf,this,pf).call(this,"addr(bytes32,uint)",[t]);if(mr(n,20))return ss(n)}let t=null;for(const s of this.provider.plugins)if(s instanceof of&&s.supportsCoinType(e)){t=s;break}if(null==t)return null;const n=await Yn(hf,this,pf).call(this,"addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;ir(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:"getAddress(".concat(e,")"),info:{coinType:e,data:n}})}async getText(e){const t=await Yn(hf,this,pf).call(this,"text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await Yn(hf,this,pf).call(this,"contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return"".concat(e,"://").concat(function(e){const t=fr(e);let n=jr(t),r="";for(;n;)r=nf[Number(n%rf)]+r,n/=rf;for(let a=0;a<t.length&&!t[a];a++)r=nf[0]+r;return r}("0x"+t[2]))}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://".concat(n[1]);ir(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<cf.length;r++){const a=n.match(cf[r]);if(null==a)continue;const s=a[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=sf(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const i=await this.getAddress();if(null==i)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const o=(a[2]||"").split("/");if(2!==o.length)return e.push({type:"!".concat(s,"caip"),value:a[2]||""}),{url:null,linkage:e};const l=o[1],c=new xc(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await c.ownerOf(l);if(i!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await c.balanceOf(i,l);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await c[r](l);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===s&&(u=u.replace("{id}",Lr(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=sf(u)),e.push({type:"metadata-url",value:u});let d={};const h=await new rl(u).send();h.assertOk();try{d=h.bodyJson}catch(t){try{e.push({type:"!metadata",value:h.bodyText})}catch(t){const n=h.body;return n&&e.push({type:"!metadata",value:vr(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let f=d.image;if("string"!==typeof f)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(lf))return e.push({type:"!imageUrl-ipfs",value:f}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:f}),f=sf(f)}return e.push({type:"url",value:f}),{linkage:e,url:f}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return ir(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await mf.call(ff,e,n);if(null!=r){const a=new ff(e,r,t);return n===t||await a.supportsWildcard()?a:null}n=n.split(".").slice(1).join(".")}}}async function pf(e,t){t=(t||[]).slice();const n=Zn(df,this).interface;t.unshift(ju(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),ir(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Pu(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const a=await Zn(df,this)[e](...t);return r?n.decodeFunctionResult(r,a)[0]:a}catch(a){if(!rr(a,"CALL_EXCEPTION"))throw a}return null}async function mf(e,t){const n=await af.getEnsAddress(e);try{const r=new xc(n,["function resolver(bytes32) view returns (address)"],e),a=await r.resolver(ju(t),{enableCcipRead:!0});return a===fl?null:a}catch(r){throw r}}af=ff;const gf=BigInt(0);function yf(e,t){return function(n){return null==n?t:e(n)}}function vf(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(t=>e(t))}}function bf(e,t){return n=>{const r={};for(const s in e){let i=s;if(t&&s in t&&!(i in n))for(const e of t[s])if(e in n){i=e;break}try{const t=e[s](n[i]);void 0!==t&&(r[s]=t)}catch(a){const e=a instanceof Error?a.message:"not-an-error";ir(!1,"invalid value for value.".concat(s," (").concat(e,")"),"BAD_DATA",{value:n})}}return r}}function wf(e){return or(mr(e,!0),"invalid data","value",e),e}function xf(e){return or(mr(e,32),"invalid hash","value",e),e}const Ef=bf({address:ss,blockHash:xf,blockNumber:Pr,data:wf,index:Pr,removed:yf(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}or(!1,"invalid boolean; ".concat(JSON.stringify(e)),"value",e)},!1),topics:vf(xf),transactionHash:xf,transactionIndex:Pr},{index:["logIndex"]});const Cf=bf({hash:yf(xf),parentHash:xf,parentBeaconBlockRoot:yf(xf,null),number:Pr,timestamp:Pr,nonce:yf(wf),difficulty:Ir,gasLimit:Ir,gasUsed:Ir,stateRoot:yf(xf,null),receiptsRoot:yf(xf,null),blobGasUsed:yf(Ir,null),excessBlobGas:yf(Ir,null),miner:yf(ss),prevRandao:yf(xf,null),extraData:wf,baseFeePerGas:yf(Ir)},{prevRandao:["mixHash"]});const Af=bf({transactionIndex:Pr,blockNumber:Pr,transactionHash:xf,address:ss,topics:vf(xf),data:wf,index:Pr,blockHash:xf},{index:["logIndex"]});const Sf=bf({to:yf(ss,null),from:yf(ss,null),contractAddress:yf(ss,null),index:Pr,root:yf(vr),gasUsed:Ir,blobGasUsed:yf(Ir,null),logsBloom:yf(wf),blockHash:xf,hash:xf,logs:vf(function(e){return Af(e)}),blockNumber:Pr,cumulativeGasUsed:Ir,effectiveGasPrice:yf(Ir),blobGasPrice:yf(Ir,null),status:yf(Pr),type:yf(Pr,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Nf(e){e.to&&Ir(e.to)===gf&&(e.to="0x0000000000000000000000000000000000000000");const t=bf({hash:xf,index:yf(Pr,void 0),type:e=>"0x"===e||null==e?0:Pr(e),accessList:yf(ho,null),blobVersionedHashes:yf(vf(xf,!0),null),authorizationList:yf(vf(e=>{let t;if(e.signature)t=e.signature;else{let n=e.yParity;"0x1b"===n?n=0:"0x1c"===n&&(n=1),t=Object.assign({},e,{yParity:n})}return{address:ss(e.address),chainId:Ir(e.chainId),nonce:Ir(e.nonce),signature:No.from(t)}},!1),null),blockHash:yf(xf,null),blockNumber:yf(Pr,null),transactionIndex:yf(Pr,null),from:ss,gasPrice:yf(Ir),maxPriorityFeePerGas:yf(Ir),maxFeePerGas:yf(Ir),maxFeePerBlobGas:yf(Ir,null),gasLimit:Ir,to:yf(ss,null),value:Ir,nonce:Pr,data:wf,creates:yf(ss,null),chainId:yf(Ir,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=ss(e.from);let n=Ir(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,ss(xr(Xa(yh([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=No.from(e.signature):t.signature=No.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&Ir(t.blockHash)===gf&&(t.blockHash=null),t}class kf{constructor(e){o(this,"name",void 0),tr(this,{name:e})}clone(){return new kf(this.name)}}class Tf extends kf{constructor(e,t){null==e&&(e=0),super("org.ethers.network.plugins.GasCost#".concat(e||0)),o(this,"effectiveBlock",void 0),o(this,"txBase",void 0),o(this,"txCreate",void 0),o(this,"txDataZero",void 0),o(this,"txDataNonzero",void 0),o(this,"txAccessListStorageKey",void 0),o(this,"txAccessListAddress",void 0);const n={effectiveBlock:e};function r(e,r){let a=(t||{})[e];null==a&&(a=r),or("number"===typeof a,"invalud value for ".concat(e),"costs",t),n[e]=a}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),tr(this,n)}clone(){return new Tf(this.effectiveBlock,this)}}class If extends kf{constructor(e,t){super("org.ethers.plugins.network.Ens"),o(this,"address",void 0),o(this,"targetNetwork",void 0),tr(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new If(this.address,this.targetNetwork)}}var Bf=new WeakMap,Rf=new WeakMap;class jf extends kf{get url(){return Zn(Bf,this)}get processFunc(){return Zn(Rf,this)}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),Jn(this,Bf,void 0),Jn(this,Rf,void 0),Xn(Bf,this,e),Xn(Rf,this,t)}clone(){return this}}const Pf=new Map;var Lf=new WeakMap,Df=new WeakMap,Of=new WeakMap;class _f{constructor(e,t){Jn(this,Lf,void 0),Jn(this,Df,void 0),Jn(this,Of,void 0),Xn(Lf,this,e),Xn(Df,this,Ir(t)),Xn(Of,this,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return Zn(Lf,this)}set name(e){Xn(Lf,this,e)}get chainId(){return Zn(Df,this)}set chainId(e){Xn(Df,this,Ir(e,"chainId"))}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===Ir(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===Ir(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===Ir(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(Zn(Of,this).values())}attachPlugin(e){if(Zn(Of,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return Zn(Of,this).set(e.name,e.clone()),this}getPlugin(e){return Zn(Of,this).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new _f(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Tf;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=ho(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(Ff)return;function e(e,t,n){const r=function(){const r=new _f(e,t);return null!=n.ensNetwork&&r.attachPlugin(new If(null,n.ensNetwork)),r.attachPlugin(new Tf),(n.plugins||[]).forEach(e=>{r.attachPlugin(e)}),r};_f.register(e,r),_f.register(t,r),n.altNames&&n.altNames.forEach(e=>{_f.register(e,r)})}Ff=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[Mf("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Mf("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return _f.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=Pf.get(e);if(t)return t();if("bigint"===typeof e)return new _f("unknown",e);or(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){or("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new _f(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new If(e.ensAddress,e.ensNetwork)),t}or(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=Pf.get(e);n&&or(!1,"conflicting network for ".concat(JSON.stringify(n.name)),"nameOrChainId",e),Pf.set(e,t)}}function Uf(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error("invalid gwei value: ".concat(e));const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error("invalid gwei value: ".concat(e));for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function Mf(e){return new jf(e,async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,a]=await Promise.all([n.send(),e()]);r=t;const s=r.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:Uf(s.maxFee,9),maxPriorityFeePerGas:Uf(s.maxPriorityFee,9)}}catch(a){ir(!1,"error encountered with polygon gas station (".concat(JSON.stringify(n.url),")"),"SERVER_ERROR",{request:n,response:r,error:a})}})}let Ff=!1;function Vf(e){return JSON.parse(JSON.stringify(e))}var zf=new WeakMap,Kf=new WeakMap,Hf=new WeakMap,Gf=new WeakMap,Qf=new WeakSet;class qf{constructor(e){dr(this,Qf),Jn(this,zf,void 0),Jn(this,Kf,void 0),Jn(this,Hf,void 0),Jn(this,Gf,void 0),Xn(zf,this,e),Xn(Kf,this,null),Xn(Hf,this,4e3),Xn(Gf,this,-2)}get pollingInterval(){return Zn(Hf,this)}set pollingInterval(e){Xn(Hf,this,e)}start(){Zn(Kf,this)||(Xn(Kf,this,Zn(zf,this)._setTimeout(Yn(Qf,this,Wf).bind(this),Zn(Hf,this))),Yn(Qf,this,Wf).call(this))}stop(){Zn(Kf,this)&&(Zn(zf,this)._clearTimeout(Zn(Kf,this)),Xn(Kf,this,null))}pause(e){this.stop(),e&&Xn(Gf,this,-2)}resume(){this.start()}}async function Wf(){try{const e=await Zn(zf,this).getBlockNumber();if(-2===Zn(Gf,this))return void Xn(Gf,this,e);if(e!==Zn(Gf,this)){for(let t=Zn(Gf,this)+1;t<=e;t++){if(null==Zn(Kf,this))return;await Zn(zf,this).emit("block",t)}Xn(Gf,this,e)}}catch(e){}null!=Zn(Kf,this)&&Xn(Kf,this,Zn(zf,this)._setTimeout(Yn(Qf,this,Wf).bind(this),Zn(Hf,this)))}var Jf=new WeakMap,Yf=new WeakMap,Zf=new WeakMap;class Xf{constructor(e){Jn(this,Jf,void 0),Jn(this,Yf,void 0),Jn(this,Zf,void 0),Xn(Jf,this,e),Xn(Zf,this,!1),Xn(Yf,this,e=>{this._poll(e,Zn(Jf,this))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){Zn(Zf,this)||(Xn(Zf,this,!0),Zn(Yf,this).call(this,-2),Zn(Jf,this).on("block",Zn(Yf,this)))}stop(){Zn(Zf,this)&&(Xn(Zf,this,!1),Zn(Jf,this).off("block",Zn(Yf,this)))}pause(e){this.stop()}resume(){this.start()}}var $f=new WeakMap,ep=new WeakMap;class tp extends Xf{constructor(e,t){super(e),Jn(this,$f,void 0),Jn(this,ep,void 0),Xn($f,this,t),Xn(ep,this,-2)}pause(e){e&&Xn(ep,this,-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(Zn($f,this));null!=n&&(-2===Zn(ep,this)?Xn(ep,this,n.number):n.number>Zn(ep,this)&&(t.emit(Zn($f,this),n.number),Xn(ep,this,n.number)))}}var np=new WeakMap;class rp extends Xf{constructor(e,t){super(e),Jn(this,np,void 0),Xn(np,this,Vf(t))}async _poll(e,t){throw new Error("@TODO")}}var ap=new WeakMap;class sp extends Xf{constructor(e,t){super(e),Jn(this,ap,void 0),Xn(ap,this,t)}async _poll(e,t){const n=await t.getTransactionReceipt(Zn(ap,this));n&&t.emit(Zn(ap,this),n)}}var ip=new WeakMap,op=new WeakMap,lp=new WeakMap,cp=new WeakMap,up=new WeakMap,dp=new WeakSet;class hp{constructor(e,t){dr(this,dp),Jn(this,ip,void 0),Jn(this,op,void 0),Jn(this,lp,void 0),Jn(this,cp,void 0),Jn(this,up,void 0),Xn(ip,this,e),Xn(op,this,Vf(t)),Xn(lp,this,Yn(dp,this,fp).bind(this)),Xn(cp,this,!1),Xn(up,this,-2)}start(){Zn(cp,this)||(Xn(cp,this,!0),-2===Zn(up,this)&&Zn(ip,this).getBlockNumber().then(e=>{Xn(up,this,e)}),Zn(ip,this).on("block",Zn(lp,this)))}stop(){Zn(cp,this)&&(Xn(cp,this,!1),Zn(ip,this).off("block",Zn(lp,this)))}pause(e){this.stop(),e&&Xn(up,this,-2)}resume(){this.start()}}async function fp(e){if(-2===Zn(up,this))return;const t=Vf(Zn(op,this));t.fromBlock=Zn(up,this)+1,t.toBlock=e;const n=await Zn(ip,this).getLogs(t);if(0!==n.length)for(const r of n)Zn(ip,this).emit(Zn(op,this),r),Xn(up,this,r.blockNumber);else Zn(up,this)<e-60&&Xn(up,this,e-60)}const pp=BigInt(2);function mp(e){return e&&"function"===typeof e.then}function gp(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return"bigint:".concat(t.toString());if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce((e,n)=>(e[n]=t[n],e),{})}return t})}class yp{constructor(e){o(this,"name",void 0),tr(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function vp(e){return(e=Array.from(new Set(e).values())).sort(),e}async function bp(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(mr(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:gp("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:gp("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map(e=>null==e?null:Array.isArray(e)?vp(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(n.address){const e=[],a=[],s=n=>{mr(n)?e.push(n):a.push((async()=>{e.push(await Ki(n,t))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),a.length&&await Promise.all(a),r.address=vp(e.map(e=>e.toLowerCase()))}return{filter:r,tag:gp("event",r),type:"event"}}or(!1,"unknown ProviderEvent","event",e)}function wp(){return(new Date).getTime()}const xp={cacheTimeout:250,pollingInterval:4e3};var Ep=new WeakMap,Cp=new WeakMap,Ap=new WeakMap,Sp=new WeakMap,Np=new WeakMap,kp=new WeakMap,Tp=new WeakMap,Ip=new WeakMap,Bp=new WeakMap,Rp=new WeakMap,jp=new WeakMap,Pp=new WeakMap,Lp=new WeakSet;class Dp{constructor(e,t){if(dr(this,Lp),Jn(this,Ep,void 0),Jn(this,Cp,void 0),Jn(this,Ap,void 0),Jn(this,Sp,void 0),Jn(this,Np,void 0),Jn(this,kp,void 0),Jn(this,Tp,void 0),Jn(this,Ip,void 0),Jn(this,Bp,void 0),Jn(this,Rp,void 0),Jn(this,jp,void 0),Jn(this,Pp,void 0),Xn(Pp,this,Object.assign({},xp,t||{})),"any"===e)Xn(kp,this,!0),Xn(Np,this,null);else if(e){const t=_f.from(e);Xn(kp,this,!1),Xn(Np,this,Promise.resolve(t)),setTimeout(()=>{this.emit("network",t,null)},0)}else Xn(kp,this,!1),Xn(Np,this,null);Xn(Ip,this,-1),Xn(Tp,this,new Map),Xn(Ep,this,new Map),Xn(Cp,this,new Map),Xn(Ap,this,null),Xn(Sp,this,!1),Xn(Bp,this,1),Xn(Rp,this,new Map),Xn(jp,this,!1)}get pollingInterval(){return Zn(Pp,this).pollingInterval}get provider(){return this}get plugins(){return Array.from(Zn(Cp,this).values())}attachPlugin(e){if(Zn(Cp,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return Zn(Cp,this).set(e.name,e.connect(this)),this}getPlugin(e){return Zn(Cp,this).get(e)||null}get disableCcipRead(){return Zn(jp,this)}set disableCcipRead(e){Xn(jp,this,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),a=t.toLowerCase(),s=[];for(let o=0;o<n.length;o++){const t=n[o],l=t.replace("{sender}",r).replace("{data}",a),c=new rl(l);-1===t.indexOf("{data}")&&(c.body={data:a,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:o,urls:n});let u,d="unknown error";try{u=await c.send()}catch(i){s.push(i.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:{error:i}});continue}try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:e}),e.data;e.message&&(d=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:e})}catch(i){}ir(u.statusCode<400||u.statusCode>=500,"response not found during CCIP fetch: ".concat(d),"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:d}}),s.push(d)}ir(!1,"error encountered during CCIP fetch: ".concat(s.map(e=>JSON.stringify(e)).join(", ")),"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,t){return new Ll(function(e){const t=Cf(e);return t.transactions=e.transactions.map(e=>"string"===typeof e?e:Nf(e)),t}(e),this)}_wrapLog(e,t){return new Dl(function(e){return Ef(e)}(e),this)}_wrapTransactionReceipt(e,t){return new _l(function(e){return Sf(e)}(e),this)}_wrapTransactionResponse(e,t){return new Ml(Nf(e),this)}_detectNetwork(){ir(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ir(!1,"unsupported method: ".concat(e.method),"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Pr(await Yn(Lp,this,Op).call(this,{method:"getBlockNumber"}),"%response");return Zn(Ip,this)>=0&&Xn(Ip,this,e),e}_getAddress(e){return Ki(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return mr(e)?mr(e,32)?e:Or(e):("bigint"===typeof e&&(e=Pr(e,"blockTag")),"number"===typeof e?e>=0?Or(e):Zn(Ip,this)>=0?Or(Zn(Ip,this)+e):this.getBlockNumber().then(t=>Or(t+e)):void or(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?vp(e.map(e=>e.toLowerCase())):e.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,r=(e,r,a)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(n&&(null!=r||null!=a))throw new Error("invalid filter");const i={};return s&&(i.address=s),t.length&&(i.topics=t),r&&(i.fromBlock=r),a&&(i.toBlock=a),n&&(i.blockHash=n),i};let a,s,i=[];if(e.address)if(Array.isArray(e.address))for(const o of e.address)i.push(this._getAddress(o));else i.push(this._getAddress(e.address));return"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),i.filter(e=>"string"!==typeof e).length||null!=a&&"string"!==typeof a||null!=s&&"string"!==typeof s?Promise.all([Promise.all(i),a,s]).then(e=>r(e[0],e[1],e[2])):r(i,a,s)}_getTransactionRequest(e){const t=jl(e),n=[];if(["to","from"].forEach(e=>{if(null==t[e])return;const r=Ki(t[e],this);mp(r)?n.push(async function(){t[e]=await r}()):t[e]=r}),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);mp(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==Zn(Np,this)){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw Zn(Np,this)===e&&Xn(Np,this,null),t}})();return Xn(Np,this,e),(await e).clone()}const e=Zn(Np,this),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(Zn(kp,this)?(this.emit("network",n,t),Zn(Np,this)===e&&Xn(Np,this,Promise.resolve(n))):ir(!1,"network changed: ".concat(t.chainId," => ").concat(n.chainId," "),"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await er({_block:Yn(Lp,this,Fp).call(this,"latest",!1),gasPrice:(async()=>{try{return Ir(await Yn(Lp,this,Op).call(this,{method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return Ir(await Yn(Lp,this,Op).call(this,{method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let a=null,s=null;const i=this._wrapBlock(t,e);return i&&i.baseFeePerGas&&(s=null!=r?r:BigInt("1000000000"),a=i.baseFeePerGas*pp+s),new Rl(n,a,s)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new rl(n.url),r=await n.processFunc(t,this,e);return new Rl(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return mp(t)&&(t=await t),Ir(await Yn(Lp,this,Op).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await er({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Yn(Lp,this,Up).call(this,Yn(Lp,this,_p).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return Ir(await Yn(Lp,this,Mp).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Pr(await Yn(Lp,this,Mp).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return vr(await Yn(Lp,this,Mp).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const r=Ir(t,"position");return vr(await Yn(Lp,this,Mp).call(this,{method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await er({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),a=ef.from(e);if(a.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(a,r).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:r}=await er({network:this.getNetwork(),params:Yn(Lp,this,Fp).call(this,e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await er({network:this.getNetwork(),params:Yn(Lp,this,Op).call(this,{method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await er({network:this.getNetwork(),params:Yn(Lp,this,Op).call(this,{method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await Yn(Lp,this,Op).call(this,{method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await er({network:this.getNetwork(),result:Yn(Lp,this,Op).call(this,{method:"getTransactionResult",hash:e})});return null==t?null:vr(t)}async getLogs(e){let t=this._getFilter(e);mp(t)&&(t=await t);const{network:n,params:r}=await er({network:this.getNetwork(),params:Yn(Lp,this,Op).call(this,{method:"getLogs",filter:t})});return r.map(e=>this._wrapLog(e,n))}_getProvider(e){ir(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await ff.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=ju((e=ss(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await ff.getEnsAddress(this),r=new xc(n,["function resolver(bytes32) view returns (address)"],this),a=await r.resolver(t);if(null==a||a===fl)return null;const s=new xc(a,["function name(bytes32) view returns (string)"],this),i=await s.name(t);return await this.resolveName(i)!==e?null:i}catch(n){if(rr(n,"BAD_DATA")&&"0x"===n.value)return null;if(rr(n,"CALL_EXCEPTION"))return null;throw n}}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise(async(t,a)=>{let s=null;const i=async n=>{try{const a=await this.getTransactionReceipt(e);if(null!=a&&n-a.blockNumber+1>=r)return t(a),void(s&&(clearTimeout(s),s=null))}catch(a){console.log("EEE",a)}this.once("block",i)};null!=n&&(s=setTimeout(()=>{null!=s&&(s=null,this.off("block",i),a(sr("timeout","TIMEOUT",{reason:"timeout"})))},n)),i(await this.getBlockNumber())})}async waitForBlock(e){ir(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=Zn(Rp,this).get(e);t&&(t.timer&&clearTimeout(t.timer),Zn(Rp,this).delete(e))}_setTimeout(e,t){var n,r;null==t&&(t=0);const a=(Xn(Bp,this,(n=Zn(Bp,this),r=n++,n)),r),s=()=>{Zn(Rp,this).delete(a),e()};if(this.paused)Zn(Rp,this).set(a,{timer:null,func:s,time:t});else{const e=setTimeout(s,t);Zn(Rp,this).set(a,{timer:e,func:s,time:wp()})}return a}_forEachSubscriber(e){for(const t of Zn(Ep,this).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new yp(e.type);case"block":{const e=new qf(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new tp(this,e.type);case"event":return new hp(this,e.filter);case"transaction":return new sp(this,e.hash);case"orphan":return new rp(this,e.filter)}throw new Error("unsupported event: ".concat(e.type))}_recoverSubscriber(e,t){for(const n of Zn(Ep,this).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=Zn(Ap,this)&&t.pause(Zn(Ap,this));break}}async on(e,t){const n=await Yn(Lp,this,zp).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=Zn(Ap,this)&&n.subscriber.pause(Zn(Ap,this))),this}async once(e,t){const n=await Yn(Lp,this,zp).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=Zn(Ap,this)&&n.subscriber.pause(Zn(Ap,this))),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=await Yn(Lp,this,Vp).call(this,e,n);if(!a||0===a.listeners.length)return!1;const s=a.listeners.length;return a.listeners=a.listeners.filter(t=>{let{listener:r,once:a}=t;const s=new Kl(this,a?null:r,e);try{r.call(this,...n,s)}catch(i){}return!a}),0===a.listeners.length&&(a.started&&a.subscriber.stop(),Zn(Ep,this).delete(a.tag)),s>0}async listenerCount(e){if(e){const t=await Yn(Lp,this,Vp).call(this,e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of Zn(Ep,this).values())t+=n.length;return t}async listeners(e){if(e){const t=await Yn(Lp,this,Vp).call(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}let t=[];for(const{listeners:n}of Zn(Ep,this).values())t=t.concat(n.map(e=>{let{listener:t}=e;return t}));return t}async off(e,t){const n=await Yn(Lp,this,Vp).call(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),Zn(Ep,this).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await Yn(Lp,this,zp).call(this,e);n&&r.stop(),Zn(Ep,this).delete(t)}else for(const[t,{started:n,subscriber:r}]of Zn(Ep,this))n&&r.stop(),Zn(Ep,this).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return Zn(Sp,this)}destroy(){this.removeAllListeners();for(const e of Zn(Rp,this).keys())this._clearTimeout(e);Xn(Sp,this,!0)}get paused(){return null!=Zn(Ap,this)}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(Xn(Ip,this,-1),null!=Zn(Ap,this)){if(Zn(Ap,this)==!!e)return;ir(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),Xn(Ap,this,!!e);for(const t of Zn(Rp,this).values())t.timer&&clearTimeout(t.timer),t.time=wp()-t.time}resume(){if(null!=Zn(Ap,this)){this._forEachSubscriber(e=>e.resume()),Xn(Ap,this,null);for(const e of Zn(Rp,this).values()){let t=e.time;t<0&&(t=0),e.time=wp(),setTimeout(e.func,t)}}}}async function Op(e){const t=Zn(Pp,this).cacheTimeout;if(t<0)return await this._perform(e);const n=gp(e.method,e);let r=Zn(Tp,this).get(n);return r||(r=this._perform(e),Zn(Tp,this).set(n,r),setTimeout(()=>{Zn(Tp,this).get(n)===r&&Zn(Tp,this).delete(n)},t)),await r}async function _p(e,t,n){ir(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=jl(e);try{return vr(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(a){if(!this.disableCcipRead&&ar(a)&&a.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===xr(a.data,0,4)){const e=a.data,s=await Ki(r.to,this);let i;try{i=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ir(wr(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=xr(e,0,32);ir(xr(n,0,12)===xr(Jp,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=xr(n,12);try{const n=[],r=Pr(xr(e,32,64)),a=Pr(xr(e,r,r+32)),s=xr(e,r+32);for(let e=0;e<a;e++){const t=Kp(s,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(a){ir(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Hp(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(a){ir(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ir(xr(e,100,128)===xr(Jp,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=xr(e,96,100);try{const n=Hp(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(a){ir(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}(xr(a.data,4))}catch(a){ir(!1,a.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}ir(i.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:i.errorArgs}});const o=await this.ccipReadFetch(r,i.calldata,i.urls);ir(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:a.data,errorArgs:i.errorArgs}});const l={to:s,data:br([i.selector,Wp([o,i.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const e=await Yn(Lp,this,_p).call(this,l,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(a){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:a}),a}}throw a}}async function Up(e){const{value:t}=await er({network:this.getNetwork(),value:e});return t}async function Mp(e,t,n){let r=this._getAddress(t),a=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof a||([r,a]=await Promise.all([r,a])),await Yn(Lp,this,Up).call(this,Yn(Lp,this,Op).call(this,Object.assign(e,{address:r,blockTag:a})))}async function Fp(e,t){if(mr(e,32))return await Yn(Lp,this,Op).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await Yn(Lp,this,Op).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})}async function Vp(e,t){let n=await bp(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await bp({orphan:"drop-log",log:t[0]},this)),Zn(Ep,this).get(n.tag)||null}async function zp(e){const t=await bp(e,this),n=t.tag;let r=Zn(Ep,this).get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},Zn(Ep,this).set(n,r)}return r}function Kp(e,t){try{const n=Hp(e,t);if(n)return Rs(n)}catch(n){}return null}function Hp(e,t){if("0x"===e)return null;try{const n=Pr(xr(e,t,t+32)),r=Pr(xr(e,n,n+32));return xr(e,n+32,n+32+r)}catch(n){}return null}function Gp(e){const t=Dr(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Qp(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const qp=new Uint8Array([]);function Wp(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(qp),n+=32;for(let r=0;r<e.length;r++){const a=fr(e[r]);t[r]=Gp(n),t.push(Gp(a.length)),t.push(Qp(a)),n+=32+32*Math.ceil(a.length/32)}return br(t)}const Jp="0x0000000000000000000000000000000000000000000000000000000000000000";function Yp(e,t){if(e.provider)return e.provider;ir(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Zp(e,t){let n=jl(t);if(null!=n.to&&(n.to=Ki(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),Ki(t,e)]).then(e=>{let[t,n]=e;return or(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t})}else n.from=e.getAddress();return await er(n)}class Xp{constructor(e){o(this,"provider",void 0),tr(this,{provider:e||null})}async getNonce(e){return Yp(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Zp(this,e)}async populateTransaction(e){const t=Yp(this,"populateTransaction"),n=await Zp(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){or(Ir(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const a=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!a?0!==n.type&&1!==n.type||!a||or(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):or(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();ir(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(ir(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):ir(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type&&4!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await er(n)}async populateAuthorization(e){const t=Object.assign({},e);return null==t.chainId&&(t.chainId=(await Yp(this,"getNetwork").getNetwork()).chainId),null==t.nonce&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Yp(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Yp(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Yp(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Yp(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=ef.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}authorize(e){ir(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}var $p=new WeakMap,em=new WeakMap,tm=new WeakMap,nm=new WeakMap,rm=new WeakMap,am=new WeakMap,sm=new WeakSet;class im{constructor(e){dr(this,sm),Jn(this,$p,void 0),Jn(this,em,void 0),Jn(this,tm,void 0),Jn(this,nm,void 0),Jn(this,rm,void 0),Jn(this,am,void 0),Xn($p,this,e),Xn(em,this,null),Xn(tm,this,Yn(sm,this,om).bind(this)),Xn(nm,this,!1),Xn(rm,this,null),Xn(am,this,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){Zn(nm,this)||(Xn(nm,this,!0),Yn(sm,this,om).call(this,-2))}stop(){Zn(nm,this)&&(Xn(nm,this,!1),Xn(am,this,!0),Yn(sm,this,lm).call(this),Zn($p,this).off("block",Zn(tm,this)))}pause(e){e&&Yn(sm,this,lm).call(this),Zn($p,this).off("block",Zn(tm,this))}resume(){this.start()}}async function om(e){try{null==Zn(em,this)&&Xn(em,this,this._subscribe(Zn($p,this)));let e=null;try{e=await Zn(em,this)}catch(t){if(!rr(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return Xn(em,this,null),void Zn($p,this)._recoverSubscriber(this,this._recover(Zn($p,this)));const n=await Zn($p,this).getNetwork();if(Zn(rm,this)||Xn(rm,this,n),Zn(rm,this).chainId!==n.chainId)throw new Error("chaid changed");if(Zn(am,this))return;const r=await Zn($p,this).send("eth_getFilterChanges",[e]);await this._emitResults(Zn($p,this),r)}catch(t){console.log("@TODO",t)}Zn($p,this).once("block",Zn(tm,this))}function lm(){const e=Zn(em,this);e&&(Xn(em,this,null),e.then(e=>{Zn($p,this).destroyed||Zn($p,this).send("eth_uninstallFilter",[e])}))}var cm=new WeakMap;class um extends im{constructor(e,t){var n;super(e),Jn(this,cm,void 0),Xn(cm,this,(n=t,JSON.parse(JSON.stringify(n))))}_recover(e){return new hp(e,Zn(cm,this))}async _subscribe(e){return await e.send("eth_newFilter",[Zn(cm,this)])}async _emitResults(e,t){for(const n of t)e.emit(Zn(cm,this),e._wrapLog(n,e._network))}}class dm extends im{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const hm="bigint,boolean,function,number,string,symbol".split(/,/g);function fm(e){if(null==e||hm.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(fm);if("object"===typeof e)return Object.keys(e).reduce((t,n)=>(t[n]=e[n],t),{});throw new Error("should not happen: ".concat(e," (").concat(typeof e,")"))}function pm(e){return new Promise(t=>{setTimeout(t,e)})}function mm(e){return e?e.toLowerCase():e}function gm(e){return e&&"number"===typeof e.pollingInterval}const ym={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class vm extends Xp{constructor(e,t){super(e),o(this,"address",void 0),tr(this,{address:t=ss(t)})}connect(e){ir(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=fm(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await Ki(r,this.provider);or(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas(c(c({},t),{},{from:this.address}))})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await Ki(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((e,r)=>{const a=[1e3,100];let s=0;const i=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(o){if(rr(o,"CANCELLED")||rr(o,"BAD_DATA")||rr(o,"NETWORK_ERROR")||rr(o,"UNSUPPORTED_OPERATION"))return null==o.info&&(o.info={}),o.info.sendTransactionHash=n,void r(o);if(rr(o,"INVALID_ARGUMENT")&&(s++,null==o.info&&(o.info={}),o.info.sendTransactionHash=n,s>10))return void r(o);this.provider.emit("error",sr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:o}))}this.provider._setTimeout(()=>{i()},a.pop()||4e3)};i()})}async signTransaction(e){const t=fm(e);if(t.from){const n=await Ki(t.from,this.provider);or(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?Bs(e):e;return await this.provider.send("personal_sign",[vr(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=fm(n),a=await lo.resolveNames(e,t,r,async e=>{const t=await Ki(e);return or(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(lo.getPayload(a.domain,t,a.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?Bs(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),vr(t)])}}var bm=new WeakMap,wm=new WeakMap,xm=new WeakMap,Em=new WeakMap,Cm=new WeakMap,Am=new WeakMap,Sm=new WeakMap,Nm=new WeakSet;class km extends Dp{constructor(e,t){super(e,t),dr(this,Nm),Jn(this,bm,void 0),Jn(this,wm,void 0),Jn(this,xm,void 0),Jn(this,Em,void 0),Jn(this,Cm,void 0),Jn(this,Am,void 0),Jn(this,Sm,void 0),Xn(wm,this,1),Xn(bm,this,Object.assign({},ym,t||{})),Xn(xm,this,[]),Xn(Em,this,null),Xn(Am,this,null),Xn(Sm,this,null);{let e=null;const t=new Promise(t=>{e=t});Xn(Cm,this,{promise:t,resolve:e})}const n=this._getOption("staticNetwork");"boolean"===typeof n?(or(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&Xn(Am,this,_f.from(e))):n&&(or(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),Xn(Am,this,n))}_getOption(e){return Zn(bm,this)[e]}get _network(){return ir(Zn(Am,this),"network is not available yet","NETWORK_ERROR"),Zn(Am,this)}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&Ir(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(Zn(Am,this))return Zn(Am,this)}return Zn(Sm,this)?await Zn(Sm,this):this.ready?(Xn(Sm,this,(async()=>{try{const e=_f.from(Ir(await this.send("eth_chainId",[])));return Xn(Sm,this,null),e}catch(e){throw Xn(Sm,this,null),e}})()),await Zn(Sm,this)):(Xn(Sm,this,(async(e,t)=>{const n={id:(Xn(wm,this,(e=Zn(wm,this),t=e++,e)),t),method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:n});try{r=(await this._send(n))[0],Xn(Sm,this,null)}catch(a){throw Xn(Sm,this,null),this.emit("debug",{action:"receiveRpcError",error:a}),a}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return _f.from(Ir(r.result));throw this.getRpcError(n,r)})()),await Zn(Sm,this))}_start(){null!=Zn(Cm,this)&&null!=Zn(Cm,this).resolve&&(Zn(Cm,this).resolve(),Xn(Cm,this,null),(async()=>{for(;null==Zn(Am,this)&&!this.destroyed;)try{Xn(Am,this,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",sr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await pm(1e3)}Yn(Nm,this,Tm).call(this)})())}async _waitUntilReady(){if(null!=Zn(Cm,this))return await Zn(Cm,this).promise}_getSubscriber(e){return"pending"===e.type?new dm(this):"event"===e.type?this._getOption("polling")?new hp(this,e.filter):new um(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new yp("orphan"):super._getSubscriber(e)}get ready(){return null==Zn(Cm,this)}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=Or(Ir(e[n],"tx.".concat(n)))}),["from","to","data"].forEach(n=>{null!=e[n]&&(t[n]=vr(e[n]))}),e.accessList&&(t.accessList=ho(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{const t=ko(e);return{address:t.address,nonce:Or(t.nonce),chainId:Or(t.chainId),yParity:Or(t.signature.yParity),r:Or(t.signature.r),s:Or(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[mm(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[mm(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[mm(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[mm(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(mm):e.filter.address=mm(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return sr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}});if(t.match(/nonce/i)&&t.match(/too low/i))return sr("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Rm(r),a=Mi.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return a.info={error:r,payload:e},a}const a=JSON.stringify(function(e){const t=[];return jm(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return sr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return sr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(a.match(/nonce/i)&&a.match(/too low/i))return sr("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return sr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(a.match(/only replay-protected/i))return sr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let s=!!a.match(/the method .* does not exist/i);return s||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(s=!0),s?sr("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):sr("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){var n,r;if(this.destroyed)return Promise.reject(sr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const a=(Xn(wm,this,(n=Zn(wm,this),r=n++,n)),r),s=new Promise((n,r)=>{Zn(xm,this).push({resolve:n,reject:r,payload:{method:e,params:t,id:a,jsonrpc:"2.0"}})});return Yn(Nm,this,Tm).call(this),s}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new vm(this,n[e])}const{accounts:n}=await er({network:this.getNetwork(),accounts:t});e=ss(e);for(const r of n)if(ss(r)===e)return new vm(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new vm(this,e))}destroy(){Zn(Em,this)&&(clearTimeout(Zn(Em,this)),Xn(Em,this,null));for(const{payload:e,reject:t}of Zn(xm,this))t(sr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));Xn(xm,this,[]),super.destroy()}}function Tm(){if(Zn(Em,this))return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");Xn(Em,this,setTimeout(()=>{Xn(Em,this,null);const e=Zn(xm,this);for(Xn(xm,this,[]);e.length;){const t=[e.shift()];for(;e.length&&t.length!==Zn(bm,this).batchMaxCount;){t.push(e.shift());const n=JSON.stringify(t.map(e=>e.payload));if(n.length>Zn(bm,this).batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:a}of t){if(this.destroyed){r(sr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:a.method}));continue}const t=n.filter(e=>e.id===a.id)[0];if(null==t){const e=sr("missing response for request","BAD_DATA",{value:n,info:{payload:a}});this.emit("error",e),r(e);continue}"error"in t?r(this.getRpcError(a,t)):e(t.result)}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}},e))}var Im=new WeakMap;class Bm extends km{constructor(e,t){super(e,t),Jn(this,Im,void 0);let n=this._getOption("pollingInterval");null==n&&(n=ym.pollingInterval),Xn(Im,this,n)}_getSubscriber(e){const t=super._getSubscriber(e);return gm(t)&&(t.pollingInterval=Zn(Im,this)),t}get pollingInterval(){return Zn(Im,this)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");Xn(Im,this,e),this._forEachSubscriber(e=>{gm(e)&&(e.pollingInterval=Zn(Im,this))})}}function Rm(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&mr(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=Rm(e[t]);if(n)return n}return null}if("string"===typeof e)try{return Rm(JSON.parse(e))}catch(t){}return null}function jm(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)jm(e[n],t);if("string"===typeof e)try{return jm(JSON.parse(e),t)}catch(n){}}}var Pm=new WeakMap,Lm=new WeakMap;class Dm extends Bm{constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});or(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),Jn(this,Pm,void 0),Jn(this,Lm,void 0),Xn(Lm,this,null),n&&n.providerInfo&&Xn(Lm,this,n.providerInfo),Xn(Pm,this,async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(Et){const t=new Error(Et.message);throw t.code=Et.code,t.data=Et.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}})}get providerInfo(){return Zn(Lm,this)}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){or(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await Zn(Pm,this).call(this,e.method,e.params||[]);return[{id:e.id,result:t}]}catch(Et){return[{id:e.id,error:{code:Et.code,data:Et.data,message:Et.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message="ethers-user-denied: ".concat(t.error.message);break;case 4200:t.error.message="ethers-unsupported: ".concat(t.error.message)}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await Zn(Pm,this).call(this,"eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new Dm(e.provider);const t=e.window?e.window:"undefined"!==typeof window?window:null;if(null==t)return null;const n=e.anyProvider;if(n&&t.ethereum)return new Dm(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;const r=e.timeout?e.timeout:300;return 0===r?null:await new Promise((a,s)=>{let i=[];const o=e=>{i.push(e.detail),n&&l()},l=()=>{if(clearTimeout(c),i.length)if(e&&e.filter){const t=e.filter(i.map(e=>Object.assign({},e.info)));if(null==t)a(null);else if(t instanceof Dm)a(t);else{let e=null;if(t.uuid){const n=i.filter(e=>t.uuid===e.info.uuid);e=n[0]}if(e){const{provider:t,info:n}=e;a(new Dm(t,void 0,{providerInfo:n}))}else s(sr("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{const{provider:e,info:t}=i[0];a(new Dm(e,void 0,{providerInfo:t}))}else a(null);t.removeEventListener("eip6963:announceProvider",o)},c=setTimeout(()=>{l()},r);t.addEventListener("eip6963:announceProvider",o),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}var Om=n(579);const _m=(0,t.createContext)(void 0),Um=()=>{const e=(0,t.useContext)(_m);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Mm=e=>{let{children:n}=e;const[r,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),u=!(null===r||void 0===r||!r.address),d=!(null===r||void 0===r||!r.address||null===r||void 0===r||!r.jwt);(0,t.useEffect)(()=>{const e=localStorage.getItem("blockvault_user");if(e)try{const t=JSON.parse(e);a(t),t.jwt&&h(t.jwt)}catch(o){console.error("Failed to parse saved user:",o),localStorage.removeItem("blockvault_user")}},[]);const h=async e=>{try{(await fetch("".concat(Fm(),"/users/profile"),{headers:{Authorization:"Bearer ".concat(e)}})).ok||(console.log("Token validation failed, clearing user data"),a(null),localStorage.removeItem("blockvault_user"),_n.error("Session expired. Please login again."))}catch(o){console.error("Token validation error:",o),a(null),localStorage.removeItem("blockvault_user")}},f={user:r,loading:s,error:o,connectWallet:async()=>{try{if(i(!0),l(null),!window.ethereum)throw new Error("MetaMask is not installed");const e=new Dm(window.ethereum),t=await e.send("eth_requestAccounts",[]);if(0===t.length)throw new Error("No accounts found");const n=t[0];a({address:n}),localStorage.setItem("blockvault_user",JSON.stringify({address:n})),_n.success("Wallet connected successfully")}catch(e){const t=e.message||"Failed to connect wallet";l(t),_n.error(t)}finally{i(!1)}},login:async()=>{if(null!==r&&void 0!==r&&r.address)try{i(!0),l(null);const e=await fetch("".concat(Fm(),"/auth/get_nonce"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:r.address})});if(!e.ok)throw new Error("Failed to get nonce");const{nonce:t}=await e.json(),n=new Dm(window.ethereum),s=await n.getSigner(),o="BlockVault login nonce: ".concat(t),u=await s.signMessage(o),d=await fetch("".concat(Fm(),"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:r.address,signature:u})});if(!d.ok)throw new Error("Login failed");const{token:h}=await d.json(),f=c(c({},r),{},{jwt:h});a(f),localStorage.setItem("blockvault_user",JSON.stringify(f)),_n.success("Login successful")}catch(e){const t=e.message||"Login failed";l(t),_n.error(t)}finally{i(!1)}else _n.error("Please connect your wallet first")},logout:()=>{a(null),localStorage.removeItem("blockvault_user"),_n.success("Logged out successfully")},isConnected:u,isAuthenticated:d};return(0,Om.jsx)(_m.Provider,{value:f,children:n})};function Fm(){return""}var Vm=n(7950);const zm=Fn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Km=Fn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Hm=Fn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Gm=n(6266);function Qm(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Qm(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function qm(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Qm(e))&&(r&&(r+=" "),r+=t);return r}const Wm=["variant","size","leftIcon","rightIcon","loading","children","className","disabled"],Jm=e=>{let{variant:t="primary",size:n="md",leftIcon:r,rightIcon:s,loading:i,children:o,className:l,disabled:u}=e,d=a(e,Wm);return(0,Om.jsxs)("button",c(c({className:qm("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500/50 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden",{primary:"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:shadow-xl hover:from-blue-600 hover:to-purple-700 active:scale-[.98] border border-transparent",secondary:"bg-slate-800/60 text-slate-200 border border-slate-700/50 hover:border-blue-500/50 hover:text-blue-300 hover:bg-slate-700/60 active:scale-[.98] backdrop-blur-sm",outline:"bg-transparent border border-blue-500/50 text-blue-400 hover:bg-blue-500/10 hover:border-blue-400 active:scale-[.98]",danger:"bg-red-500/80 text-white border border-red-500/60 hover:bg-red-500 hover:shadow-lg active:scale-[.98]",ghost:"bg-transparent text-slate-400 hover:text-blue-400 hover:bg-blue-500/10 active:scale-[.98]"}[t],{sm:"text-xs px-3 py-2",md:"text-sm px-4 py-2.5",lg:"text-base px-6 py-3"}[n],"before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/10 before:to-transparent before:translate-x-[-100%] hover:before:translate-x-[100%] before:transition-transform before:duration-700",l),disabled:u||i},d),{},{children:[i&&(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Om.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,Om.jsx)("span",{children:"Loading..."})]}),!i&&(0,Om.jsxs)(Om.Fragment,{children:[r,(0,Om.jsx)("span",{className:"whitespace-nowrap",children:o}),s]})]}))},Ym=["children","hover","className"],Zm=e=>{let{children:t,hover:n=!0,className:r}=e,s=a(e,Ym);return(0,Om.jsx)("div",c(c({className:qm("glass rounded-xl p-6 transition-all duration-300",n&&"card-hover",r)},s),{},{children:t}))},Xm=e=>{let{onClose:n}=e;const[r,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),d=(0,t.useCallback)(async()=>{try{const e=JSON.parse(localStorage.getItem("blockvault_user")||"{}");if(!e.jwt)return;const t=await fetch("".concat(f(),"/users/profile"),{headers:{Authorization:"Bearer ".concat(e.jwt)}});if(t.ok){const e=await t.json();u(e.has_public_key)}}catch(e){console.error("Failed to check registration status:",e)}},[]),h=(0,t.useCallback)(async()=>{const e=Gm.rsaKeyManager.hasKeyPair();if(a(e),e){const e=Gm.rsaKeyManager.getKeyPair();i((null===e||void 0===e?void 0:e.publicKey)||null),await d()}},[d]);(0,t.useEffect)(()=>{h()},[h]);const f=()=>"";return(0,Vm.createPortal)((0,Om.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[99999] p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0},children:(0,Om.jsxs)(Zm,{className:"w-full max-w-2xl mx-auto relative z-[100000]",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Om.jsx)("h2",{className:"text-xl font-bold text-white",children:"RSA Key Management"}),(0,Om.jsx)("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors",children:"\u2715"})]}),(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-slate-800/50 rounded-lg",children:[r?(0,Om.jsx)(zm,{className:"w-5 h-5 text-green-400"}):(0,Om.jsx)(qn,{className:"w-5 h-5 text-yellow-400"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("p",{className:"text-sm font-medium text-white",children:r?"RSA Keys Generated":"No RSA Keys Found"}),(0,Om.jsx)("p",{className:"text-xs text-slate-400",children:r?c?"Public key registered on server":"Public key not registered":"Generate RSA keys to enable file sharing"})]})]}),!r&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)(Vn,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Generate RSA Keys"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-6",children:"RSA keys are required for secure file sharing. Your private key stays on your device, while your public key is registered on the server."}),(0,Om.jsx)(Jm,{onClick:async()=>{try{l(!0);const e=Gm.rsaKeyManager.generateKeyPair();a(!0),i(e.publicKey),u(!1),_n.success("RSA key pair generated successfully")}catch(e){_n.error("Failed to generate RSA keys")}finally{l(!1)}},loading:o,leftIcon:(0,Om.jsx)(Qn,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-blue-500 to-purple-600",children:"Generate RSA Keys"})]}),r&&(0,Om.jsxs)("div",{className:"space-y-4",children:[(0,Om.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-lg",children:[(0,Om.jsx)("h4",{className:"font-medium text-white mb-2",children:"Public Key"}),(0,Om.jsxs)("div",{className:"bg-slate-900/50 p-3 rounded border font-mono text-xs text-slate-300 break-all",children:[null===s||void 0===s?void 0:s.substring(0,100),"..."]})]}),(0,Om.jsxs)("div",{className:"flex flex-wrap gap-3",children:[!c&&(0,Om.jsx)(Jm,{onClick:async()=>{if(s)try{l(!0);const e=JSON.parse(localStorage.getItem("blockvault_user")||"{}");if(!e.jwt)return void _n.error("Please login first");const t=await fetch("".concat(f(),"/users/public_key"),{method:"POST",headers:{Authorization:"Bearer ".concat(e.jwt),"Content-Type":"application/json"},body:JSON.stringify({public_key_pem:s})});if(t.ok)u(!0),_n.success("Public key registered successfully");else{const e=await t.text();_n.error("Failed to register public key: ".concat(e))}}catch(e){_n.error("Failed to register public key")}finally{l(!1)}},loading:o,leftIcon:(0,Om.jsx)(Vn,{className:"w-4 h-4"}),className:"bg-green-500 hover:bg-green-600",children:"Register Public Key"}),(0,Om.jsx)(Jm,{onClick:()=>{const e=Gm.rsaKeyManager.getKeyPair();if(!e)return;const t={privateKey:e.privateKey,publicKey:e.publicKey,timestamp:(new Date).toISOString()},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="blockvault-rsa-keys.json",document.body.appendChild(a),a.click(),URL.revokeObjectURL(r),document.body.removeChild(a),_n.success("RSA keys downloaded")},variant:"outline",leftIcon:(0,Om.jsx)(Km,{className:"w-4 h-4"}),children:"Download Keys"}),(0,Om.jsx)(Jm,{onClick:()=>{window.confirm("Are you sure you want to delete your RSA keys? This will prevent you from sharing files.")&&(Gm.rsaKeyManager.clearKeyPair(),a(!1),i(null),u(!1),_n.success("RSA keys deleted"))},variant:"danger",leftIcon:(0,Om.jsx)(Hm,{className:"w-4 h-4"}),children:"Delete Keys"})]}),c&&(0,Om.jsx)("div",{className:"p-4 bg-green-500/10 border border-green-500/20 rounded-lg",children:(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Om.jsx)(zm,{className:"w-5 h-5 text-green-400"}),(0,Om.jsx)("span",{className:"text-sm text-green-300",children:"Public key is registered and ready for file sharing"})]})})]}),(0,Om.jsx)("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:(0,Om.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Om.jsx)(qn,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),(0,Om.jsxs)("div",{className:"text-sm text-blue-300",children:[(0,Om.jsx)("p",{className:"font-medium mb-1",children:"Security Notice"}),(0,Om.jsx)("p",{children:"Your private key is stored locally and never sent to the server. Keep your private key secure and never share it with anyone."})]})]})})]})]})}),document.body)},$m=()=>{var e,n,r,a;const{user:s,loading:i,error:o,connectWallet:l,login:c,logout:u,isConnected:d,isAuthenticated:h}=Um(),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),y=de();return t.useEffect(()=>{g(Gm.rsaKeyManager.hasKeyPair())},[]),(0,Om.jsxs)("header",{className:"w-full bg-slate-900/50 backdrop-blur-lg border-b border-slate-700/50 sticky top-0 z-50",children:[(0,Om.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,Om.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,Om.jsx)(Vn,{className:"w-6 h-6 text-white"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h1",{className:"text-xl font-bold text-white",children:"BlockVault"}),(0,Om.jsx)("p",{className:"text-xs text-slate-400",children:"Secure File Storage"})]})]}),h&&(0,Om.jsxs)("nav",{className:"flex items-center space-x-1",children:[(0,Om.jsxs)(pt,{to:"/",className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat("/"===y.pathname?"bg-blue-500/20 text-blue-400":"text-slate-400 hover:text-white hover:bg-slate-800/50"),children:[(0,Om.jsx)(Vn,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:"Files"})]}),(0,Om.jsxs)(pt,{to:"/legal",className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat("/legal"===y.pathname?"bg-blue-500/20 text-blue-400":"text-slate-400 hover:text-white hover:bg-slate-800/50"),children:[(0,Om.jsx)(zn,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:"Legal"})]})]})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-4",children:[!d&&(0,Om.jsxs)("button",{onClick:l,disabled:i,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Om.jsx)(Kn,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:"Connect Wallet"})]}),d&&!h&&(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[(0,Om.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,Om.jsxs)("span",{className:"text-sm text-slate-300 font-mono",children:[null===s||void 0===s||null===(e=s.address)||void 0===e?void 0:e.slice(0,6),"...",null===s||void 0===s||null===(n=s.address)||void 0===n?void 0:n.slice(-4)]})]}),(0,Om.jsxs)("button",{onClick:c,disabled:i,className:"flex items-center space-x-2 px-4 py-2 bg-slate-800 text-slate-200 border border-slate-700 rounded-lg hover:bg-slate-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[i?(0,Om.jsx)("div",{className:"w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}):(0,Om.jsx)(Hn,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:i?"Signing...":"Login"})]}),(0,Om.jsx)("button",{onClick:u,className:"p-2 text-slate-400 hover:text-red-400 transition-colors duration-200",children:(0,Om.jsx)(Gn,{className:"w-4 h-4"})})]}),h&&(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-green-500/10 rounded-lg border border-green-500/20",children:[(0,Om.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,Om.jsxs)("span",{className:"text-sm text-green-300 font-mono",children:[null===s||void 0===s||null===(r=s.address)||void 0===r?void 0:r.slice(0,6),"...",null===s||void 0===s||null===(a=s.address)||void 0===a?void 0:a.slice(-4)]})]}),(0,Om.jsxs)("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ".concat(m?"bg-green-500/10 text-green-400 border border-green-500/30 hover:bg-green-500/20":"bg-yellow-500/10 text-yellow-400 border border-yellow-500/30 hover:bg-yellow-500/20"),children:[(0,Om.jsx)(Qn,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:m?"RSA Keys":"Setup RSA"})]}),(0,Om.jsxs)("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 bg-red-500/10 text-red-400 border border-red-500/30 rounded-lg hover:bg-red-500/20 transition-all duration-200",children:[(0,Om.jsx)(Gn,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:"Logout"})]})]}),o&&(0,Om.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-red-500/10 rounded-lg border border-red-500/20",children:[(0,Om.jsx)(qn,{className:"w-4 h-4 text-red-400"}),(0,Om.jsx)("span",{className:"text-sm text-red-400",children:o})]})]})]})}),f&&(0,Om.jsx)(Xm,{onClose:()=>p(!1)})]})},eg=Fn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),tg=Fn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ng=Fn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),rg=Fn("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),ag=Fn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),sg=(0,t.createContext)(void 0),ig=()=>{const e=(0,t.useContext)(sg);if(void 0===e)throw new Error("useFiles must be used within a FileProvider");return e},og=e=>{let{children:r}=e;const[a,s]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),p=()=>{const e=JSON.parse(localStorage.getItem("blockvault_user")||"{}");if(!e.jwt)throw new Error("No authentication token found. Please login again.");return{Authorization:"Bearer ".concat(e.jwt)}},m=()=>{const e=JSON.parse(localStorage.getItem("blockvault_user")||"{}");return{Authorization:"Bearer ".concat(e.jwt),"Content-Type":"application/json"}},g=(0,t.useCallback)(async()=>{try{const e=await fetch("".concat("","/files/"),{headers:m()});if(e.ok){const t=await e.json();s(t.items||[])}}catch(e){console.error("Failed to refresh files:",e)}},[]),y=(0,t.useCallback)(async()=>{try{const e=await fetch("".concat("","/files/shared"),{headers:m()});if(e.ok){const t=await e.json();o(t.shares||[])}}catch(e){console.error("Failed to refresh shared files:",e)}},[]),v=(0,t.useCallback)(async()=>{try{const e=await fetch("".concat("","/files/shares/outgoing"),{headers:m()});if(e.ok){const t=await e.json();c(t.shares||[])}}catch(e){console.error("Failed to refresh outgoing shares:",e)}},[]);(0,t.useEffect)(()=>{JSON.parse(localStorage.getItem("blockvault_user")||"{}").jwt&&(g(),y(),v())},[g,y,v]);const b={files:a,sharedFiles:i,outgoingShares:l,loading:u,error:h,uploadFile:async(e,t,n,r)=>{try{d(!0),f(null);const a=new FormData;a.append("file",e),a.append("key",t),n&&a.append("aad",n),r&&a.append("folder",r);const s=await fetch("".concat("","/files/"),{method:"POST",headers:{Authorization:p().Authorization},body:a});s.ok||((e,t)=>{if(401===e.status)throw localStorage.removeItem("blockvault_user"),f("Session expired. Please login again."),_n.error("Session expired. Please login again."),new Error("Session expired");throw new Error("".concat(t," failed: ").concat(e.status," ").concat(e.statusText))})(s,"Upload"),_n.success("File uploaded successfully"),await g()}catch(a){const e=a.message||"Upload failed";f(e),_n.error(e)}finally{d(!1)}},downloadFile:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;try{d(!0),f(null);let i=t;if(r&&a)try{console.log("Decrypting shared file key...",{isSharedFile:r,hasEncryptedKey:!!a});const{rsaKeyManager:e}=await Promise.resolve().then(n.bind(n,6266)),t=e.getPrivateKey();if(!t)throw new Error("RSA private key not found. Please generate RSA keys first.");const s=(await Promise.resolve().then(n.t.bind(n,434,23))).default,o=s.pki.privateKeyFromPem(t),l=s.util.decode64(a);i=o.decrypt(l,"RSA-OAEP",{md:s.md.sha256.create(),mgf1:s.mgf.mgf1.create(s.md.sha256.create())}),console.log("Decrypted passphrase length:",i.length)}catch(s){throw console.error("RSA decryption failed:",s),new Error("Failed to decrypt shared file key. Please ensure you have the correct RSA keys.")}const o=await fetch("".concat("","/files/").concat(e,"?key=").concat(encodeURIComponent(i)),{method:"GET",headers:m()});if(!o.ok)throw new Error("Download failed");const l=await o.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download="file_".concat(e),document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(c),document.body.removeChild(u),_n.success("File downloaded successfully")}catch(i){const e=i.message||"Download failed";f(e),_n.error(e)}finally{d(!1)}},deleteFile:async e=>{try{d(!0),f(null);if(!(await fetch("".concat("","/files/").concat(e),{method:"DELETE",headers:m()})).ok)throw new Error("Delete failed");_n.success("File deleted successfully"),await g()}catch(t){const e=t.message||"Delete failed";f(e),_n.error(e)}finally{d(!1)}},shareFile:async(e,t,n)=>{try{d(!0),f(null);if(!(await fetch("".concat("","/files/").concat(e,"/share"),{method:"POST",headers:m(),body:JSON.stringify({recipient:t,passphrase:n})})).ok)throw new Error("Share failed");_n.success("File shared successfully"),await v()}catch(r){const e=r.message||"Share failed";f(e),_n.error(e)}finally{d(!1)}},revokeShare:async e=>{try{d(!0),f(null);if(!(await fetch("".concat("","/files/shares/").concat(e),{method:"DELETE",headers:m()})).ok)throw new Error("Revoke failed");_n.success("Share revoked successfully"),await v()}catch(t){const e=t.message||"Revoke failed";f(e),_n.error(e)}finally{d(!1)}},refreshFiles:g,refreshSharedFiles:y,refreshOutgoingShares:v};return(0,Om.jsx)(sg.Provider,{value:b,children:r})},lg=Fn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cg=Fn("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),ug=Fn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),dg=Fn("Folder",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}]]),hg=["leftIcon","rightIcon","error","label","className"],fg=e=>{let{leftIcon:t,rightIcon:n,error:r,label:s,className:i}=e,o=a(e,hg);return(0,Om.jsxs)("div",{className:"space-y-2",children:[s&&(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:s}),(0,Om.jsxs)("div",{className:"relative",children:[t&&(0,Om.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:t}),(0,Om.jsx)("input",c({className:qm("w-full px-4 py-2.5 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-200 backdrop-blur-sm",t&&"pl-10",n&&"pr-10",r&&"border-red-500/50 focus:ring-red-500/50",i)},o)),n&&(0,Om.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:n})]}),r&&(0,Om.jsx)("p",{className:"text-sm text-red-400",children:r})]})},pg=e=>{let{onClose:n}=e;const{uploadFile:r,loading:a}=ig(),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(!1),m=(0,t.useRef)(null),g=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?p(!0):"dragleave"===e.type&&p(!1)};return(0,Om.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Om.jsxs)(Zm,{className:"w-full max-w-md mx-auto",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Om.jsx)("h2",{className:"text-xl font-bold text-white",children:"Upload File"}),(0,Om.jsx)("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white transition-colors",children:(0,Om.jsx)(lg,{className:"w-5 h-5"})})]}),(0,Om.jsx)("div",{className:"border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ".concat(f?"border-blue-500 bg-blue-500/10":"border-slate-600 hover:border-slate-500"),onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:e=>{e.preventDefault(),e.stopPropagation(),p(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&i(e.dataTransfer.files[0])},children:s?(0,Om.jsxs)("div",{className:"space-y-2",children:[(0,Om.jsx)(cg,{className:"w-8 h-8 text-blue-400 mx-auto"}),(0,Om.jsx)("p",{className:"text-sm text-slate-300",children:s.name}),(0,Om.jsx)("p",{className:"text-xs text-slate-400",children:(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(s.size)})]}):(0,Om.jsxs)("div",{className:"space-y-2",children:[(0,Om.jsx)(eg,{className:"w-8 h-8 text-slate-400 mx-auto"}),(0,Om.jsx)("p",{className:"text-sm text-slate-300",children:"Drop file here or click to select"}),(0,Om.jsx)("p",{className:"text-xs text-slate-400",children:"Maximum file size: 100MB"})]})}),(0,Om.jsx)("input",{ref:m,type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&i(e.target.files[0])},className:"hidden"}),!s&&(0,Om.jsx)(Jm,{onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},variant:"outline",className:"w-full mt-4",children:"Select File"}),s&&(0,Om.jsx)(Jm,{onClick:()=>i(null),variant:"ghost",className:"w-full mt-2",children:"Remove File"}),s&&(0,Om.jsxs)("div",{className:"space-y-4 mt-6",children:[(0,Om.jsx)(fg,{label:"Encryption Passphrase",type:"password",placeholder:"Enter passphrase for encryption",value:o,onChange:e=>l(e.target.value),leftIcon:(0,Om.jsx)(ug,{className:"w-4 h-4"}),required:!0}),(0,Om.jsx)(fg,{label:"Additional Authenticated Data (Optional)",type:"text",placeholder:"Optional AAD for additional security",value:c,onChange:e=>u(e.target.value)}),(0,Om.jsx)(fg,{label:"Folder (Optional)",type:"text",placeholder:"Organize in folder",value:d,onChange:e=>h(e.target.value),leftIcon:(0,Om.jsx)(dg,{className:"w-4 h-4"})}),(0,Om.jsxs)("div",{className:"flex space-x-3",children:[(0,Om.jsx)(Jm,{onClick:n,variant:"outline",className:"flex-1",children:"Cancel"}),(0,Om.jsx)(Jm,{onClick:async()=>{s&&o&&(await r(s,o,c||void 0,d||void 0),n())},disabled:!o||a,loading:a,className:"flex-1",children:"Upload"})]})]})]})})},mg=Fn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),gg=Fn("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),yg=Fn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),vg=e=>{let{files:n=[],shares:r=[],onShare:a,type:s}=e;const{downloadFile:i,deleteFile:o,revokeShare:l,loading:c}=ig(),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(""),[g,y]=(0,t.useState)(!1),v=e=>{if(!e||0===e)return"0 Bytes";try{const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]}catch(t){return console.warn("Error formatting file size:",e,t),"Unknown Size"}},b=e=>{if(!e)return"Unknown Date";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return console.warn("Error formatting date:",e,t),"Invalid Date"}},w=(e,t)=>{d(e),f(t),y(!0)},x=e=>{if(!e||"string"!==typeof e||""===e.trim())return"\ud83d\udcc1";try{const t=e.trim().toLowerCase();if(""===t)return"\ud83d\udcc1";const n=t.split(".");if(!n||0===n.length)return"\ud83d\udcc1";const r=n[n.length-1];return r&&""!==r?["jpg","jpeg","png","gif","bmp","webp","svg"].includes(r)?"\ud83d\uddbc\ufe0f":["mp4","avi","mov","wmv","flv","webm","mkv"].includes(r)?"\ud83c\udfa5":["mp3","wav","flac","aac","ogg","m4a"].includes(r)?"\ud83c\udfb5":["pdf"].includes(r)?"\ud83d\udcc4":["txt","md","doc","docx","rtf"].includes(r)?"\ud83d\udcdd":["zip","rar","7z","tar","gz"].includes(r)?"\ud83d\udce6":"\ud83d\udcc1":"\ud83d\udcc1"}catch(t){return console.warn("Error getting file icon for:",e,t),"\ud83d\udcc1"}};return"shares"===s?(0,Om.jsx)("div",{className:"space-y-4",children:0===(r||[]).length?(0,Om.jsxs)(Zm,{className:"text-center py-12",children:[(0,Om.jsx)(ag,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Shares Yet"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Files you share with others will appear here."})]}):(r||[]).filter(e=>e&&"object"===typeof e).map(e=>{const t=(null===e||void 0===e?void 0:e.share_id)||"unknown",n=(null===e||void 0===e?void 0:e.file_name)||"Unknown File",r=(null===e||void 0===e?void 0:e.shared_with)||(null===e||void 0===e?void 0:e.recipient)||"Unknown",a=(null===e||void 0===e?void 0:e.created_at)||(new Date).toISOString();return(0,Om.jsx)(Zm,{className:"hover:bg-slate-800/50 transition-colors",children:(0,Om.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-slate-700 rounded-lg flex items-center justify-center",children:(0,Om.jsx)(cg,{className:"w-5 h-5 text-slate-300"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h3",{className:"font-medium text-white",children:n}),(0,Om.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-slate-400",children:[(0,Om.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Om.jsx)(Hn,{className:"w-3 h-3"}),(0,Om.jsx)("span",{children:r&&"string"===typeof r?"".concat(r.slice(0,6),"...").concat(r.slice(-4)):"Unknown"})]}),(0,Om.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Om.jsx)(mg,{className:"w-3 h-3"}),(0,Om.jsx)("span",{children:b(a)})]})]})]})]}),(0,Om.jsx)(Jm,{onClick:()=>(async e=>{window.confirm("Are you sure you want to revoke this share?")&&await l(e)})(t),variant:"danger",size:"sm",disabled:c,children:"Revoke"})]})},t)})}):(0,Om.jsxs)("div",{className:"space-y-4",children:[0===(n||[]).length?(0,Om.jsxs)(Zm,{className:"text-center py-12",children:[(0,Om.jsx)(cg,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"my-files"===s?"No Files Yet":"No Shared Files"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"my-files"===s?"Upload your first file to get started.":"Files shared with you will appear here."})]}):(n||[]).filter(e=>e&&"object"===typeof e).map(e=>{const t=(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.file_name)||"Unknown File",n=(null===e||void 0===e?void 0:e.size)||(null===e||void 0===e?void 0:e.file_size)||0,r=(null===e||void 0===e?void 0:e.file_id)||(null===e||void 0===e?void 0:e.id)||"unknown",i=(null===e||void 0===e?void 0:e.created_at)||(new Date).toISOString(),l=null===e||void 0===e?void 0:e.folder;return(0,Om.jsx)(Zm,{className:"hover:bg-slate-800/50 transition-colors",children:(0,Om.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-slate-700 rounded-lg flex items-center justify-center",children:(0,Om.jsx)("span",{className:"text-lg",children:x(t)})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h3",{className:"font-medium text-white",children:t}),(0,Om.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-slate-400",children:[(0,Om.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Om.jsx)(gg,{className:"w-3 h-3"}),(0,Om.jsx)("span",{children:v(n)})]}),(0,Om.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Om.jsx)(yg,{className:"w-3 h-3"}),(0,Om.jsx)("span",{children:b(i)})]}),l&&(0,Om.jsxs)("span",{className:"text-blue-400",children:["\ud83d\udcc1 ",l]})]})]})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:["my-files"===s&&(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(Jm,{onClick:()=>w(r,e),variant:"outline",size:"sm",leftIcon:(0,Om.jsx)(Km,{className:"w-4 h-4"}),children:"Download"}),a&&(0,Om.jsx)(Jm,{onClick:()=>a(r),variant:"outline",size:"sm",leftIcon:(0,Om.jsx)(ag,{className:"w-4 h-4"}),children:"Share"}),(0,Om.jsx)(Jm,{onClick:()=>(async e=>{window.confirm("Are you sure you want to delete this file?")&&await o(e)})(r),variant:"danger",size:"sm",leftIcon:(0,Om.jsx)(Hm,{className:"w-4 h-4"}),disabled:c,children:"Delete"})]}),"shared"===s&&(0,Om.jsx)(Jm,{onClick:()=>w(r,e),variant:"outline",size:"sm",leftIcon:(0,Om.jsx)(Km,{className:"w-4 h-4"}),children:"Download"})]})]})},r)}),g&&(0,Om.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Om.jsxs)(Zm,{className:"w-full max-w-md",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Enter Passphrase"}),(0,Om.jsx)("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-white",children:"\u2715"})]}),(0,Om.jsx)("p",{className:"text-slate-400 mb-4",children:"Enter the passphrase used to encrypt this file."}),(0,Om.jsx)("input",{type:"password",placeholder:"Enter passphrase",value:p,onChange:e=>m(e.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 mb-4"}),(0,Om.jsxs)("div",{className:"flex space-x-3",children:[(0,Om.jsx)(Jm,{onClick:()=>y(!1),variant:"outline",className:"flex-1",children:"Cancel"}),(0,Om.jsx)(Jm,{onClick:async()=>{if(u&&p){const e=h&&h.encrypted_key,t=null===h||void 0===h?void 0:h.encrypted_key,n=e?null===h||void 0===h?void 0:h.file_id:u;await i(n,p,e,t),y(!1),d(null),f(null),m("")}},disabled:!p,className:"flex-1",children:"Download"})]})]})})]})},bg=Fn("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),wg=Fn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),xg=e=>{let{fileId:n,onClose:r}=e;const{shareFile:a,loading:s}=ig(),[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),g=(0,t.useCallback)(async()=>{const e=Gm.rsaKeyManager.hasKeyPair();if(f(e),e)try{const e=JSON.parse(localStorage.getItem("blockvault_user")||"{}");if(e.jwt){const t=await fetch("".concat(y(),"/users/profile"),{headers:{Authorization:"Bearer ".concat(e.jwt)}});if(t.ok){const e=await t.json();m(e.has_public_key)}}}catch(t){console.error("Failed to check RSA registration status:",t)}},[]);(0,t.useEffect)(()=>{g()},[g]);const y=()=>"";return(0,Om.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Om.jsxs)(Zm,{className:"w-full max-w-md",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Om.jsx)("h2",{className:"text-xl font-bold text-white",children:"Share File"}),(0,Om.jsx)("button",{onClick:r,className:"p-2 text-slate-400 hover:text-white transition-colors",children:(0,Om.jsx)(lg,{className:"w-5 h-5"})})]}),(0,Om.jsxs)("div",{className:"space-y-4",children:[!h&&(0,Om.jsx)("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg",children:(0,Om.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Om.jsx)(Qn,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),(0,Om.jsxs)("div",{className:"text-sm text-red-300",children:[(0,Om.jsx)("p",{className:"font-medium mb-1",children:"RSA Keys Required"}),(0,Om.jsx)("p",{children:'You need to generate and register RSA keys before you can share files. Click the "Setup RSA" button in the header to get started.'})]})]})}),h&&!p&&(0,Om.jsx)("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:(0,Om.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Om.jsx)(qn,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),(0,Om.jsxs)("div",{className:"text-sm text-yellow-300",children:[(0,Om.jsx)("p",{className:"font-medium mb-1",children:"Public Key Not Registered"}),(0,Om.jsx)("p",{children:"Your RSA keys are generated but your public key is not registered on the server. Please register your public key to enable file sharing."})]})]})}),(0,Om.jsx)("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:(0,Om.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Om.jsx)(qn,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),(0,Om.jsxs)("div",{className:"text-sm text-blue-300",children:[(0,Om.jsx)("p",{className:"font-medium mb-1",children:"Important Security Note"}),(0,Om.jsx)("p",{children:"The recipient will need the same passphrase to decrypt the file. Share the passphrase securely through a separate channel."})]})]})}),(0,Om.jsx)(fg,{label:"Recipient Address",type:"text",placeholder:"0x...",value:i,onChange:e=>o(e.target.value),leftIcon:(0,Om.jsx)(Hn,{className:"w-4 h-4"}),required:!0}),(0,Om.jsx)(fg,{label:"Encryption Passphrase",type:"password",placeholder:"Enter the passphrase for this file",value:l,onChange:e=>c(e.target.value),leftIcon:(0,Om.jsx)(ug,{className:"w-4 h-4"}),required:!0}),(0,Om.jsx)("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:(0,Om.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"File ID:"}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Om.jsx)("code",{className:"text-xs font-mono text-slate-300 bg-slate-900/50 px-2 py-1 rounded",children:n}),(0,Om.jsx)("button",{onClick:()=>{return e=n,navigator.clipboard.writeText(e),d(!0),setTimeout(()=>d(!1),2e3),void _n.success("Copied to clipboard");var e},className:"p-1 text-slate-400 hover:text-white transition-colors",children:u?(0,Om.jsx)(bg,{className:"w-3 h-3 text-green-400"}):(0,Om.jsx)(wg,{className:"w-3 h-3"})})]})]})}),(0,Om.jsxs)("div",{className:"flex space-x-3",children:[(0,Om.jsx)(Jm,{onClick:r,variant:"outline",className:"flex-1",children:"Cancel"}),(0,Om.jsx)(Jm,{onClick:async()=>{i&&l?i.startsWith("0x")&&42===i.length?(await a(n,i,l),r()):_n.error("Please enter a valid Ethereum address"):_n.error("Please fill in all fields")},disabled:!i||!l||s||!h||!p,loading:s,className:"flex-1",children:"Share File"})]})]})]})})},Eg=()=>{const{isAuthenticated:e}=Um(),{files:n,sharedFiles:r,outgoingShares:a}=ig(),[s,i]=(0,t.useState)("my-files"),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null);if(!e)return(0,Om.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,Om.jsxs)(Zm,{className:"text-center p-8 max-w-md mx-auto",children:[(0,Om.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Om.jsx)(eg,{className:"w-8 h-8 text-white"})}),(0,Om.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome to BlockVault"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-6",children:"Connect your wallet and login to start storing your files securely with end-to-end encryption."}),(0,Om.jsxs)("div",{className:"text-sm text-slate-500",children:[(0,Om.jsx)("p",{children:"\u2022 End-to-end encryption"}),(0,Om.jsx)("p",{children:"\u2022 Web3 authentication"}),(0,Om.jsx)("p",{children:"\u2022 Secure file sharing"}),(0,Om.jsx)("p",{children:"\u2022 IPFS integration"})]})]})});const m=(n||[]).filter(e=>e.name&&e.name.toLowerCase().includes(o.toLowerCase())),g=(r||[]).filter(e=>{const t=e.name||e.file_name;return t&&t.toLowerCase().includes(o.toLowerCase())}),y=(a||[]).filter(e=>e.file_name&&e.file_name.toLowerCase().includes(o.toLowerCase()));return(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"text-center",children:[(0,Om.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Your Secure Vault"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Store and share files with end-to-end encryption"})]}),(0,Om.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Om.jsx)("div",{className:"flex-1",children:(0,Om.jsx)(fg,{type:"text",placeholder:"Search files...",value:o,onChange:e=>l(e.target.value),leftIcon:(0,Om.jsx)(tg,{className:"w-4 h-4"})})}),(0,Om.jsx)(Jm,{onClick:()=>u(!0),leftIcon:(0,Om.jsx)(ng,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:"Upload File"})]}),(0,Om.jsxs)("div",{className:"flex space-x-1 bg-slate-800/50 p-1 rounded-lg",children:[(0,Om.jsxs)("button",{onClick:()=>i("my-files"),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-md transition-all duration-200 ".concat("my-files"===s?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:[(0,Om.jsx)(rg,{className:"w-4 h-4"}),(0,Om.jsxs)("span",{children:["My Files (",(n||[]).length,")"]})]}),(0,Om.jsxs)("button",{onClick:()=>i("shared"),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-md transition-all duration-200 ".concat("shared"===s?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:[(0,Om.jsx)(Km,{className:"w-4 h-4"}),(0,Om.jsxs)("span",{children:["Shared with Me (",(r||[]).length,")"]})]}),(0,Om.jsxs)("button",{onClick:()=>i("shares"),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 rounded-md transition-all duration-200 ".concat("shares"===s?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:[(0,Om.jsx)(ag,{className:"w-4 h-4"}),(0,Om.jsxs)("span",{children:["My Shares (",(a||[]).length,")"]})]})]}),(0,Om.jsxs)("div",{className:"animate-fade-in",children:["my-files"===s&&(0,Om.jsx)(vg,{files:m,onShare:e=>{p(e),h(!0)},type:"my-files"}),"shared"===s&&(0,Om.jsx)(vg,{files:g,type:"shared"}),"shares"===s&&(0,Om.jsx)(vg,{shares:y,type:"shares"})]}),c&&(0,Om.jsx)(pg,{onClose:()=>u(!1)}),d&&f&&(0,Om.jsx)(xg,{fileId:f,onClose:()=>{h(!1),p(null)}})]})},Cg=Fn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ag=Fn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Sg=Fn("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Ng=Fn("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),kg=Fn("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);const Tg=async(e,t,n)=>(await new Promise(e=>setTimeout(e,1e3)),{proof:{pi_a:["1","2","3"],pi_b:[["1","2"],["3","4"],["5","6"]],pi_c:["1","2","3"],protocol:"groth16",curve:"bn128"},publicSignals:["1","2","3"]}),Ig=async(e,t)=>JSON.stringify([e,t]);class Bg{static getInstance(){return Bg.instance||(Bg.instance=new Bg),Bg.instance}async generateIntegrityProof(e,t){try{const n={file_chunks:this.chunkDataForCircuit(e,2),file_hash:t},{proof:r,publicSignals:a}=await Tg(n,"/circuits/integrity.wasm","/circuits/integrity_final.zkey");return{proof:r,publicSignals:a}}catch(n){throw console.error("Error generating integrity proof:",n),new Error("Failed to generate integrity proof")}}async generateZKPTProof(e,t,n,r){try{const a={original:this.chunkDataForCircuit(e,3),transformed:this.chunkDataForCircuit(t,2),original_hash:n,transformed_hash:r},{proof:s,publicSignals:i}=await Tg(a,"/circuits/transform.wasm","/circuits/transform_final.zkey");return{proof:s,publicSignals:i}}catch(a){throw console.error("Error generating ZKPT proof:",a),new Error("Failed to generate ZKPT proof")}}async generateZKMLProof(e,t,n){try{const r={x:e.toString(),m:t.m.toString(),b:t.b.toString(),y:n.toString()},{proof:a,publicSignals:s}=await Tg(r,"/circuits/ml_inference.wasm","/circuits/ml_inference_final.zkey");return{proof:a,publicSignals:s}}catch(r){throw console.error("Error generating ZKML proof:",r),new Error("Failed to generate ZKML proof")}}async formatProofForContract(e,t){try{const n=await Ig(e,t),r=JSON.parse("[".concat(n,"]"));return{a:r[0],b:r[1],c:r[2],publicInputs:r[3]}}catch(n){throw console.error("Error formatting proof for contract:",n),new Error("Failed to format proof for contract")}}chunkDataForCircuit(e,t){const n=[];for(let r=0;r<e.length;r+=t){const a=e.slice(r,r+t);n.push(this.uint8ArrayToHex(a))}return n}uint8ArrayToHex(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}async poseidonHash(e){const t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(e=>e.toString(16).padStart(2,"0")).join("")}}Bg.instance=void 0;class Rg{static performToyRedaction(e,t){const n=new Uint8Array(e);if(null!==t&&void 0!==t&&t.removeChunks)for(const r of t.removeChunks){const e=32*r,a=Math.min(e+32,n.length);if(void 0!==t.replaceWith)for(let r=e;r<a;r++)n[r]=t.replaceWith;else for(let t=e;t<a;t++)n[t]=0}return n}static createTransformationRecord(e,t,n){return{originalHash:e,transformedHash:t,transformationType:n,timestamp:Date.now(),verifiable:!0}}}class jg{static runToyLinearModel(e,t){return t.m*e+t.b}static verifyModelExecution(e,t,n){const r=this.runToyLinearModel(e,t);return Math.abs(r-n)<.001}}const Pg=e=>{let{onClose:n,onSuccess:r}=e;const[a,s]=(0,t.useState)(null),[i,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)("upload"),[u,d]=(0,t.useState)(""),h=async e=>(await new Promise(e=>setTimeout(e,1e3)),console.log("Uploading file to IPFS: ".concat(e.name," (").concat(e.size," bytes)")),"Qm".concat(Math.random().toString(36).substring(2,15))),f=async(e,t)=>{await new Promise(e=>setTimeout(e,2e3)),console.log("Document registered on chain:",{cid:e,proof:t,note:"Document notarized with ZK proof of integrity"})},p=e=>l===e?(0,Om.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,Om.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})}):"complete"===l&&"verifying"===e?(0,Om.jsx)(zm,{className:"w-6 h-6 text-green-500"}):(0,Om.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"});return(0,Om.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Om.jsxs)(Zm,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:(0,Om.jsx)(Vn,{className:"w-5 h-5 text-blue-500"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Notarize Document"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:"Create an immutable record on the blockchain"})]})]}),(0,Om.jsx)(Jm,{onClick:n,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:(0,Om.jsx)(lg,{className:"w-4 h-4"})})]}),(0,Om.jsx)("div",{className:"mb-6",children:(0,Om.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[p("upload"),(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"Upload"})]}),(0,Om.jsx)("div",{className:"flex-1 h-px bg-slate-700 mx-4"}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[p("processing"),(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"Process"})]}),(0,Om.jsx)("div",{className:"flex-1 h-px bg-slate-700 mx-4"}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[p("verifying"),(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"Verify"})]})]})}),"upload"===l&&(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"border-2 border-dashed border-slate-600 rounded-lg p-8 text-center",children:[(0,Om.jsx)(Ag,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Select Document to Notarize"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-4",children:"Choose a legal document to create an immutable record on the blockchain"}),(0,Om.jsx)("input",{type:"file",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(s(n),c("upload"))},className:"hidden",id:"file-input",accept:".pdf,.doc,.docx,.txt"}),(0,Om.jsxs)("label",{htmlFor:"file-input",className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer",children:[(0,Om.jsx)(eg,{className:"w-4 h-4 mr-2"}),"Choose File"]})]}),a&&(0,Om.jsx)("div",{className:"bg-slate-800/50 rounded-lg p-4",children:(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)(Ag,{className:"w-8 h-8 text-blue-500"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("p",{className:"font-medium text-white",children:a.name}),(0,Om.jsxs)("p",{className:"text-sm text-slate-400",children:[(a.size/1024).toFixed(2)," KB"]})]})]})}),(0,Om.jsx)("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4",children:(0,Om.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Om.jsx)(qn,{className:"w-5 h-5 text-amber-500 mt-0.5"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h4",{className:"font-medium text-amber-500 mb-1",children:"Legal Notice"}),(0,Om.jsx)("p",{className:"text-sm text-amber-200 mb-2",children:"Notarizing a document creates an immutable record on the blockchain. This action cannot be undone and will be publicly verifiable."}),(0,Om.jsxs)("p",{className:"text-sm text-amber-200",children:[(0,Om.jsx)("strong",{children:"Security:"})," The document hash is calculated from the original file to ensure cryptographic integrity and provide an immutable record on the blockchain."]})]})]})})]}),"processing"===l&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Om.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Processing Document"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-4",children:"Calculating cryptographic hash and preparing for blockchain registration..."}),(0,Om.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 max-w-md mx-auto",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"File Size:"}),(0,Om.jsx)("span",{className:"text-white font-mono",children:a?(a.size/1024/1024).toFixed(2)+" MB":"Calculating..."})]}),(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Status:"}),(0,Om.jsx)("span",{className:"text-blue-400 font-mono",children:"Processing..."})]})]})]}),"verifying"===l&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)("div",{className:"w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Om.jsx)("div",{className:"w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Generating ZK Proof"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Creating cryptographic proof of document integrity..."}),u&&(0,Om.jsxs)("div",{className:"mt-4 p-3 bg-slate-800/50 rounded-lg",children:[(0,Om.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Document Hash:"}),(0,Om.jsx)("p",{className:"text-xs font-mono text-white break-all",children:u})]})]}),"complete"===l&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)(zm,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Document Notarized!"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-4",children:"Your document has been successfully registered on the blockchain with cryptographic proof."}),u&&(0,Om.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg mb-4",children:[(0,Om.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Document Hash:"}),(0,Om.jsx)("p",{className:"text-xs font-mono text-white break-all",children:u}),(0,Om.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"This hash represents the document's cryptographic fingerprint"})]})]}),(0,Om.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Om.jsx)(Jm,{onClick:n,variant:"outline",children:"complete"===l?"Close":"Cancel"}),"upload"===l&&a&&(0,Om.jsx)(Jm,{onClick:async()=>{if(a){o(!0),c("processing");try{const e=new Uint8Array(await a.arrayBuffer()),t=Bg.getInstance(),n=await t.poseidonHash(e);d(n);const s=await h(a);c("verifying");const{proof:i,publicSignals:o}=await t.generateIntegrityProof(e,n),l=await t.formatProofForContract(i,o);await f(s,l),c("complete"),_n.success("Document successfully notarized on the blockchain!");const u={id:Date.now().toString(),file_id:Date.now().toString(),name:a.name,docHash:n,cid:s,status:"registered",timestamp:Date.now(),owner:"current-user",blockchainHash:n,ipfsCid:s,zkProof:l},p=JSON.parse(localStorage.getItem("legal_documents")||"[]");p.push(u),localStorage.setItem("legal_documents",JSON.stringify(p)),r()}catch(e){console.error("Error during notarization:",e),_n.error("An error occurred during notarization."),c("upload")}finally{o(!1)}}},loading:i,children:"Notarize Document"})]})]})})},Lg=Fn("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Dg=e=>{let{document:n,onClose:r,onSuccess:a}=e;const[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)("configure"),[u,d]=(0,t.useState)({removeChunks:[],replaceWith:0,customRules:""}),[h,f]=(0,t.useState)(""),p=(e,t)=>{d(n=>c(c({},n),{},{[e]:t}))},m=async e=>(await new Promise(e=>setTimeout(e,1e3)),new Uint8Array(1024).fill(1)),g=async e=>(await new Promise(e=>setTimeout(e,1e3)),"Qm".concat(Math.random().toString(36).substring(2,15))),y=async(e,t)=>{await new Promise(e=>setTimeout(e,2e3)),console.log("Transformation registered on chain:",{cid:e,proof:t})},v=async(e,t,r)=>{const a={id:Date.now().toString(),file_id:Date.now().toString(),name:"Redacted_".concat(n.name),docHash:t,cid:e,status:"registered",timestamp:Date.now(),owner:"current-user",blockchainHash:t,ipfsCid:e,zkProof:r,parentHash:n.docHash,transformationType:"redaction",redactionRules:u,originalDocumentId:n.file_id},s=JSON.parse(localStorage.getItem("legal_documents")||"[]");s.push(a),localStorage.setItem("legal_documents",JSON.stringify(s));const i={id:"redact_".concat(a.id),documentId:a.file_id,documentName:a.name,action:"Document Redacted",timestamp:a.timestamp,user:a.owner,details:"Document redacted using ZKPT protocol. Rules: ".concat(JSON.stringify(a.redactionRules)),type:"transformation",transformationType:"redaction",parentHash:a.parentHash,originalDocumentId:a.originalDocumentId,hash:a.docHash,cid:a.cid},o=JSON.parse(localStorage.getItem("chain_of_custody")||"[]");o.push(i),localStorage.setItem("chain_of_custody",JSON.stringify(o)),window.dispatchEvent(new CustomEvent("legalDocumentsUpdated")),window.dispatchEvent(new CustomEvent("chainOfCustodyUpdated")),console.log("Redacted document added to legal documents list:",a),console.log("Chain of custody entry added:",i)},b=e=>o===e?(0,Om.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,Om.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})}):"complete"===o&&"verifying"===e?(0,Om.jsx)(zm,{className:"w-6 h-6 text-green-500"}):(0,Om.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"});return(0,Om.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Om.jsxs)(Zm,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-purple-500/10 rounded-lg flex items-center justify-center",children:(0,Om.jsx)(Vn,{className:"w-5 h-5 text-purple-500"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Create Verifiable Redaction"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:"ZKPT: Zero-Knowledge Proof of Transformation"})]})]}),(0,Om.jsx)(Jm,{onClick:r,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:(0,Om.jsx)(lg,{className:"w-4 h-4"})})]}),(0,Om.jsx)("div",{className:"mb-6",children:(0,Om.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[b("configure"),(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"Configure"})]}),(0,Om.jsx)("div",{className:"flex-1 h-px bg-slate-700 mx-4"}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[b("processing"),(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"Process"})]}),(0,Om.jsx)("div",{className:"flex-1 h-px bg-slate-700 mx-4"}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[b("verifying"),(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"Verify"})]})]})}),"configure"===o&&(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[(0,Om.jsx)("h3",{className:"font-medium text-white mb-2",children:"Original Document"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:n.name}),(0,Om.jsx)("p",{className:"text-xs text-slate-500 font-mono",children:n.docHash})]}),(0,Om.jsxs)("div",{className:"space-y-4",children:[(0,Om.jsx)("h3",{className:"font-medium text-white",children:"Redaction Configuration"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Chunks to Remove (comma-separated indices)"}),(0,Om.jsx)(fg,{type:"text",placeholder:"e.g., 1,3,5",value:u.removeChunks.join(","),onChange:e=>{const t=e.target.value.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e));p("removeChunks",t)}})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Replacement Value (0-255)"}),(0,Om.jsx)(fg,{type:"number",min:"0",max:"255",value:u.replaceWith,onChange:e=>p("replaceWith",parseInt(e.target.value))})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Custom Redaction Rules (JSON)"}),(0,Om.jsx)("textarea",{className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm font-mono",rows:3,placeholder:'{"sensitiveData": ["SSN", "Credit Card"], "replaceWith": "[REDACTED]"}',value:u.customRules,onChange:e=>p("customRules",e.target.value)})]})]}),(0,Om.jsx)("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4",children:(0,Om.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Om.jsx)(Lg,{className:"w-5 h-5 text-amber-500 mt-0.5"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h4",{className:"font-medium text-amber-500 mb-1",children:"ZKPT Notice"}),(0,Om.jsx)("p",{className:"text-sm text-amber-200",children:"This will create a verifiable transformation that proves the redacted document was derived from the original without revealing the redacted content."})]})]})})]}),"processing"===o&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)("div",{className:"w-16 h-16 bg-purple-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Om.jsx)("div",{className:"w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"})}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Processing Redaction"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Applying redaction rules and preparing for ZK proof generation..."})]}),"verifying"===o&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)("div",{className:"w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Om.jsx)("div",{className:"w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Generating ZKPT Proof"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Creating cryptographic proof of transformation..."}),h&&(0,Om.jsxs)("div",{className:"mt-4 p-3 bg-slate-800/50 rounded-lg",children:[(0,Om.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Transformed Document Hash:"}),(0,Om.jsx)("p",{className:"text-xs font-mono text-white break-all",children:h})]})]}),"complete"===o&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)(zm,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Redaction Created!"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-4",children:"Your verifiable redaction has been successfully created and linked to the original document."}),h&&(0,Om.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg mb-4",children:[(0,Om.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Transformed Document Hash:"}),(0,Om.jsx)("p",{className:"text-xs font-mono text-white break-all",children:h})]})]}),(0,Om.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Om.jsx)(Jm,{onClick:r,variant:"outline",children:"complete"===o?"Close":"Cancel"}),"configure"===o&&(0,Om.jsx)(Jm,{onClick:async()=>{i(!0),l("processing");try{const e=await m(n.cid);l("verifying");const t=Rg.performToyRedaction(e,{removeChunks:u.removeChunks,replaceWith:u.replaceWith}),r=Bg.getInstance(),s=await r.poseidonHash(e),i=await r.poseidonHash(t);f(i);const{proof:o,publicSignals:c}=await r.generateZKPTProof(e,t,s,i),d=await r.formatProofForContract(o,c),h=await g(t);await y(h,d),await v(h,i,d),l("complete"),_n.success("Verifiable redaction created and linked on-chain!"),a()}catch(e){console.error("Error creating redaction:",e),_n.error("An error occurred during redaction creation."),l("configure")}finally{i(!1)}},loading:s,children:"Create Verifiable Redaction"})]})]})})},Og=e=>{let{document:n,onClose:r,onSuccess:a}=e;const{user:s}=Um(),[i,o]=(0,t.useState)(!1),[l,u]=(0,t.useState)("request"),[d,h]=(0,t.useState)({signers:[],escrowAmount:"",deadline:"",customMessage:""}),[f,p]=(0,t.useState)({required:0,completed:0,signers:[]}),m=async e=>(await new Promise(e=>setTimeout(e,1e3)),"0x".concat(Math.random().toString(36).substring(2,15)).concat(Math.random().toString(36).substring(2,15)));return(0,Om.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Om.jsxs)(Zm,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-green-500/10 rounded-lg flex items-center justify-center",children:(0,Om.jsx)(Sg,{className:"w-5 h-5 text-green-500"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h2",{className:"text-xl font-semibold text-white",children:"E-Signature & Escrow"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:"Secure document signing with smart contract execution"})]})]}),(0,Om.jsx)(Jm,{onClick:r,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:(0,Om.jsx)(lg,{className:"w-4 h-4"})})]}),(0,Om.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 mb-6",children:[(0,Om.jsx)("h3",{className:"font-medium text-white mb-2",children:"Document"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:n.name}),(0,Om.jsx)("p",{className:"text-xs text-slate-500 font-mono",children:n.docHash})]}),"request"===l&&(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Required Signers (comma-separated addresses)"}),(0,Om.jsx)(fg,{type:"text",placeholder:"0x1234..., 0x5678..., 0x9abc...",value:d.signers.join(", "),onChange:e=>{const t=e.target.value.split(",").map(e=>e.trim()).filter(e=>e);h(e=>c(c({},e),{},{signers:t}))}})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Escrow Amount (ETH) - Optional"}),(0,Om.jsx)(fg,{type:"number",step:"0.001",placeholder:"0.1",value:d.escrowAmount,onChange:e=>h(t=>c(c({},t),{},{escrowAmount:e.target.value}))})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Signature Deadline"}),(0,Om.jsx)(fg,{type:"datetime-local",value:d.deadline,onChange:e=>h(t=>c(c({},t),{},{deadline:e.target.value}))})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Custom Message (Optional)"}),(0,Om.jsx)("textarea",{className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",rows:3,placeholder:"Add a custom message for signers...",value:d.customMessage,onChange:e=>h(t=>c(c({},t),{},{customMessage:e.target.value}))})]}),(0,Om.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,Om.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Om.jsx)(qn,{className:"w-5 h-5 text-blue-500 mt-0.5"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h4",{className:"font-medium text-blue-500 mb-1",children:"Smart Contract Escrow"}),(0,Om.jsx)("p",{className:"text-sm text-blue-200",children:"Funds will be locked in escrow until all signatures are collected. Once complete, funds will be automatically released to the document owner."})]})]})})]}),"signing"===l&&(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"text-center",children:[(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Signature Progress"}),(0,Om.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2 mb-4",children:(0,Om.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(f.completed/f.required*100,"%")}})}),(0,Om.jsxs)("p",{className:"text-sm text-slate-400",children:[f.completed," of ",f.required," signatures collected"]})]}),(0,Om.jsx)("div",{className:"space-y-3",children:f.signers.map((e,t)=>{var n;return(0,Om.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(e.signed?"bg-green-500/20 text-green-500":"bg-slate-600 text-slate-400"),children:e.signed?(0,Om.jsx)(zm,{className:"w-4 h-4"}):(0,Om.jsx)(Cg,{className:"w-4 h-4"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsxs)("p",{className:"text-sm font-medium text-white",children:[e.address.slice(0,6),"...",e.address.slice(-4)]}),(0,Om.jsx)("p",{className:"text-xs text-slate-400",children:e.signed?"Signed":"Pending"})]})]}),e.signed&&(0,Om.jsxs)("div",{className:"text-xs text-green-500 font-mono",children:[null===(n=e.signature)||void 0===n?void 0:n.slice(0,10),"..."]})]},t)})}),(()=>{if(null===s||void 0===s||!s.address)return!1;const e=f.signers.find(e=>{var t;return e.address.toLowerCase()===(null===(t=s.address)||void 0===t?void 0:t.toLowerCase())});return e&&!e.signed})()&&(0,Om.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Om.jsx)(Sg,{className:"w-5 h-5 text-green-500"}),(0,Om.jsx)("h4",{className:"font-medium text-green-500",children:"Your Signature Required"})]}),(0,Om.jsx)("p",{className:"text-sm text-green-200 mb-3",children:"You are required to sign this document. Click below to sign with your wallet."}),(0,Om.jsx)(Jm,{onClick:async()=>{if(null!==s&&void 0!==s&&s.address){o(!0);try{const e=()=>({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000"),t=()=>{const e=JSON.parse(localStorage.getItem("blockvault_user")||"{}");if(!e.jwt)throw new Error("No authentication token found. Please login again.");return{Authorization:"Bearer ".concat(e.jwt),"Content-Type":"application/json"}},r=await m(n.docHash),a=await fetch("".concat(e(),"/documents/").concat(n.file_id,"/sign"),{method:"POST",headers:t(),body:JSON.stringify({signerAddress:s.address,signature:r})});if(!a.ok)throw new Error("Failed to sign document: ".concat(a.status));await a.json(),p(e=>{const t=e.signers.map(e=>{var t;return e.address.toLowerCase()===(null===(t=s.address)||void 0===t?void 0:t.toLowerCase())?c(c({},e),{},{signed:!0,signature:r}):e}),n=t.filter(e=>e.signed).length;return c(c({},e),{},{completed:n,signers:t})}),f.completed+1>=f.required?(u("complete"),_n.success("All signatures collected! Contract executed.")):_n.success("Your signature has been recorded!")}catch(e){console.error("Error signing document:",e),_n.error("An error occurred while signing.")}finally{o(!1)}}else _n.error("Please connect your wallet to sign")},loading:i,children:"Sign Document"})]}),!(null!==s&&void 0!==s&&s.address&&d.signers.some(e=>{var t;return e.toLowerCase()===(null===(t=s.address)||void 0===t?void 0:t.toLowerCase())}))&&(0,Om.jsx)("div",{className:"bg-slate-500/10 border border-slate-500/30 rounded-lg p-4",children:(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:"You are not required to sign this document. Waiting for other signers..."})})]}),"complete"===l&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)(zm,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Contract Executed!"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-4",children:"All signatures have been collected and the smart contract has been executed."}),d.escrowAmount&&(0,Om.jsxs)("div",{className:"p-3 bg-slate-800/50 rounded-lg",children:[(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:"Escrow Amount Released:"}),(0,Om.jsxs)("p",{className:"text-lg font-semibold text-white",children:[d.escrowAmount," ETH"]})]})]}),(0,Om.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Om.jsx)(Jm,{onClick:r,variant:"outline",children:"complete"===l?"Close":"Cancel"}),"request"===l&&(0,Om.jsx)(Jm,{onClick:async()=>{o(!0);try{if(0===d.signers.length)return void _n.error("Please specify at least one signer");if(d.deadline&&new Date(d.deadline)<=new Date)return void _n.error("Deadline must be in the future");const e=()=>({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000"),t=()=>{const e=JSON.parse(localStorage.getItem("blockvault_user")||"{}");if(!e.jwt)throw new Error("No authentication token found. Please login again.");return{Authorization:"Bearer ".concat(e.jwt),"Content-Type":"application/json"}},r=await fetch("".concat(e(),"/documents/").concat(n.file_id,"/request-signature"),{method:"POST",headers:t(),body:JSON.stringify({signers:d.signers.map(e=>({address:e,name:"",email:""})),requestedBy:(null===s||void 0===s?void 0:s.address)||"",documentName:n.name,message:d.customMessage||"Please sign this document",expiresAt:d.deadline||new Date(Date.now()+6048e5).toISOString()})});if(!r.ok)throw new Error("Failed to request signatures: ".concat(r.status));await r.json(),p({required:d.signers.length,completed:0,signers:d.signers.map(e=>({address:e,signed:!1}))}),u("signing"),_n.success("Signature request sent successfully!")}catch(e){console.error("Error requesting signatures:",e),_n.error("An error occurred while requesting signatures.")}finally{o(!1)}},loading:i,children:"Request Signatures"})]})]})})},_g=Fn("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ug=Fn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Mg=e=>{let{document:n,onClose:r,onSuccess:a}=e;const[s,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)("configure"),[u,d]=(0,t.useState)({modelType:"linear_regression",inputData:"5",modelParams:{m:2,b:3},expectedOutput:"13"}),[h,f]=(0,t.useState)(null),p=(e,t)=>{d(n=>c(c({},n),{},{[e]:t}))},m=async(e,t)=>{await new Promise(e=>setTimeout(e,2e3)),console.log("ML inference verified on chain:",{docHash:e,proof:t})},g=e=>o===e?(0,Om.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,Om.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})}):"complete"===o&&"verifying"===e?(0,Om.jsx)(zm,{className:"w-6 h-6 text-green-500"}):(0,Om.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"});return(0,Om.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Om.jsxs)(Zm,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-orange-500/10 rounded-lg flex items-center justify-center",children:(0,Om.jsx)(Ng,{className:"w-5 h-5 text-orange-500"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h2",{className:"text-xl font-semibold text-white",children:"ZKML Analysis"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:"Verifiable AI inference with zero-knowledge proofs"})]})]}),(0,Om.jsx)(Jm,{onClick:r,variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:(0,Om.jsx)(lg,{className:"w-4 h-4"})})]}),(0,Om.jsx)("div",{className:"mb-6",children:(0,Om.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[g("configure"),(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"Configure"})]}),(0,Om.jsx)("div",{className:"flex-1 h-px bg-slate-700 mx-4"}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[g("processing"),(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"Process"})]}),(0,Om.jsx)("div",{className:"flex-1 h-px bg-slate-700 mx-4"}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[g("verifying"),(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"Verify"})]})]})}),"configure"===o&&(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[(0,Om.jsx)("h3",{className:"font-medium text-white mb-2",children:"Document"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:n.name}),(0,Om.jsx)("p",{className:"text-xs text-slate-500 font-mono",children:n.docHash})]}),(0,Om.jsxs)("div",{className:"space-y-4",children:[(0,Om.jsx)("h3",{className:"font-medium text-white",children:"AI Model Configuration"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Model Type"}),(0,Om.jsxs)("select",{className:"w-full p-3 bg-slate-800 border border-slate-600 rounded-lg text-white",value:u.modelType,onChange:e=>p("modelType",e.target.value),children:[(0,Om.jsx)("option",{value:"linear_regression",children:"Linear Regression (y = mx + b)"}),(0,Om.jsx)("option",{value:"classification",children:"Document Classification"}),(0,Om.jsx)("option",{value:"sentiment",children:"Sentiment Analysis"})]})]}),(0,Om.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Input Value (x)"}),(0,Om.jsx)(fg,{type:"number",step:"0.1",value:u.inputData,onChange:e=>p("inputData",e.target.value)})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Expected Output (y)"}),(0,Om.jsx)(fg,{type:"number",step:"0.1",value:u.expectedOutput,onChange:e=>p("expectedOutput",e.target.value)})]})]}),(0,Om.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Model Parameter (m)"}),(0,Om.jsx)(fg,{type:"number",step:"0.1",value:u.modelParams.m,onChange:e=>p("modelParams",c(c({},u.modelParams),{},{m:parseFloat(e.target.value)}))})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Model Parameter (b)"}),(0,Om.jsx)(fg,{type:"number",step:"0.1",value:u.modelParams.b,onChange:e=>p("modelParams",c(c({},u.modelParams),{},{b:parseFloat(e.target.value)}))})]})]})]}),(0,Om.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Om.jsx)(_g,{className:"w-5 h-5 text-blue-500"}),(0,Om.jsx)("h4",{className:"font-medium text-blue-500",children:"Model Preview"})]}),(0,Om.jsxs)("div",{className:"text-sm text-blue-200",children:[(0,Om.jsxs)("p",{children:["Model: y = ",u.modelParams.m,"x + ",u.modelParams.b]}),(0,Om.jsxs)("p",{children:["Input: x = ",u.inputData]}),(0,Om.jsxs)("p",{children:["Expected Output: y = ",u.expectedOutput]}),(0,Om.jsxs)("p",{children:["Calculated Output: y = ",jg.runToyLinearModel(parseFloat(u.inputData)||0,u.modelParams)]})]})]}),(0,Om.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:(0,Om.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Om.jsx)(Vn,{className:"w-5 h-5 text-orange-500 mt-0.5"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h4",{className:"font-medium text-orange-500 mb-1",children:"ZKML Protocol"}),(0,Om.jsx)("p",{className:"text-sm text-orange-200",children:"This will generate a zero-knowledge proof that the AI model was executed correctly without revealing the model parameters or input data."})]})]})})]}),"processing"===o&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)("div",{className:"w-16 h-16 bg-orange-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Om.jsx)("div",{className:"w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"})}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Running AI Analysis"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Executing AI model and preparing for ZK proof generation..."})]}),"verifying"===o&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)("div",{className:"w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Om.jsx)("div",{className:"w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full animate-spin"})}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Generating ZKML Proof"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Creating cryptographic proof of AI inference..."})]}),"complete"===o&&h&&(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"text-center",children:[(0,Om.jsx)(zm,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"AI Analysis Verified!"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"The AI inference has been cryptographically verified on the blockchain."})]}),(0,Om.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[(0,Om.jsx)("h4",{className:"font-medium text-white mb-3",children:"Analysis Results"}),(0,Om.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Om.jsxs)("div",{className:"flex justify-between",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Input:"}),(0,Om.jsx)("span",{className:"text-white",children:h.input})]}),(0,Om.jsxs)("div",{className:"flex justify-between",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Output:"}),(0,Om.jsx)("span",{className:"text-white",children:h.output})]}),(0,Om.jsxs)("div",{className:"flex justify-between",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Model:"}),(0,Om.jsxs)("span",{className:"text-white",children:["y = ",h.modelParams.m,"x + ",h.modelParams.b]})]}),(0,Om.jsxs)("div",{className:"flex justify-between",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Proof Hash:"}),(0,Om.jsx)("span",{className:"text-white font-mono text-xs",children:h.proofHash})]})]})]}),(0,Om.jsx)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)(Ug,{className:"w-5 h-5 text-green-500"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h4",{className:"font-medium text-green-500 mb-1",children:"Verification Complete"}),(0,Om.jsx)("p",{className:"text-sm text-green-200",children:"The AI analysis has been cryptographically verified and recorded on the blockchain. The proof can be independently verified by anyone."})]})]})})]}),(0,Om.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Om.jsx)(Jm,{onClick:r,variant:"outline",children:"complete"===o?"Close":"Cancel"}),"configure"===o&&(0,Om.jsx)(Jm,{onClick:async()=>{i(!0),l("processing");try{const e=parseFloat(u.inputData),t=parseFloat(u.expectedOutput),r=jg.runToyLinearModel(e,u.modelParams);if(!jg.verifyModelExecution(e,u.modelParams,t))throw new Error("Model execution verification failed");l("verifying");const s=Bg.getInstance(),{proof:i,publicSignals:o}=await s.generateZKMLProof(e,u.modelParams,t),c=await s.formatProofForContract(i,o);await m(n.docHash,c),f({input:e,output:r,modelParams:u.modelParams,proofHash:"0x".concat(Math.random().toString(36).substring(2,15))}),l("complete"),_n.success("AI analysis verified on-chain!"),a()}catch(e){console.error("Error running ZKML analysis:",e),_n.error("An error occurred during AI analysis."),l("configure")}finally{i(!1)}},loading:s,children:"Run ZKML Analysis"})]})]})})},Fg=Fn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Vg=Fn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),zg=()=>{const{user:e}=Um(),[n,r]=(0,t.useState)([]),[a,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)(null),l=()=>({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000"),u=()=>{const e=JSON.parse(localStorage.getItem("blockvault_user")||"{}");if(!e.jwt)throw new Error("No authentication token found. Please login again.");return{Authorization:"Bearer ".concat(e.jwt),"Content-Type":"application/json"}},d=(0,t.useCallback)(async()=>{s(!0);try{const t=await fetch("".concat(l(),"/signature-requests?user_address=").concat((null===e||void 0===e?void 0:e.address)||""),{headers:u()});if(!t.ok)throw new Error("Failed to load signature requests: ".concat(t.status));const n=await t.json();r(n.signatureRequests)}catch(i){console.error("Error loading signature requests:",i),o("Failed to load signature requests")}finally{s(!1)}},[null===e||void 0===e?void 0:e.address]);(0,t.useEffect)(()=>{d()},[d]);const h=e=>{switch(e){case"pending":return"bg-yellow-500/10 text-yellow-400";case"signed":return"bg-green-500/10 text-green-400";case"expired":return"bg-red-500/10 text-red-400";default:return"bg-gray-500/10 text-gray-400"}},f=e=>{switch(e){case"pending":return(0,Om.jsx)(mg,{className:"w-4 h-4 text-yellow-500"});case"signed":return(0,Om.jsx)(zm,{className:"w-4 h-4 text-green-500"});case"expired":return(0,Om.jsx)(Lg,{className:"w-4 h-4 text-red-500"});case"declined":return(0,Om.jsx)(Lg,{className:"w-4 h-4 text-gray-500"});default:return(0,Om.jsx)(mg,{className:"w-4 h-4 text-gray-500"})}},p=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=e=>Date.now()>e;return a&&0===n.length?(0,Om.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Om.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}):i?(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)(Lg,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Error Loading Signature Requests"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-4",children:i}),(0,Om.jsx)(Jm,{onClick:d,children:"Try Again"})]}):(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Signature Requests"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Documents waiting for your signature"})]}),(0,Om.jsx)(Jm,{onClick:d,variant:"outline",children:"Refresh"})]}),0===n.length?(0,Om.jsxs)("div",{className:"text-center py-12",children:[(0,Om.jsx)(Ag,{className:"w-16 h-16 text-slate-500 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No Signature Requests"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"You don't have any pending signature requests at the moment."})]}):(0,Om.jsx)("div",{className:"space-y-4",children:n.map(t=>(0,Om.jsx)(Zm,{className:"hover:bg-slate-800/50 transition-colors",children:(0,Om.jsxs)("div",{className:"p-6",children:[(0,Om.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-slate-700 rounded-lg flex items-center justify-center",children:(0,Om.jsx)(Ag,{className:"w-5 h-5 text-slate-300"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h3",{className:"font-medium text-white",children:t.documentName}),(0,Om.jsxs)("p",{className:"text-sm text-slate-400",children:["Requested by ",t.requestedBy.slice(0,6),"...",t.requestedBy.slice(-4)]})]})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[f(t.status),(0,Om.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(h(t.status)),children:t.status})]})]}),(0,Om.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Om.jsx)(Fg,{className:"w-4 h-4 text-slate-400"}),(0,Om.jsx)("span",{className:"text-slate-300",children:t.message})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-slate-400",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Om.jsx)(yg,{className:"w-4 h-4"}),(0,Om.jsxs)("span",{children:["Requested ",p(t.createdAt)]})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Om.jsx)(mg,{className:"w-4 h-4"}),(0,Om.jsxs)("span",{children:["Expires ",p(t.expiresAt.toString())]})]})]}),m(t.expiresAt)&&"pending"===t.status&&(0,Om.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-red-400",children:[(0,Om.jsx)(Lg,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:"This signature request has expired"})]})]}),"pending"===t.status&&!m(t.expiresAt)&&(0,Om.jsxs)("div",{className:"flex space-x-3",children:[(0,Om.jsxs)(Jm,{onClick:()=>(async t=>{s(!0);try{const n=await fetch("".concat(l(),"/documents/").concat(t,"/sign"),{method:"POST",headers:u(),body:JSON.stringify({signerAddress:(null===e||void 0===e?void 0:e.address)||"",signature:"signature_".concat(Date.now())})});if(!n.ok)throw new Error("Failed to sign document: ".concat(n.status));await n.json(),_n.success("Document signed successfully!"),r(e=>e.map(e=>e.documentId===t?c(c({},e),{},{status:"signed"}):e)),await d()}catch(i){console.error("Error signing document:",i),_n.error("Failed to sign document")}finally{s(!1)}})(t.documentId),disabled:a,className:"bg-green-600 hover:bg-green-700",children:[(0,Om.jsx)(zm,{className:"w-4 h-4 mr-2"}),"Sign Document"]}),(0,Om.jsx)(Jm,{onClick:()=>(async e=>{s(!0);try{_n.success("Signature request declined"),r(t=>t.filter(t=>t.id!==e))}catch(i){console.error("Error declining signature:",i),_n.error("Failed to decline signature request")}finally{s(!1)}})(t.id),variant:"outline",disabled:a,children:"Decline"}),(0,Om.jsxs)(Jm,{variant:"outline",size:"sm",onClick:()=>{window.open("/api/documents/".concat(t.documentId,"/download"),"_blank")},children:[(0,Om.jsx)(Vg,{className:"w-4 h-4 mr-2"}),"View Document"]})]}),"signed"===t.status&&(0,Om.jsxs)("div",{className:"flex items-center space-x-2 text-green-400",children:[(0,Om.jsx)(zm,{className:"w-4 h-4"}),(0,Om.jsx)("span",{className:"text-sm",children:"You have signed this document"})]})]})},t.id))})]})},Kg=()=>{const{user:e}=Um(),[n,r]=(0,t.useState)([]),[a,s]=(0,t.useState)(!1),[i,o]=(0,t.useState)(null),l=()=>{const e=JSON.parse(localStorage.getItem("blockvault_user")||"{}");if(!e.jwt)throw new Error("No authentication token found. Please login again.");return{Authorization:"Bearer ".concat(e.jwt),"Content-Type":"application/json"}},c=(0,t.useCallback)(async()=>{s(!0);try{const t=await fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000","/signature-requests-sent?user_address=").concat((null===e||void 0===e?void 0:e.address)||""),{headers:l()});if(!t.ok)throw new Error("Failed to load sent signature requests: ".concat(t.status));const n=await t.json();r(n.signatureRequests)}catch(i){console.error("Error loading sent signature requests:",i),o("Failed to load sent signature requests")}finally{s(!1)}},[null===e||void 0===e?void 0:e.address]);(0,t.useEffect)(()=>{c()},[c]);const u=e=>{switch(e){case"pending":return"bg-yellow-500/10 text-yellow-400";case"signed":return"bg-green-500/10 text-green-400";case"expired":return"bg-red-500/10 text-red-400";default:return"bg-gray-500/10 text-gray-400"}},d=e=>{switch(e){case"pending":return(0,Om.jsx)(mg,{className:"w-4 h-4 text-yellow-500"});case"signed":return(0,Om.jsx)(zm,{className:"w-4 h-4 text-green-500"});case"expired":return(0,Om.jsx)(Lg,{className:"w-4 h-4 text-red-500"});case"declined":return(0,Om.jsx)(Lg,{className:"w-4 h-4 text-gray-500"});default:return(0,Om.jsx)(mg,{className:"w-4 h-4 text-gray-500"})}},h=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a&&0===n.length?(0,Om.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Om.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}):i?(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)(Lg,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Error Loading Sent Requests"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-4",children:i}),(0,Om.jsx)(Jm,{onClick:c,children:"Try Again"})]}):(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Sent Signature Requests"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Signature requests you've sent to others"})]}),(0,Om.jsx)(Jm,{onClick:c,variant:"outline",children:"Refresh"})]}),0===n.length?(0,Om.jsxs)("div",{className:"text-center py-12",children:[(0,Om.jsx)(Ag,{className:"w-16 h-16 text-slate-500 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No Sent Requests"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"You haven't sent any signature requests yet."})]}):(0,Om.jsx)("div",{className:"space-y-4",children:n.map(e=>{var t,n,r;return(0,Om.jsx)(Zm,{className:"hover:bg-slate-800/50 transition-colors",children:(0,Om.jsxs)("div",{className:"p-6",children:[(0,Om.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-slate-700 rounded-lg flex items-center justify-center",children:(0,Om.jsx)(Ag,{className:"w-5 h-5 text-slate-300"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h3",{className:"font-medium text-white",children:e.documentName}),(0,Om.jsxs)("p",{className:"text-sm text-slate-400",children:["Sent to ",e.signers.length," signer",1!==e.signers.length?"s":""]})]})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[d(e.status),(0,Om.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(u(e.status)),children:e.status})]})]}),(0,Om.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Om.jsx)(Fg,{className:"w-4 h-4 text-slate-400"}),(0,Om.jsx)("span",{className:"text-slate-300",children:e.message})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-slate-400",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Om.jsx)(yg,{className:"w-4 h-4"}),(0,Om.jsxs)("span",{children:["Sent ",h(e.createdAt)]})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Om.jsx)(mg,{className:"w-4 h-4"}),(0,Om.jsxs)("span",{children:["Expires ",h(e.expiresAt)]})]})]}),(r=e.expiresAt,Date.now()>new Date(r).getTime()&&"pending"===e.status&&(0,Om.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-red-400",children:[(0,Om.jsx)(Lg,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:"This signature request has expired"})]})),"signed"===e.status&&(0,Om.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-green-400",children:[(0,Om.jsx)(zm,{className:"w-4 h-4"}),(0,Om.jsxs)("span",{children:["Signed by ",null===(t=e.signedBy)||void 0===t?void 0:t.slice(0,6),"...",null===(n=e.signedBy)||void 0===n?void 0:n.slice(-4)," on ",h(e.signedAt||"")]})]})]}),(0,Om.jsxs)("div",{className:"mb-4",children:[(0,Om.jsx)("h4",{className:"text-sm font-medium text-white mb-2",children:"Signers:"}),(0,Om.jsx)("div",{className:"space-y-2",children:e.signers.map((t,n)=>(0,Om.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-800/50 rounded",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("p",{className:"text-sm text-white",children:t.name||"Unknown"}),(0,Om.jsx)("p",{className:"text-xs text-slate-400",children:t.address})]}),(0,Om.jsx)("div",{className:"flex items-center space-x-2",children:e.signedBy===t.address?(0,Om.jsx)(zm,{className:"w-4 h-4 text-green-500"}):(0,Om.jsx)(mg,{className:"w-4 h-4 text-yellow-500"})})]},n))})]}),(0,Om.jsxs)("div",{className:"flex space-x-3",children:[(0,Om.jsxs)(Jm,{variant:"outline",size:"sm",onClick:()=>{window.open("/api/documents/".concat(e.documentId,"/download"),"_blank")},children:[(0,Om.jsx)(Vg,{className:"w-4 h-4 mr-2"}),"View Document"]}),"signed"===e.status&&(0,Om.jsxs)(Jm,{variant:"outline",size:"sm",className:"text-green-400 border-green-400 hover:bg-green-400/10",children:[(0,Om.jsx)(zm,{className:"w-4 h-4 mr-2"}),"Download Signed Document"]})]})]})},e.id)})})]})},Hg=(0,t.createContext)(void 0),Gg=e=>{let{children:n}=e;const[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f]=(0,t.useState)([]),[p,m]=(0,t.useState)([]),[g,y]=(0,t.useState)([]),[v,b]=(0,t.useState)([]),[w,x]=(0,t.useState)([]),[E,C]=(0,t.useState)(!1),[A,S]=(0,t.useState)(null),N=()=>({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:5000"),k=()=>{const e=JSON.parse(localStorage.getItem("blockvault_user")||"{}");if(!e.jwt)throw new Error("No authentication token found. Please login again.");return{Authorization:"Bearer ".concat(e.jwt),"Content-Type":"application/json"}},T=(e,t)=>{if(401===e.status)throw localStorage.removeItem("blockvault_user"),S("Session expired. Please login again."),_n.error("Session expired. Please login again."),new Error("Session expired");throw new Error("".concat(t," failed: ").concat(e.status," ").concat(e.statusText))},I=async e=>{C(!0);try{const t=await fetch("".concat(N(),"/cases/").concat(e),{headers:k()});t.ok||T(t,"Get case");return await t.json()}catch(A){throw console.error("Error getting case:",A),S("Failed to get case"),A}finally{C(!1)}},B=(0,t.useCallback)(async e=>{C(!0);try{const t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[n,r]=e;void 0!==r&&t.append(n,Array.isArray(r)?r.join(","):r.toString())});const n=await fetch("".concat(N(),"/cases?").concat(t),{headers:k()});n.ok||T(n,"Get cases");const r=await n.json();return a(r.cases),r}catch(A){throw console.error("Error getting cases:",A),S("Failed to get cases"),A}finally{C(!1)}},[]),R=async e=>{try{const t=await I(e);i(t),await Promise.all([_(e),L(e),j(e),O(e)])}catch(A){console.error("Error setting current case:",A),S("Failed to load case")}},j=async(e,t)=>{C(!0);try{const n=new URLSearchParams;t&&Object.entries(t).forEach(e=>{let[t,r]=e;void 0!==r&&n.append(t,Array.isArray(r)?r.join(","):r.toString())});const r=await fetch("".concat(N(),"/cases/").concat(e,"/documents?").concat(n),{headers:k()});r.ok||T(r,"Get documents");const a=await r.json();return h(a.documents),a}catch(A){throw console.error("Error getting documents:",A),S("Failed to get documents"),A}finally{C(!1)}},P=async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/tasks/").concat(e),{method:"PUT",headers:k(),body:JSON.stringify(t)});n.ok||T(n,"Update task");const r=await n.json();return u(t=>t.map(t=>t.id===e?r:t)),_n.success("Task updated successfully"),r}catch(A){throw console.error("Error updating task:",A),S("Failed to update task"),A}finally{C(!1)}},L=async(e,t)=>{C(!0);try{const n=new URLSearchParams;t&&Object.entries(t).forEach(e=>{let[t,r]=e;void 0!==r&&n.append(t,Array.isArray(r)?r.join(","):r.toString())});const r=await fetch("".concat(N(),"/cases/").concat(e,"/tasks?").concat(n),{headers:k()});r.ok||T(r,"Get tasks");const a=await r.json();return u(a.tasks),a}catch(A){throw console.error("Error getting tasks:",A),S("Failed to get tasks"),A}finally{C(!1)}},D=async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/team/").concat(e),{method:"PUT",headers:k(),body:JSON.stringify(t)});n.ok||T(n,"Update team member");const r=await n.json();return m(t=>t.map(t=>t.walletAddress===e?r:t)),_n.success("Team member updated successfully"),r}catch(A){throw console.error("Error updating team member:",A),S("Failed to update team member"),A}finally{C(!1)}},O=async(e,t)=>{C(!0);try{const n=t?"".concat(N(),"/cases/").concat(e,"/documents/").concat(t,"/audit"):"".concat(N(),"/cases/").concat(e,"/audit"),r=await fetch(n,{headers:k()});r.ok||T(r,"Get audit trail");const a=await r.json();return x(a),a}catch(A){throw console.error("Error getting audit trail:",A),S("Failed to get audit trail"),A}finally{C(!1)}},_=async e=>{C(!0);try{const t=await fetch("".concat(N(),"/cases/").concat(e,"/dashboard"),{headers:k()});t.ok||T(t,"Get dashboard");const n=await t.json();return l(n),n}catch(A){throw console.error("Error getting dashboard:",A),S("Failed to get dashboard"),A}finally{C(!1)}};(0,t.useEffect)(()=>{B().catch(console.error)},[B]);const U={cases:r,currentCase:s,dashboard:o,tasks:c,documents:d,deadlines:f,teamMembers:p,annotations:g,bundles:v,auditTrail:w,loading:E,error:A,createCase:async e=>{C(!0);try{const t=await fetch("".concat(N(),"/cases"),{method:"POST",headers:k(),body:JSON.stringify(e)});t.ok||T(t,"Create case");const n=await t.json();return a(e=>[...e,n]),_n.success("Case created successfully"),n}catch(A){throw console.error("Error creating case:",A),S("Failed to create case"),A}finally{C(!1)}},updateCase:async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/cases/").concat(e),{method:"PUT",headers:k(),body:JSON.stringify(t)});n.ok||T(n,"Update case");const r=await n.json();return a(t=>t.map(t=>t.id===e?r:t)),(null===s||void 0===s?void 0:s.id)===e&&i(r),_n.success("Case updated successfully"),r}catch(A){throw console.error("Error updating case:",A),S("Failed to update case"),A}finally{C(!1)}},deleteCase:async e=>{C(!0);try{const t=await fetch("".concat(N(),"/cases/").concat(e),{method:"DELETE",headers:k()});t.ok||T(t,"Delete case"),a(t=>t.filter(t=>t.id!==e)),(null===s||void 0===s?void 0:s.id)===e&&i(null),_n.success("Case deleted successfully")}catch(A){throw console.error("Error deleting case:",A),S("Failed to delete case"),A}finally{C(!1)}},getCase:I,getCases:B,loadCurrentCase:R,addDocumentToCase:async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/cases/").concat(e,"/documents"),{method:"POST",headers:k(),body:JSON.stringify(t)});n.ok||T(n,"Add document");const r=await n.json();return h(e=>[...e,r]),_n.success("Document added to case"),r}catch(A){throw console.error("Error adding document:",A),S("Failed to add document"),A}finally{C(!1)}},updateDocument:async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/documents/").concat(e),{method:"PUT",headers:k(),body:JSON.stringify(t)});n.ok||T(n,"Update document");const r=await n.json();return h(t=>t.map(t=>t.id===e?r:t)),_n.success("Document updated successfully"),r}catch(A){throw console.error("Error updating document:",A),S("Failed to update document"),A}finally{C(!1)}},getDocuments:j,deleteDocument:async e=>{C(!0);try{const t=await fetch("".concat(N(),"/documents/").concat(e),{method:"DELETE",headers:k()});t.ok||T(t,"Delete document"),h(t=>t.filter(t=>t.id!==e)),_n.success("Document deleted successfully")}catch(A){throw console.error("Error deleting document:",A),S("Failed to delete document"),A}finally{C(!1)}},createTask:async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/cases/").concat(e,"/tasks"),{method:"POST",headers:k(),body:JSON.stringify(t)});n.ok||T(n,"Create task");const r=await n.json();return u(e=>[...e,r]),_n.success("Task created successfully"),r}catch(A){throw console.error("Error creating task:",A),S("Failed to create task"),A}finally{C(!1)}},updateTask:P,completeTask:async e=>P(e,{status:"completed",completedAt:new Date}),getTasks:L,deleteTask:async e=>{C(!0);try{const t=await fetch("".concat(N(),"/tasks/").concat(e),{method:"DELETE",headers:k()});t.ok||T(t,"Delete task"),u(t=>t.filter(t=>t.id!==e)),_n.success("Task deleted successfully")}catch(A){throw console.error("Error deleting task:",A),S("Failed to delete task"),A}finally{C(!1)}},addTeamMember:async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/cases/").concat(e,"/team"),{method:"POST",headers:k(),body:JSON.stringify(t)});n.ok||T(n,"Add team member");const r=await n.json();return m(e=>[...e,r]),_n.success("Team member added successfully"),r}catch(A){throw console.error("Error adding team member:",A),S("Failed to add team member"),A}finally{C(!1)}},updateTeamMember:D,removeTeamMember:async e=>{C(!0);try{const t=await fetch("".concat(N(),"/team/").concat(e),{method:"DELETE",headers:k()});t.ok||T(t,"Remove team member"),m(t=>t.filter(t=>t.walletAddress!==e)),_n.success("Team member removed successfully")}catch(A){throw console.error("Error removing team member:",A),S("Failed to remove team member"),A}finally{C(!1)}},updatePermissions:async(e,t)=>{await D(e,{permissions:t})},addAnnotation:async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/documents/").concat(e,"/annotations"),{method:"POST",headers:k(),body:JSON.stringify(t)});n.ok||T(n,"Add annotation");const r=await n.json();return y(e=>[...e,r]),_n.success("Annotation added successfully"),r}catch(A){throw console.error("Error adding annotation:",A),S("Failed to add annotation"),A}finally{C(!1)}},updateAnnotation:async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/annotations/").concat(e),{method:"PUT",headers:k(),body:JSON.stringify(t)});n.ok||T(n,"Update annotation");const r=await n.json();return y(t=>t.map(t=>t.id===e?r:t)),_n.success("Annotation updated successfully"),r}catch(A){throw console.error("Error updating annotation:",A),S("Failed to update annotation"),A}finally{C(!1)}},deleteAnnotation:async e=>{C(!0);try{const t=await fetch("".concat(N(),"/annotations/").concat(e),{method:"DELETE",headers:k()});t.ok||T(t,"Delete annotation"),y(t=>t.filter(t=>t.id!==e)),_n.success("Annotation deleted successfully")}catch(A){throw console.error("Error deleting annotation:",A),S("Failed to delete annotation"),A}finally{C(!1)}},getAnnotations:async e=>{C(!0);try{const t=await fetch("".concat(N(),"/documents/").concat(e,"/annotations"),{headers:k()});t.ok||T(t,"Get annotations");const n=await t.json();return y(n),n}catch(A){throw console.error("Error getting annotations:",A),S("Failed to get annotations"),A}finally{C(!1)}},createBundle:async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/cases/").concat(e,"/bundles"),{method:"POST",headers:k(),body:JSON.stringify(t)});n.ok||T(n,"Create bundle");const r=await n.json();return b(e=>[...e,r]),_n.success("Discovery bundle created successfully"),r}catch(A){throw console.error("Error creating bundle:",A),S("Failed to create bundle"),A}finally{C(!1)}},shareBundle:async(e,t)=>{C(!0);try{const n=await fetch("".concat(N(),"/bundles/").concat(e,"/share"),{method:"POST",headers:k(),body:JSON.stringify({recipients:t})});n.ok||T(n,"Share bundle"),_n.success("Bundle shared successfully")}catch(A){throw console.error("Error sharing bundle:",A),S("Failed to share bundle"),A}finally{C(!1)}},verifyBundle:async e=>{C(!0);try{const t=await fetch("".concat(N(),"/bundles/").concat(e,"/verify"),{headers:k()});t.ok||T(t,"Verify bundle");return(await t.json()).verified}catch(A){throw console.error("Error verifying bundle:",A),S("Failed to verify bundle"),A}finally{C(!1)}},getAuditTrail:O,generateAuditReport:async(e,t)=>{C(!0);try{const n=t?"".concat(N(),"/cases/").concat(e,"/documents/").concat(t,"/audit/report"):"".concat(N(),"/cases/").concat(e,"/audit/report"),r=await fetch(n,{method:"POST",headers:k()});r.ok||T(r,"Generate audit report");const a=await r.json();return _n.success("Audit report generated successfully"),a.reportUrl}catch(A){throw console.error("Error generating audit report:",A),S("Failed to generate audit report"),A}finally{C(!1)}},getDashboard:_,refreshData:async()=>{s&&await R(s.id)},clearError:()=>{S(null)}};return(0,Om.jsx)(Hg.Provider,{value:U,children:n})},Qg={"lead-attorney":{canViewCase:!0,canCreateCase:!0,canEditCaseDetails:!0,canAddRemoveMembers:!0,canNotarizeDocuments:!0,canViewAllDocuments:!0,canCreateRedactions:!0,canGrantRevokeAccess:!0,canViewSharedByMe:!0,canViewReceivedDocs:!0,canRequestSignatures:!0,canFundEscrow:!0,canSignDocuments:!0,canRunZKMLAnalysis:!0},associate:{canViewCase:!0,canCreateCase:!0,canEditCaseDetails:!1,canAddRemoveMembers:!1,canNotarizeDocuments:!0,canViewAllDocuments:!0,canCreateRedactions:!0,canGrantRevokeAccess:!0,canViewSharedByMe:!0,canViewReceivedDocs:!0,canRequestSignatures:!0,canFundEscrow:!1,canSignDocuments:!0,canRunZKMLAnalysis:!0},paralegal:{canViewCase:!0,canCreateCase:!1,canEditCaseDetails:!1,canAddRemoveMembers:!1,canNotarizeDocuments:!0,canViewAllDocuments:!0,canCreateRedactions:!1,canGrantRevokeAccess:!1,canViewSharedByMe:!1,canViewReceivedDocs:!0,canRequestSignatures:!1,canFundEscrow:!1,canSignDocuments:!0,canRunZKMLAnalysis:!1},client:{canViewCase:!1,canCreateCase:!1,canEditCaseDetails:!1,canAddRemoveMembers:!1,canNotarizeDocuments:!1,canViewAllDocuments:!1,canCreateRedactions:!1,canGrantRevokeAccess:!1,canViewSharedByMe:!1,canViewReceivedDocs:!0,canRequestSignatures:!1,canFundEscrow:!1,canSignDocuments:!0,canRunZKMLAnalysis:!1},"external-counsel":{canViewCase:!1,canCreateCase:!1,canEditCaseDetails:!1,canAddRemoveMembers:!1,canNotarizeDocuments:!1,canViewAllDocuments:!1,canCreateRedactions:!1,canGrantRevokeAccess:!1,canViewSharedByMe:!1,canViewReceivedDocs:!0,canRequestSignatures:!1,canFundEscrow:!1,canSignDocuments:!0,canRunZKMLAnalysis:!1}};function qg(e){return Qg[e]||Qg.client}function Wg(e){return{"lead-attorney":"Lead Attorney",associate:"Associate Attorney",paralegal:"Paralegal",client:"Client","external-counsel":"External Counsel"}[e]}const Jg=e=>{localStorage.setItem("user_profile",JSON.stringify(e))},Yg=()=>{try{const e=localStorage.getItem("user_profile");if(!e)return null;const t=JSON.parse(e);return t.lastLoginAt=(new Date).toISOString(),Jg(t),t}catch(e){return console.error("Error loading user profile:",e),null}},Zg=(0,t.createContext)(void 0),Xg=e=>{let{children:n}=e;const[r,a]=(0,t.useState)(null),[s,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(null!==r&&void 0!==r&&r.currentRole){const e=qg(r.currentRole);d(e)}else d(null)},[null===r||void 0===r?void 0:r.currentRole]),(0,t.useEffect)(()=>{const e=localStorage.getItem("rbac_user_context");if(e)try{const t=JSON.parse(e);a(t)}catch(t){console.error("Error loading user context:",t)}y()},[]),(0,t.useEffect)(()=>{r&&localStorage.setItem("rbac_user_context",JSON.stringify(r))},[r]);const g=e=>!!u&&u[e],y=()=>{const e=Yg();f(e),m((null===e||void 0===e?void 0:e.isOnboarded)||!1),e&&e.role&&a(t=>t?c(c({},t),{},{currentRole:e.role,walletAddress:e.walletAddress}):{walletAddress:e.walletAddress,currentRole:e.role,currentCaseId:void 0})},v={currentUser:r,currentCaseMembers:s,currentCaseId:o,userPermissions:u,userProfile:h,isOnboarded:p,setCurrentUser:e=>{a(e)},setCurrentCase:(e,t)=>{if(l(e),i(t),r){const n=t.find(e=>e.walletAddress===r.walletAddress);n&&a(c(c({},r),{},{currentRole:n.role,currentCaseId:e}))}},updateUserRole:(e,t)=>{i(n=>n.map(n=>n.walletAddress===e?c(c({},n),{},{role:t}):n)),(null===r||void 0===r?void 0:r.walletAddress)===e&&a(c(c({},r),{},{currentRole:t}))},addCaseMember:e=>{i(t=>[...t,e])},removeCaseMember:e=>{i(t=>t.filter(t=>t.walletAddress!==e))},loadUserProfile:y,updateUserProfile:e=>{if(!h)return;const t=c(c({},h),e);f(t),Jg(t)},completeOnboarding:(e,t)=>{if(null===r||void 0===r||!r.walletAddress)return;const n=((e,t,n)=>({walletAddress:e,role:t,firmName:n,onboardedAt:(new Date).toISOString(),isOnboarded:!0,lastLoginAt:(new Date).toISOString(),preferences:{theme:"dark",notifications:!0,autoSave:!0}}))(r.walletAddress,e,t);f(n),m(!0),Jg(n),a(t=>t?c(c({},t),{},{currentRole:e}):{walletAddress:r.walletAddress,currentRole:e,currentCaseId:void 0})},hasPermission:g,canPerformAction:e=>{if(!u)return!1;const t={view_case:"canViewCase",canCreateCase:"canCreateCase",edit_case:"canEditCaseDetails",manage_members:"canAddRemoveMembers",canNotarizeDocuments:"canNotarizeDocuments",view_documents:"canViewAllDocuments",canCreateRedactions:"canCreateRedactions",grant_access:"canGrantRevokeAccess",view_shared:"canViewSharedByMe",view_received:"canViewReceivedDocs",canRequestSignatures:"canRequestSignatures",fund_escrow:"canFundEscrow",canSignDocuments:"canSignDocuments",canRunZKMLAnalysis:"canRunZKMLAnalysis"}[e];return!!t&&g(t)},getUserRole:e=>{const t=s.find(t=>t.walletAddress===e);return t?t.role:null},isCaseOwner:()=>"lead-attorney"===(null===r||void 0===r?void 0:r.currentRole),isTeamMember:()=>s.some(e=>e.walletAddress===(null===r||void 0===r?void 0:r.walletAddress))};return(0,Om.jsx)(Zg.Provider,{value:v,children:n})},$g=()=>{const e=(0,t.useContext)(Zg);if(void 0===e)throw new Error("useRBAC must be used within a RBACProvider");return e},ey=e=>{let{onClose:n,onSuccess:r}=e;const{createCase:a}=(()=>{const e=(0,t.useContext)(Hg);if(!e)throw new Error("useCase must be used within a CaseProvider");return e})(),{currentUser:s}=$g(),[i,o]=(0,t.useState)(!1),[l,u]=(0,t.useState)("basic"),[d,h]=(0,t.useState)({title:"",description:"",clientName:"",matterNumber:"",practiceArea:"corporate",priority:"medium",status:"active",team:[],documents:[],tasks:[],deadlines:[],annotations:[],accessControl:{caseId:"",permissions:{},roleAssignments:{},createdAt:new Date,updatedAt:new Date}}),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)({walletAddress:"",name:"",email:"",role:"associate"}),y=(e,t)=>{h(n=>c(c({},n),{},{[e]:t}))},v=e=>{switch(e){case"lead-attorney":return["view","comment","edit","delete","share","manage-team"];case"associate":return["view","comment","edit","share"];case"paralegal":case"external-counsel":return["view","comment"];default:return["view"]}},b=e=>l===e?(0,Om.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,Om.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})}):(0,Om.jsx)("div",{className:"w-6 h-6 bg-slate-700 rounded-full"});return(0,Om.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Om.jsx)(Zm,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:(0,Om.jsxs)("div",{className:"p-6",children:[(0,Om.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Om.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create New Case"}),(0,Om.jsx)(Jm,{variant:"ghost",onClick:n,children:(0,Om.jsx)(lg,{className:"w-5 h-5"})})]}),(0,Om.jsx)("div",{className:"flex items-center justify-center mb-8",children:(0,Om.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[b("basic"),(0,Om.jsx)("span",{className:"text-sm ".concat("basic"===l?"text-blue-400":"text-slate-400"),children:"Basic Info"})]}),(0,Om.jsx)("div",{className:"w-8 h-px bg-slate-700"}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[b("team"),(0,Om.jsx)("span",{className:"text-sm ".concat("team"===l?"text-blue-400":"text-slate-400"),children:"Team"})]}),(0,Om.jsx)("div",{className:"w-8 h-px bg-slate-700"}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[b("review"),(0,Om.jsx)("span",{className:"text-sm ".concat("review"===l?"text-blue-400":"text-slate-400"),children:"Review"})]})]})}),"basic"===l&&(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Case Title *"}),(0,Om.jsx)("input",{type:"text",value:d.title||"",onChange:e=>y("title",e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Acme Corp Merger"})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Client Name *"}),(0,Om.jsx)("input",{type:"text",value:d.clientName||"",onChange:e=>y("clientName",e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Acme Corporation"})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Matter Number *"}),(0,Om.jsx)("input",{type:"text",value:d.matterNumber||"",onChange:e=>y("matterNumber",e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 2024-001"})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Practice Area"}),(0,Om.jsx)("select",{value:d.practiceArea||"corporate",onChange:e=>y("practiceArea",e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:["corporate","litigation","real-estate","family","criminal","immigration","intellectual-property","employment","tax","other"].map(e=>(0,Om.jsx)("option",{value:e,children:e.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())},e))})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Priority"}),(0,Om.jsx)("select",{value:d.priority||"medium",onChange:e=>y("priority",e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:["low","medium","high","urgent"].map(e=>(0,Om.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Status"}),(0,Om.jsxs)("select",{value:d.status||"active",onChange:e=>y("status",e.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Om.jsx)("option",{value:"active",children:"Active"}),(0,Om.jsx)("option",{value:"on-hold",children:"On Hold"}),(0,Om.jsx)("option",{value:"closed",children:"Closed"}),(0,Om.jsx)("option",{value:"archived",children:"Archived"})]})]})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Description"}),(0,Om.jsx)("textarea",{value:d.description||"",onChange:e=>y("description",e.target.value),rows:4,className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the case..."})]})]}),"team"===l&&(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsx)("div",{className:"flex justify-between items-center",children:(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Team Members"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:"Add team members with specific roles and permissions"})]})}),(0,Om.jsxs)(Zm,{className:"p-6",children:[(0,Om.jsx)("h4",{className:"font-medium text-white mb-4",children:"Add Team Member"}),(0,Om.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Wallet Address *"}),(0,Om.jsx)(fg,{value:m.walletAddress,onChange:e=>g(t=>c(c({},t),{},{walletAddress:e.target.value})),placeholder:"0x...",className:"font-mono text-sm"})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Name *"}),(0,Om.jsx)(fg,{value:m.name,onChange:e=>g(t=>c(c({},t),{},{name:e.target.value})),placeholder:"John Doe"})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Email"}),(0,Om.jsx)(fg,{type:"email",value:m.email,onChange:e=>g(t=>c(c({},t),{},{email:e.target.value})),placeholder:"john@example.com"})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Role *"}),(0,Om.jsxs)("select",{value:m.role,onChange:e=>g(t=>c(c({},t),{},{role:e.target.value})),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Om.jsx)("option",{value:"associate",children:"Associate Attorney"}),(0,Om.jsx)("option",{value:"paralegal",children:"Paralegal"}),(0,Om.jsx)("option",{value:"client",children:"Client"}),(0,Om.jsx)("option",{value:"external-counsel",children:"External Counsel"})]})]})]}),(0,Om.jsxs)(Jm,{onClick:()=>{if(!m.walletAddress||!m.name)return void _n.error("Please fill in wallet address and name");if(f.some(e=>e.walletAddress===m.walletAddress))return void _n.error("This wallet address is already added to the team");const e={walletAddress:m.walletAddress,role:m.role,name:m.name,email:m.email,addedAt:new Date,addedBy:(null===s||void 0===s?void 0:s.walletAddress)||"unknown"};p(t=>[...t,e]),g({walletAddress:"",name:"",email:"",role:"associate"}),_n.success("Team member added successfully")},size:"sm",children:[(0,Om.jsx)(ng,{className:"w-4 h-4 mr-2"}),"Add Member"]})]}),(0,Om.jsxs)("div",{className:"space-y-4",children:[(0,Om.jsx)("h4",{className:"font-medium text-white",children:"Current Team Members"}),f.map((e,t)=>{return(0,Om.jsxs)(Zm,{className:"p-4",children:[(0,Om.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h5",{className:"font-medium text-white",children:e.name}),(0,Om.jsx)("p",{className:"text-sm text-slate-400 font-mono",children:e.walletAddress}),e.email&&(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:e.email})]}),(0,Om.jsx)(Jm,{variant:"ghost",size:"sm",onClick:()=>{return t=e.walletAddress,p(e=>e.filter(e=>e.walletAddress!==t)),void _n.success("Team member removed");var t},className:"text-red-400 hover:text-red-300",children:(0,Om.jsx)(Hm,{className:"w-4 h-4"})})]}),(0,Om.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("span",{className:"text-sm text-slate-400",children:"Role: "}),(0,Om.jsx)("span",{className:"text-sm font-medium text-blue-400",children:Wg(e.role)})]}),(0,Om.jsxs)("select",{value:e.role,onChange:t=>{return n=e.walletAddress,r=t.target.value,void p(e=>e.map(e=>e.walletAddress===n?c(c({},e),{},{role:r}):e));var n,r},className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,Om.jsx)("option",{value:"associate",children:"Associate Attorney"}),(0,Om.jsx)("option",{value:"paralegal",children:"Paralegal"}),(0,Om.jsx)("option",{value:"client",children:"Client"}),(0,Om.jsx)("option",{value:"external-counsel",children:"External Counsel"})]})]}),(0,Om.jsx)("div",{className:"mt-2",children:(0,Om.jsx)("p",{className:"text-xs text-slate-500",children:(n=e.role,{"lead-attorney":"Full access to case management, document operations, and team coordination",associate:"Broad access to document operations and sharing, limited administrative access",paralegal:"Document management and organization, limited operational access",client:"View-only access to documents shared with them, can sign required documents","external-counsel":"View-only access to documents shared with them, can sign required documents"}[n])})})]},t);var n}),0===f.length&&(0,Om.jsxs)("div",{className:"text-center py-8",children:[(0,Om.jsx)(Cg,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"No team members added yet"}),(0,Om.jsx)("p",{className:"text-sm text-slate-500",children:"Add team members to collaborate on this case"})]})]})]}),"review"===l&&(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-6",children:[(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Case Summary"}),(0,Om.jsxs)("div",{className:"space-y-4",children:[(0,Om.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-sm font-medium text-slate-400",children:"Title"}),(0,Om.jsx)("p",{className:"text-white",children:d.title})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-sm font-medium text-slate-400",children:"Client"}),(0,Om.jsx)("p",{className:"text-white",children:d.clientName})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-sm font-medium text-slate-400",children:"Matter Number"}),(0,Om.jsx)("p",{className:"text-white",children:d.matterNumber})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-sm font-medium text-slate-400",children:"Practice Area"}),(0,Om.jsx)("p",{className:"text-white",children:d.practiceArea})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-sm font-medium text-slate-400",children:"Priority"}),(0,Om.jsx)("p",{className:"text-white",children:d.priority})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-sm font-medium text-slate-400",children:"Status"}),(0,Om.jsx)("p",{className:"text-white",children:d.status})]})]}),d.description&&(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-sm font-medium text-slate-400",children:"Description"}),(0,Om.jsx)("p",{className:"text-white",children:d.description})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"text-sm font-medium text-slate-400",children:"Team Members"}),(0,Om.jsxs)("p",{className:"text-white",children:[f.length," members"]}),f.map((e,t)=>(0,Om.jsxs)("div",{className:"text-sm text-slate-300 ml-4",children:[e.name," (",e.role,") - ",e.walletAddress.slice(0,10),"..."]},t))]})]})]}),(0,Om.jsx)("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-lg p-4",children:(0,Om.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Om.jsx)(qn,{className:"w-5 h-5 text-amber-400 mt-0.5"}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h4",{className:"font-medium text-amber-400 mb-1",children:"Legal Notice"}),(0,Om.jsx)("p",{className:"text-sm text-amber-200",children:"Creating a case will establish role-based access control on the blockchain. All team members will be granted appropriate permissions based on their assigned roles."})]})]})})]}),(0,Om.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Om.jsx)("div",{children:"basic"!==l&&(0,Om.jsx)(Jm,{variant:"outline",onClick:()=>{"team"===l&&u("basic"),"review"===l&&u("team")},children:"Previous"})}),(0,Om.jsxs)("div",{className:"flex space-x-3",children:[(0,Om.jsx)(Jm,{variant:"outline",onClick:n,children:"Cancel"}),"review"!==l?(0,Om.jsx)(Jm,{onClick:()=>{"basic"===l&&u("team"),"team"===l&&u("review")},children:"Next"}):(0,Om.jsx)(Jm,{onClick:async()=>{if(d.title&&d.clientName&&d.matterNumber){o(!0);try{const e=[{walletAddress:(null===s||void 0===s?void 0:s.walletAddress)||"unknown",role:"lead-attorney",name:(null===s||void 0===s?void 0:s.walletAddress)||"Current User",email:"",addedAt:new Date,addedBy:(null===s||void 0===s?void 0:s.walletAddress)||"unknown"},...f],t=c(c({},d),{},{team:e.map(e=>({walletAddress:e.walletAddress,name:e.name,role:e.role,email:e.email||"",addedAt:e.addedAt,addedBy:e.addedBy,permissions:v(e.role)})),createdAt:new Date,updatedAt:new Date}),i=await a(t);_n.success("Case created successfully"),r(i.id),n()}catch(e){console.error("Error creating case:",e),_n.error("Failed to create case")}finally{o(!1)}}else _n.error("Please fill in all required fields")},disabled:i,className:"bg-green-600 hover:bg-green-700",children:i?"Creating...":"Create Case"})]})]})]})})})};class ty{static getApiBase(){return""}static async testBackendHealth(){try{return(await fetch("".concat(this.getApiBase(),"/health"))).ok}catch(e){return console.error("Backend health check failed:",e),!1}}static async testAuthFlow(e){try{const t=await fetch("".concat(this.getApiBase(),"/auth/get_nonce"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:e})});if(!t.ok)return{success:!1,error:"Failed to get nonce"};const{nonce:n}=await t.json();return console.log("\u2705 Nonce received:",n),{success:!0}}catch(t){return console.error("Auth flow test failed:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}static async testFileUpload(e){try{const t=new File(["This is a test file for BlockVault"],"test.txt",{type:"text/plain"}),n=new FormData;n.append("file",t),n.append("key","testpassphrase");const r=await fetch("".concat(this.getApiBase(),"/files/"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:n});return r.ok?(console.log("\u2705 Test file upload successful"),{success:!0}):{success:!1,error:"Upload failed: ".concat(r.status," ").concat(r.statusText)}}catch(t){return console.error("File upload test failed:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}static async runAllTests(){console.log("\ud83e\uddea Starting API Tests...");const e=await this.testBackendHealth();console.log("Backend Health:",e?"\u2705 OK":"\u274c FAILED");const t=await this.testAuthFlow("0x1234567890123456789012345678901234567890");let n;console.log("Auth Flow:",t.success?"\u2705 OK":"\u274c FAILED: ".concat(t.error));const r=JSON.parse(localStorage.getItem("blockvault_user")||"{}");return r.jwt?(n=await this.testFileUpload(r.jwt),console.log("File Upload:",n.success?"\u2705 OK":"\u274c FAILED: ".concat(n.error))):console.log("File Upload: \u23ed\ufe0f SKIPPED (no token)"),{backendHealth:e,authFlow:t,fileUpload:n}}}const ny=new class{constructor(){this.currentStep=0,this.isRunning=!1,this.demoData={},this.setupDemoData()}setupDemoData(){this.demoData={cases:[{id:"case_001",title:"Smith vs. Jones Discovery",description:"Major corporate lawsuit involving intellectual property disputes",status:"active",team_members:[{name:"Alice Chen",role:"Lead Attorney",wallet:"0x1234..."},{name:"Bob Smith",role:"Associate",wallet:"0x5678..."},{name:"Carol Davis",role:"Paralegal",wallet:"0x9abc..."}],documents_count:15,tasks_count:8,completion_percentage:65},{id:"case_002",title:"Merger & Acquisition Review",description:"Due diligence for $50M acquisition of TechCorp",status:"active",team_members:[{name:"David Wilson",role:"Lead Attorney",wallet:"0xdef0..."},{name:"Eva Brown",role:"Associate",wallet:"0x1234..."},{name:"Frank Miller",role:"Client",wallet:"0x5678..."}],documents_count:25,tasks_count:12,completion_percentage:45}],documents:[{id:"doc_001",name:"Employment Agreement - Smith.pdf",type:"Contract",status:"registered",hash:"a1b2c3d4e5f6...",ipfs_cid:"QmXyZ123...",blockchain_hash:"0x1234567890abcdef...",zk_proof:"zk_proof_001",case_id:"case_001",upload_date:"2024-01-20",size:"2.3 MB",owner:"Alice Chen",verification_status:"verified"},{id:"doc_002",name:"Redacted Employment Agreement - Smith.pdf",type:"Redacted Document",status:"registered",hash:"d4e5f6a1b2c3...",ipfs_cid:"QmGhI012...",blockchain_hash:"0x4567890123def...",zk_proof:"zk_proof_004",zkpt_proof:"zkpt_proof_001",original_doc_id:"doc_001",redaction_rules:"Removed chunks 1, 3, 5 (privileged information)",case_id:"case_001",upload_date:"2024-01-25",size:"1.9 MB",owner:"Alice Chen",verification_status:"verified"}],signature_requests:[{id:"sig_req_001",document_id:"doc_001",document_name:"Employment Agreement - Smith.pdf",sender:"Alice Chen",sender_wallet:"0x1234...",recipient:"John Smith",recipient_wallet:"0x5678...",status:"pending",created_date:"2024-01-20",deadline:"2024-02-15",message:"Please review and sign the employment agreement"}],ai_analyses:[{id:"ai_001",document_id:"doc_001",document_name:"Employment Agreement - Smith.pdf",analysis_type:"Contract Risk Assessment",model_type:"Linear Regression",model_parameters:{m:2,b:3},private_input:"x=5",expected_output:"y=13",actual_output:"y=13",zkml_proof:"zkml_proof_001",confidence_score:.95,risk_level:"Medium",analysis_date:"2024-01-21",analyst:"AI System",verification_status:"verified"}]}}getDemoScenarios(){return[this.getCaseManagementDemo(),this.getDocumentNotarizationDemo(),this.getVerifiableRedactionDemo(),this.getVerifiableAIAnalysisDemo(),this.getESignatureDemo(),this.getCompleteWorkflowDemo()]}getCaseManagementDemo(){return{id:"case_management",title:"Case Management with RBAC",description:"Demonstrate case creation, team management, and role-based access control",totalDuration:3e4,steps:[{id:"create_case",title:"Create New Case",description:"Create a new legal case with team members and permissions",action:async()=>{console.log("\ud83d\udcc1 Creating new case: 'Corporate Merger Review'"),await this.simulateDelay(2e3),console.log("\u2705 Case created with ID: case_003")},duration:2e3},{id:"add_team_members",title:"Add Team Members",description:"Add team members with different roles and permissions",action:async()=>{console.log("\ud83d\udc65 Adding team members:"),console.log("   - Lead Attorney: Alice Chen"),console.log("   - Associate: Bob Smith"),console.log("   - Paralegal: Carol Davis"),await this.simulateDelay(2e3),console.log("\u2705 Team members added with role-based permissions")},duration:2e3},{id:"set_permissions",title:"Configure Access Control",description:"Set up role-based access control for case documents",action:async()=>{console.log("\ud83d\udd10 Configuring access control:"),console.log("   - Lead Attorney: Full access"),console.log("   - Associate: Read/Write access"),console.log("   - Paralegal: Read-only access"),await this.simulateDelay(2e3),console.log("\u2705 Access control configured")},duration:2e3}]}}getDocumentNotarizationDemo(){return{id:"document_notarization",title:"Document Notarization with ZK Proofs",description:"Demonstrate secure document upload, hashing, and blockchain registration",totalDuration:25e3,steps:[{id:"upload_document",title:"Upload Document",description:"Upload a legal document for notarization",action:async()=>{console.log("\ud83d\udcc4 Uploading document: 'Employment Agreement.pdf'"),await this.simulateDelay(2e3),console.log("\u2705 Document uploaded successfully")},duration:2e3},{id:"calculate_hash",title:"Calculate Cryptographic Hash",description:"Generate cryptographic hash of the document",action:async()=>{console.log("\ud83d\udd10 Calculating cryptographic hash..."),await this.simulateDelay(1500),console.log("\u2705 Hash calculated: a1b2c3d4e5f6...")},duration:1500},{id:"upload_ipfs",title:"Upload to IPFS",description:"Upload document to decentralized storage",action:async()=>{console.log("\ud83c\udf10 Uploading to IPFS..."),await this.simulateDelay(2e3),console.log("\u2705 IPFS CID: QmXyZ123...")},duration:2e3},{id:"generate_zk_proof",title:"Generate ZK Proof",description:"Generate zero-knowledge proof of document integrity",action:async()=>{console.log("\ud83d\udd12 Generating ZK proof..."),await this.simulateDelay(2e3),console.log("\u2705 ZK proof generated: zk_proof_001")},duration:2e3},{id:"blockchain_registration",title:"Blockchain Registration",description:"Register document on blockchain with proof",action:async()=>{console.log("\u26d3\ufe0f Registering on blockchain..."),await this.simulateDelay(2e3),console.log("\u2705 Document registered on blockchain"),console.log("\u2705 Transaction hash: 0x1234567890abcdef...")},duration:2e3}]}}getVerifiableRedactionDemo(){return{id:"verifiable_redaction",title:"Verifiable Redaction (ZKPT)",description:"Demonstrate zero-knowledge proof of transformation for document redaction",totalDuration:3e4,steps:[{id:"select_document",title:"Select Document for Redaction",description:"Choose a document that needs privileged information redacted",action:async()=>{console.log("\ud83d\udcc4 Selected document: 'Employment Agreement - Smith.pdf'"),console.log("\ud83d\udd0d Document contains privileged information"),await this.simulateDelay(1500),console.log("\u2705 Document selected for redaction")},duration:1500},{id:"configure_redaction",title:"Configure Redaction Rules",description:"Set up rules for what information to redact",action:async()=>{console.log("\u2699\ufe0f Configuring redaction rules:"),console.log("   - Remove chunks 1, 3, 5 (privileged information)"),console.log("   - Preserve document structure"),await this.simulateDelay(2e3),console.log("\u2705 Redaction rules configured")},duration:2e3},{id:"apply_redaction",title:"Apply Redaction",description:"Apply redaction rules to create new document version",action:async()=>{console.log("\ud83d\udd12 Applying redaction..."),await this.simulateDelay(2e3),console.log("\u2705 Redacted document created")},duration:2e3},{id:"generate_zkpt_proof",title:"Generate ZKPT Proof",description:"Generate zero-knowledge proof of transformation",action:async()=>{console.log("\ud83d\udd10 Generating ZKPT proof..."),await this.simulateDelay(2e3),console.log("\u2705 ZKPT proof generated: zkpt_proof_001"),console.log("\u2705 Proof guarantees valid transformation")},duration:2e3},{id:"verify_transformation",title:"Verify Transformation",description:"Verify the redaction was applied correctly",action:async()=>{console.log("\ud83d\udd0d Verifying transformation..."),await this.simulateDelay(2e3),console.log("\u2705 Transformation verified"),console.log("\u2705 Chain of custody maintained")},duration:2e3}]}}getVerifiableAIAnalysisDemo(){return{id:"verifiable_ai_analysis",title:"Verifiable AI Analysis (ZKML)",description:"Demonstrate zero-knowledge machine learning for contract analysis",totalDuration:25e3,steps:[{id:"select_ai_model",title:"Select AI Model",description:"Choose the AI model for contract analysis",action:async()=>{console.log("\ud83e\udd16 Selecting AI model: 'Linear Regression'"),console.log("\ud83d\udcca Model parameters: m=2, b=3"),await this.simulateDelay(1500),console.log("\u2705 AI model selected")},duration:1500},{id:"configure_analysis",title:"Configure Analysis",description:"Set up analysis parameters and inputs",action:async()=>{console.log("\u2699\ufe0f Configuring analysis:"),console.log("   - Private input: x=5"),console.log("   - Expected output: y=13"),await this.simulateDelay(2e3),console.log("\u2705 Analysis configured")},duration:2e3},{id:"run_analysis",title:"Run AI Analysis",description:"Execute the AI analysis on the document",action:async()=>{console.log("\ud83d\udd0d Running AI analysis..."),await this.simulateDelay(2e3),console.log("\u2705 Analysis completed"),console.log("\u2705 Result: y=13 (matches expected)")},duration:2e3},{id:"generate_zkml_proof",title:"Generate ZKML Proof",description:"Generate zero-knowledge proof of ML computation",action:async()=>{console.log("\ud83d\udd10 Generating ZKML proof..."),await this.simulateDelay(2e3),console.log("\u2705 ZKML proof generated: zkml_proof_001"),console.log("\u2705 Proof guarantees correct computation")},duration:2e3},{id:"verify_analysis",title:"Verify Analysis",description:"Verify the AI analysis was performed correctly",action:async()=>{console.log("\ud83d\udd0d Verifying AI analysis..."),console.log("\u2705 Analysis verified"),console.log("\u2705 Confidence score: 0.95"),console.log("\u2705 Risk level: Medium")},duration:2e3}]}}getESignatureDemo(){return{id:"e_signature",title:"E-Signature Workflow",description:"Demonstrate secure electronic signature process",totalDuration:2e4,steps:[{id:"create_signature_request",title:"Create Signature Request",description:"Create a request for document signature",action:async()=>{console.log("\u270d\ufe0f Creating signature request:"),console.log("   - Document: Employment Agreement - Smith.pdf"),console.log("   - Recipient: John Smith"),console.log("   - Deadline: 2024-02-15"),await this.simulateDelay(2e3),console.log("\u2705 Signature request created")},duration:2e3},{id:"send_request",title:"Send Request",description:"Send the signature request to the recipient",action:async()=>{console.log("\ud83d\udce4 Sending signature request..."),await this.simulateDelay(1500),console.log("\u2705 Request sent to recipient")},duration:1500},{id:"recipient_review",title:"Recipient Review",description:"Recipient reviews and signs the document",action:async()=>{console.log("\ud83d\udc64 Recipient reviewing document..."),await this.simulateDelay(2e3),console.log("\u2705 Document reviewed and signed")},duration:2e3},{id:"verify_signature",title:"Verify Signature",description:"Verify the electronic signature",action:async()=>{console.log("\ud83d\udd0d Verifying signature..."),await this.simulateDelay(1500),console.log("\u2705 Signature verified"),console.log("\u2705 Document status: Signed")},duration:1500}]}}getCompleteWorkflowDemo(){return{id:"complete_workflow",title:"Complete Legal Workflow",description:"Demonstrate the complete legal document workflow from upload to signature",totalDuration:6e4,steps:[{id:"case_setup",title:"Case Setup",description:"Set up a new legal case with team members",action:async()=>{console.log("\ud83d\udcc1 Setting up case: 'Corporate Merger Review'"),await this.simulateDelay(2e3),console.log("\u2705 Case setup complete")},duration:2e3},{id:"document_upload",title:"Document Upload",description:"Upload and notarize legal documents",action:async()=>{console.log("\ud83d\udcc4 Uploading documents..."),await this.simulateDelay(3e3),console.log("\u2705 Documents uploaded and notarized")},duration:3e3},{id:"document_redaction",title:"Document Redaction",description:"Redact privileged information from documents",action:async()=>{console.log("\ud83d\udd12 Redacting privileged information..."),await this.simulateDelay(3e3),console.log("\u2705 Documents redacted with ZKPT proof")},duration:3e3},{id:"ai_analysis",title:"AI Analysis",description:"Perform AI analysis on documents",action:async()=>{console.log("\ud83e\udd16 Running AI analysis..."),await this.simulateDelay(3e3),console.log("\u2705 AI analysis completed with ZKML proof")},duration:3e3},{id:"signature_workflow",title:"Signature Workflow",description:"Request and collect signatures",action:async()=>{console.log("\u270d\ufe0f Managing signature workflow..."),await this.simulateDelay(3e3),console.log("\u2705 Signatures collected and verified")},duration:3e3},{id:"audit_trail",title:"Audit Trail",description:"Generate comprehensive audit trail",action:async()=>{console.log("\ud83d\udccb Generating audit trail..."),await this.simulateDelay(2e3),console.log("\u2705 Audit trail generated"),console.log("\u2705 Complete workflow documented")},duration:2e3}]}}async runDemo(e){const t=this.getDemoScenarios().find(t=>t.id===e);if(!t)throw new Error("Demo scenario '".concat(e,"' not found"));console.log("\ud83c\udfac Starting demo: ".concat(t.title)),console.log("\ud83d\udcdd Description: ".concat(t.description)),console.log("\u23f1\ufe0f Estimated duration: ".concat(t.totalDuration/1e3," seconds")),console.log("=".repeat(60)),this.isRunning=!0,this.currentStep=0;try{for(const e of t.steps)this.currentStep++,console.log("\n\ud83d\udccb Step ".concat(this.currentStep,"/").concat(t.steps.length,": ").concat(e.title)),console.log("\ud83d\udcdd ".concat(e.description)),console.log("-".repeat(40)),await e.action(),this.currentStep<t.steps.length&&(console.log("\u23f3 Waiting ".concat(e.duration/1e3," seconds...")),await this.simulateDelay(e.duration));console.log("\n\u2705 Demo completed successfully!"),console.log("\ud83c\udf89 All features demonstrated!")}catch(n){throw console.error("\u274c Demo failed:",n),n}finally{this.isRunning=!1}}async runAllDemos(){const e=this.getDemoScenarios();console.log("\ud83d\ude80 Running all BlockVault Legal demos..."),console.log("\ud83d\udcca Total scenarios: ".concat(e.length)),console.log("=".repeat(60));for(const t of e)await this.runDemo(t.id),console.log("\n"+"=".repeat(60));console.log("\n\ud83c\udf89 All demos completed!"),console.log("\ud83d\ude80 BlockVault Legal: The Future of Legal Technology!")}getDemoData(e){return this.demoData[e]||null}isDemoRunning(){return this.isRunning}getCurrentStep(){return this.currentStep}async simulateDelay(e){return new Promise(t=>setTimeout(t,e))}},ry=e=>{let{onClose:n}=e;const[r,a]=(0,t.useState)([]),[s,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)([]);(0,t.useEffect)(()=>{const e=ny.getDemoScenarios();a(e)},[]);const d=r.find(e=>e.id===s);return(0,Om.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2",children:(0,Om.jsxs)("div",{className:"bg-slate-900 rounded-xl p-4 w-full max-w-4xl max-h-[98vh] overflow-y-auto",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Om.jsx)("h2",{className:"text-xl font-bold text-white",children:"BlockVault Legal Demo"}),n&&(0,Om.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors text-xl",children:"\u2715"})]}),(0,Om.jsx)("div",{className:"mb-4 space-y-2",children:(0,Om.jsx)("div",{className:"flex flex-col sm:flex-row gap-2",children:(0,Om.jsx)("button",{onClick:async()=>{if(!o){l(!0),u([]);try{const e=console.log;console.log=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const a=n.join(" ");u(e=>[...e,a]),e(...n)},await ny.runAllDemos(),console.log=e}catch(e){console.error("Demo failed:",e),u(t=>[...t,"\u274c Demo failed: ".concat(e)])}finally{l(!1)}}},disabled:o,className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 text-sm font-medium",children:o?"\ud83d\udd04 Running All Demos...":"\ud83d\ude80 Run All Demos"})})}),(0,Om.jsxs)("div",{className:"mb-4",children:[(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Or Select Specific Demo:"}),(0,Om.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.map(e=>(0,Om.jsxs)("button",{onClick:()=>i(e.id),className:"text-left p-3 rounded-lg transition-colors text-sm ".concat(s===e.id?"bg-blue-600 text-white":"bg-slate-800 text-gray-300 hover:bg-slate-700"),children:[(0,Om.jsx)("div",{className:"font-medium",children:e.title}),(0,Om.jsxs)("div",{className:"text-xs opacity-75 mt-1",children:[e.totalDuration/1e3,"s"]})]},e.id))})]}),s&&(0,Om.jsx)("div",{className:"mb-4",children:(0,Om.jsx)("button",{onClick:()=>(async e=>{if(!o){l(!0),u([]);try{const t=console.log;console.log=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const a=n.join(" ");u(e=>[...e,a]),t(...n)},await ny.runDemo(e),console.log=t}catch(t){console.error("Demo failed:",t),u(e=>[...e,"\u274c Demo failed: ".concat(t)])}finally{l(!1)}}})(s),disabled:o,className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:o?"\ud83d\udd04 Running...":"\u25b6\ufe0f Run ".concat(null===d||void 0===d?void 0:d.title)})}),(0,Om.jsxs)("div",{className:"mb-4",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Demo Output"}),(0,Om.jsx)("button",{onClick:()=>{u([])},className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Clear Log"})]}),(0,Om.jsx)("div",{className:"bg-black rounded-lg p-3 h-64 overflow-y-auto",children:(0,Om.jsx)("div",{className:"font-mono text-sm text-green-400 space-y-1",children:0===c.length?(0,Om.jsx)("div",{className:"text-gray-500",children:'No demo output yet. Click "Run All Demos" or select a specific demo above.'}):c.map((e,t)=>(0,Om.jsx)("div",{className:"whitespace-pre-wrap",children:e},t))})})]}),o&&(0,Om.jsx)("div",{className:"bg-blue-900 bg-opacity-50 p-3 rounded-lg mb-4",children:(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Om.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-400"}),(0,Om.jsx)("span",{className:"text-blue-400",children:"Demo is running..."})]})}),(0,Om.jsxs)("div",{className:"bg-slate-800 p-3 rounded-lg",children:[(0,Om.jsx)("h3",{className:"text-base font-semibold text-white mb-2",children:"Demo Features"}),(0,Om.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-xs",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Om.jsx)("span",{className:"text-green-400",children:"\u2705"}),(0,Om.jsx)("span",{className:"text-gray-300",children:"Case Management"})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Om.jsx)("span",{className:"text-green-400",children:"\u2705"}),(0,Om.jsx)("span",{className:"text-gray-300",children:"Document Notarization"})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Om.jsx)("span",{className:"text-green-400",children:"\u2705"}),(0,Om.jsx)("span",{className:"text-gray-300",children:"Verifiable Redaction"})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Om.jsx)("span",{className:"text-green-400",children:"\u2705"}),(0,Om.jsx)("span",{className:"text-gray-300",children:"AI Analysis"})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Om.jsx)("span",{className:"text-green-400",children:"\u2705"}),(0,Om.jsx)("span",{className:"text-gray-300",children:"E-Signatures"})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Om.jsx)("span",{className:"text-green-400",children:"\u2705"}),(0,Om.jsx)("span",{className:"text-gray-300",children:"Audit Trails"})]})]})]})]})})},ay=()=>{const[e,n]=(0,t.useState)(!1);return(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("button",{onClick:()=>n(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"\ud83c\udfac Launch Demo"}),e&&(0,Om.jsx)(ry,{onClose:()=>n(!1)})]})},sy=Fn("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),iy=e=>{let{onComplete:n,userAddress:r}=e;const[a,s]=(0,t.useState)("role"),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),h=e=>{o(e),"lead-attorney"===e||"associate"===e||"paralegal"===e?s("firm"):f(e)},f=async e=>{const t=e||i;if(t){d(!0);try{const e={walletAddress:r,role:t,firmName:l||null,onboardedAt:(new Date).toISOString(),isOnboarded:!0};localStorage.setItem("user_profile",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("userOnboarded",{detail:{role:t,firmName:l}})),_n.success("Welcome! You've been registered as a ".concat(p(t))),n(t,l)}catch(a){console.error("Error completing onboarding:",a),_n.error("Failed to complete onboarding")}finally{d(!1)}}},p=e=>({"lead-attorney":"Lead Attorney",associate:"Associate Attorney",paralegal:"Paralegal",client:"Client","external-counsel":"External Counsel"}[e]),m=e=>({"lead-attorney":"Full access to case management, document operations, and team coordination",associate:"Broad access to document operations and sharing, limited administrative access",paralegal:"Document management and organization, limited operational access",client:"View-only access to documents shared with you, can sign required documents","external-counsel":"View-only access to documents shared with you, can sign required documents"}[e]),g=e=>{switch(e){case"lead-attorney":return(0,Om.jsx)(Vn,{className:"w-8 h-8 text-blue-500"});case"associate":return(0,Om.jsx)(Cg,{className:"w-8 h-8 text-green-500"});case"paralegal":return(0,Om.jsx)(Hn,{className:"w-8 h-8 text-purple-500"});case"client":return(0,Om.jsx)(Hn,{className:"w-8 h-8 text-orange-500"});case"external-counsel":return(0,Om.jsx)(sy,{className:"w-8 h-8 text-indigo-500"});default:return(0,Om.jsx)(Hn,{className:"w-8 h-8 text-gray-500"})}};return"role"===a?(0,Om.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:(0,Om.jsx)(Zm,{className:"w-full max-w-4xl",children:(0,Om.jsxs)("div",{className:"p-8",children:[(0,Om.jsxs)("div",{className:"text-center mb-8",children:[(0,Om.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:"Welcome to BlockVault Legal"}),(0,Om.jsx)("p",{className:"text-slate-400 text-lg",children:"Please select your role to get started with secure legal document management"}),(0,Om.jsx)("div",{className:"mt-4 p-3 bg-slate-800/50 rounded-lg",children:(0,Om.jsxs)("p",{className:"text-sm text-slate-300",children:[(0,Om.jsx)("strong",{children:"Wallet Address:"})," ",(0,Om.jsx)("span",{className:"font-mono text-blue-400",children:r})]})})]}),(0,Om.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Om.jsx)(Zm,{className:"p-6 cursor-pointer hover:bg-slate-800/50 transition-colors border-2 border-transparent hover:border-blue-500/50",onClick:()=>h("lead-attorney"),children:(0,Om.jsxs)("div",{className:"text-center",children:[(0,Om.jsx)("div",{className:"flex justify-center mb-4",children:g("lead-attorney")}),(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Lead Attorney"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:m("lead-attorney")}),(0,Om.jsx)("div",{className:"text-xs text-blue-400",children:"Full administrative access"})]})}),(0,Om.jsx)(Zm,{className:"p-6 cursor-pointer hover:bg-slate-800/50 transition-colors border-2 border-transparent hover:border-green-500/50",onClick:()=>h("associate"),children:(0,Om.jsxs)("div",{className:"text-center",children:[(0,Om.jsx)("div",{className:"flex justify-center mb-4",children:g("associate")}),(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Associate Attorney"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:m("associate")}),(0,Om.jsx)("div",{className:"text-xs text-green-400",children:"Document operations access"})]})}),(0,Om.jsx)(Zm,{className:"p-6 cursor-pointer hover:bg-slate-800/50 transition-colors border-2 border-transparent hover:border-purple-500/50",onClick:()=>h("paralegal"),children:(0,Om.jsxs)("div",{className:"text-center",children:[(0,Om.jsx)("div",{className:"flex justify-center mb-4",children:g("paralegal")}),(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Paralegal"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:m("paralegal")}),(0,Om.jsx)("div",{className:"text-xs text-purple-400",children:"Document management access"})]})}),(0,Om.jsx)(Zm,{className:"p-6 cursor-pointer hover:bg-slate-800/50 transition-colors border-2 border-transparent hover:border-orange-500/50",onClick:()=>h("client"),children:(0,Om.jsxs)("div",{className:"text-center",children:[(0,Om.jsx)("div",{className:"flex justify-center mb-4",children:g("client")}),(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Client"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:m("client")}),(0,Om.jsx)("div",{className:"text-xs text-orange-400",children:"View and sign documents"})]})}),(0,Om.jsx)(Zm,{className:"p-6 cursor-pointer hover:bg-slate-800/50 transition-colors border-2 border-transparent hover:border-indigo-500/50",onClick:()=>h("external-counsel"),children:(0,Om.jsxs)("div",{className:"text-center",children:[(0,Om.jsx)("div",{className:"flex justify-center mb-4",children:g("external-counsel")}),(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"External Counsel"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:m("external-counsel")}),(0,Om.jsx)("div",{className:"text-xs text-indigo-400",children:"View and sign documents"})]})})]})]})})}):"firm"===a?(0,Om.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:(0,Om.jsx)(Zm,{className:"w-full max-w-2xl",children:(0,Om.jsxs)("div",{className:"p-8",children:[(0,Om.jsxs)("div",{className:"text-center mb-8",children:[(0,Om.jsx)("div",{className:"flex justify-center mb-4",children:i&&g(i)}),(0,Om.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Register Your Law Firm"}),(0,Om.jsxs)("p",{className:"text-slate-400",children:["As a ",p(i),", you need to register your law firm to access case management features."]})]}),(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Law Firm Name *"}),(0,Om.jsx)(fg,{value:l,onChange:e=>c(e.target.value),placeholder:"Enter your law firm name",className:"w-full"})]}),(0,Om.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[(0,Om.jsx)("h3",{className:"text-sm font-medium text-white mb-2",children:"What happens next?"}),(0,Om.jsxs)("ul",{className:"text-sm text-slate-400 space-y-1",children:[(0,Om.jsx)("li",{children:"\u2022 Your firm will be registered in the system"}),(0,Om.jsx)("li",{children:"\u2022 You'll be able to create and manage case files"}),(0,Om.jsx)("li",{children:"\u2022 You can invite other team members to join your firm"}),(0,Om.jsx)("li",{children:"\u2022 All your documents will be securely encrypted and stored"})]})]}),(0,Om.jsxs)("div",{className:"flex space-x-4",children:[(0,Om.jsx)(Jm,{variant:"outline",onClick:()=>s("role"),className:"flex-1",children:"Back"}),(0,Om.jsx)(Jm,{onClick:()=>f(),disabled:!l.trim()||u,className:"flex-1",children:u?"Registering...":"Register Firm & Continue"})]})]})]})})}):null},oy=Fn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ly=e=>{let{onConnect:n}=e;const[r,a]=(0,t.useState)(!1);return(0,Om.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:(0,Om.jsx)(Zm,{className:"w-full max-w-md",children:(0,Om.jsxs)("div",{className:"p-8 text-center",children:[(0,Om.jsx)("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Om.jsx)(Kn,{className:"w-8 h-8 text-white"})}),(0,Om.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Welcome to BlockVault Legal"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-8",children:"Connect your wallet to access secure legal document management with zero-knowledge proofs and blockchain verification."}),(0,Om.jsx)(Jm,{onClick:async()=>{a(!0);try{if("undefined"===typeof window.ethereum)return void _n.error("MetaMask is not installed. Please install MetaMask to continue.");const e=await window.ethereum.request({method:"eth_requestAccounts"});if(e.length>0){const t=e[0];n(t),_n.success("Wallet connected successfully!")}}catch(e){console.error("Error connecting wallet:",e),4001===e.code?_n.error("Please connect your wallet to continue."):_n.error("Failed to connect wallet. Please try again.")}finally{a(!1)}},disabled:r,className:"w-full",size:"lg",children:r?(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connecting..."]}):(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(Kn,{className:"w-4 h-4 mr-2"}),"Connect Wallet",(0,Om.jsx)(oy,{className:"w-4 h-4 ml-2"})]})}),(0,Om.jsxs)("div",{className:"mt-6 p-4 bg-slate-800/50 rounded-lg",children:[(0,Om.jsx)("h3",{className:"text-sm font-medium text-white mb-2",children:"Features:"}),(0,Om.jsxs)("ul",{className:"text-xs text-slate-400 space-y-1",children:[(0,Om.jsx)("li",{children:"\u2022 Verifiable document redaction (ZKPT)"}),(0,Om.jsx)("li",{children:"\u2022 AI analysis with cryptographic proofs (ZKML)"}),(0,Om.jsx)("li",{children:"\u2022 Role-based access control"}),(0,Om.jsx)("li",{children:"\u2022 Blockchain-anchored chain of custody"}),(0,Om.jsx)("li",{children:"\u2022 Secure document sharing"})]})]})]})})})},cy={view_case:"canViewCase",canCreateCase:"canCreateCase",edit_case:"canEditCaseDetails",manage_members:"canAddRemoveMembers",canNotarizeDocuments:"canNotarizeDocuments",view_documents:"canViewAllDocuments",canCreateRedactions:"canCreateRedactions",grant_access:"canGrantRevokeAccess",view_shared:"canViewSharedByMe",view_received:"canViewReceivedDocs",canRequestSignatures:"canRequestSignatures",fund_escrow:"canFundEscrow",canSignDocuments:"canSignDocuments",canRunZKMLAnalysis:"canRunZKMLAnalysis"},uy=()=>{const{currentUser:e,canPerformAction:n,isOnboarded:r,completeOnboarding:a,userProfile:s,setCurrentUser:i}=$g(),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)("cases"),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),[b,w]=(0,t.useState)(!1),[x,E]=(0,t.useState)(!1),[C,A]=(0,t.useState)(!1),[S,N]=(0,t.useState)(null),[k,T]=(0,t.useState)(!1),[I,B]=(0,t.useState)(null),[R,j]=(0,t.useState)(()=>JSON.parse(localStorage.getItem("legal_documents")||"[]")),P=R.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())),L=(0,t.useCallback)(()=>{const e=JSON.parse(localStorage.getItem("legal_documents")||"[]");j(e),D(e)},[]),D=e=>{const t=[],n=JSON.parse(localStorage.getItem("chain_of_custody")||"[]");t.push(...n),e.forEach(e=>{t.push({id:"create_".concat(e.id),documentId:e.file_id,documentName:e.name,action:"Document Notarized",timestamp:e.timestamp,user:e.owner,details:"Document uploaded, hashed, and registered on blockchain",type:"creation",hash:e.docHash,cid:e.cid,status:e.status}),"redaction"===e.transformationType&&t.push({id:"redact_".concat(e.id),documentId:e.file_id,documentName:e.name,action:"Document Redacted",timestamp:e.timestamp,user:e.owner,details:"Document redacted using ZKPT protocol. Rules: ".concat(JSON.stringify(e.redactionRules)),type:"transformation",transformationType:"redaction",parentHash:e.parentHash,originalDocumentId:e.originalDocumentId,hash:e.docHash,cid:e.cid}),e.signatures&&e.signatures.signers.forEach((n,r)=>{n.signed&&t.push({id:"sign_".concat(e.id,"_").concat(r),documentId:e.file_id,documentName:e.name,action:"Document Signed",timestamp:e.timestamp+1e3*r,user:n.address,details:"Document electronically signed by ".concat(n.address),type:"signature",hash:e.docHash})}),e.aiAnalysis&&t.push({id:"ai_".concat(e.id),documentId:e.file_id,documentName:e.name,action:"AI Analysis Performed",timestamp:e.timestamp+5e3,user:"AI System",details:"AI analysis performed using ZKML protocol. Model: ".concat(e.aiAnalysis.model,", Result: ").concat(e.aiAnalysis.result),type:"analysis",verified:e.aiAnalysis.verified,hash:e.docHash})}),t.sort((e,t)=>t.timestamp-e.timestamp),h(t)};(0,t.useEffect)(()=>{L();const e=e=>{"legal_documents"===e.key&&L()},t=()=>{L()},n=()=>{L()};return window.addEventListener("storage",e),window.addEventListener("legalDocumentsUpdated",t),window.addEventListener("chainOfCustodyUpdated",n),()=>{window.removeEventListener("storage",e),window.removeEventListener("legalDocumentsUpdated",t),window.removeEventListener("chainOfCustodyUpdated",n)}},[L]);const O=e=>{switch(e){case"registered":return(0,Om.jsx)(zm,{className:"w-4 h-4 text-green-500"});case"awaiting_signatures":return(0,Om.jsx)(mg,{className:"w-4 h-4 text-yellow-500"});case"executed":return(0,Om.jsx)(zm,{className:"w-4 h-4 text-blue-500"});case"revoked":return(0,Om.jsx)(qn,{className:"w-4 h-4 text-red-500"});default:return(0,Om.jsx)(mg,{className:"w-4 h-4 text-gray-500"})}},_=(e,t)=>{switch(N(t),e){case"redact":g(!0);break;case"sign":v(!0);break;case"request-signature":A(!0);break;case"analyze":w(!0)}},U=[{id:"cases",label:"Case Management",icon:Cg},{id:"documents",label:"Legal Documents",icon:Ag},{id:"signatures",label:"Signature Requests",icon:Sg},{id:"sent-signatures",label:"Sent Requests",icon:Cg},{id:"analysis",label:"AI Analysis",icon:Ng},{id:"chain",label:"Chain of Custody",icon:Vn}];return null!==e&&void 0!==e&&e.walletAddress?!r&&null!==e&&void 0!==e&&e.walletAddress?(0,Om.jsx)(iy,{onComplete:(e,t)=>{a(e,t),_n.success("Welcome to BlockVault Legal!")},userAddress:e.walletAddress}):(null!==e&&void 0!==e&&e.currentRole&&(console.log("Current user role:",e.currentRole),(e=>{console.log("=== USER PERMISSIONS DEBUG ==="),console.log("User Role:",e);const t=qg(e);console.log("Permissions:",t),console.log("Can Create Case:",t.canCreateCase),console.log("Can Notarize Documents:",t.canNotarizeDocuments),console.log("Can Create Redactions:",t.canCreateRedactions),console.log("Can Sign Documents:",t.canSignDocuments),console.log("Can Request Signatures:",t.canRequestSignatures),console.log("Can Run ZKML Analysis:",t.canRunZKMLAnalysis),console.log("=== END DEBUG ===")})(e.currentRole)),(0,Om.jsxs)("div",{className:"min-h-screen bg-slate-900",children:[(0,Om.jsx)("div",{className:"bg-slate-800 border-b border-slate-700",children:(0,Om.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Om.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,Om.jsx)(Vn,{className:"w-6 h-6 text-white"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h1",{className:"text-xl font-semibold text-white",children:"BlockVault Legal"}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:"ZK-powered legal document management"}),(null===e||void 0===e?void 0:e.currentRole)&&(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("span",{className:"text-slate-500",children:"\u2022"}),(0,Om.jsx)("span",{className:"text-sm text-blue-400 font-medium",children:Wg(e.currentRole)})]}),(null===s||void 0===s?void 0:s.firmName)&&(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("span",{className:"text-slate-500",children:"\u2022"}),(0,Om.jsx)("span",{className:"text-sm text-green-400 font-medium",children:s.firmName})]})]})]})]}),(0,Om.jsxs)("div",{className:"flex space-x-3",children:[(0,Om.jsx)(ay,{}),(0,Om.jsx)(Jm,{variant:"outline",size:"sm",onClick:()=>T(!k),children:"Debug"}),(null===e||void 0===e?void 0:e.currentRole)&&(0,Om.jsxs)("div",{className:"text-sm text-slate-400",children:["Can Create Case: ",n("canCreateCase")?"\u2705":"\u274c"]})]})]})})}),k&&(0,Om.jsx)("div",{className:"bg-slate-800 border-b border-slate-700 p-4",children:(0,Om.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Debug Panel"}),(0,Om.jsxs)("div",{className:"flex space-x-2",children:[(0,Om.jsx)(Jm,{variant:"outline",size:"sm",onClick:async()=>{try{const e=await ty.runAllTests();B(e),_n.success("Debug tests completed")}catch(e){console.error("Debug tests failed:",e),_n.error("Debug tests failed")}},children:"API Tests"}),(0,Om.jsx)(Jm,{variant:"outline",size:"sm",onClick:()=>{console.log("Running permission tests..."),console.log("\ud83e\uddea Testing RBAC Permissions...\n"),["lead-attorney","associate","paralegal","client","external-counsel"].forEach(e=>{console.log("\n\ud83d\udccb Testing role: ".concat(e)),console.log("=".repeat(50));const t=qg(e);console.log("\u2705 Can Create Case: ".concat(t.canCreateCase?"YES":"NO")),console.log("\ud83d\udcc4 Can Notarize Documents: ".concat(t.canNotarizeDocuments?"YES":"NO")),console.log("\ud83d\udd12 Can Create Redactions: ".concat(t.canCreateRedactions?"YES":"NO")),console.log("\u270d\ufe0f Can Sign Documents: ".concat(t.canSignDocuments?"YES":"NO")),console.log("\ud83d\udcdd Can Request Signatures: ".concat(t.canRequestSignatures?"YES":"NO")),console.log("\ud83e\udd16 Can Run ZKML Analysis: ".concat(t.canRunZKMLAnalysis?"YES":"NO")),console.log("\ud83d\udc41\ufe0f Can View Case: ".concat(t.canViewCase?"YES":"NO")),console.log("\u270f\ufe0f Can Edit Case Details: ".concat(t.canEditCaseDetails?"YES":"NO")),console.log("\ud83d\udc65 Can Add/Remove Members: ".concat(t.canAddRemoveMembers?"YES":"NO"))}),console.log("\n\ud83c\udfaf Expected Results:"),console.log("- Lead Attorney: Should be able to create cases \u2705"),console.log("- Associate: Should be able to create cases \u2705"),console.log("- Paralegal: Should NOT be able to create cases \u274c"),console.log("- Client: Should NOT be able to create cases \u274c"),console.log("- External Counsel: Should NOT be able to create cases \u274c"),_n.success("Permission tests completed - check console")},children:"Permission Tests"}),(0,Om.jsx)(Jm,{variant:"outline",size:"sm",onClick:()=>{console.log("Running permission mapping tests..."),(()=>{console.log("\ud83e\uddea Testing Permission Mapping...\n");const e="lead-attorney",t=qg(e);console.log("Testing role: ".concat(e)),console.log("=".repeat(50));const n="canCreateCase",r=cy[n];console.log("Action: ".concat(n)),console.log("Mapped Permission: ".concat(r)),console.log("Permission Value: ".concat(t[r])),console.log("Result: ".concat(t[r]?"\u2705 ALLOWED":"\u274c DENIED")),console.log("\n\ud83d\udccb Testing all actions:"),Object.entries(cy).forEach(e=>{let[n,r]=e;const a=t[r];console.log("".concat(n,": ").concat(a?"\u2705":"\u274c"))}),t[r]})(),_n.success("Permission mapping tests completed - check console")},children:"Mapping Tests"})]})]}),I&&(0,Om.jsx)("div",{className:"bg-slate-900 rounded-lg p-4",children:(0,Om.jsx)("pre",{className:"text-sm text-green-400 overflow-auto",children:JSON.stringify(I,null,2)})})]})}),(0,Om.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Om.jsx)("div",{className:"flex-1 max-w-md",children:(0,Om.jsxs)("div",{className:"relative",children:[(0,Om.jsx)(tg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),(0,Om.jsx)(fg,{placeholder:"Search documents...",value:o,onChange:e=>l(e.target.value),className:"pl-10"})]})}),(0,Om.jsxs)("div",{className:"flex space-x-3",children:[n("canNotarizeDocuments")&&(0,Om.jsxs)(Jm,{onClick:()=>p(!0),className:"flex items-center space-x-2",children:[(0,Om.jsx)(ng,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:"Notarize Document"})]}),n("canCreateCase")&&(0,Om.jsxs)(Jm,{variant:"outline",onClick:()=>E(!0),className:"flex items-center space-x-2",children:[(0,Om.jsx)(ng,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:"New Case"})]})]})]}),(0,Om.jsx)("div",{className:"flex space-x-1 bg-slate-800 rounded-lg p-1",children:U.map(e=>{const t=e.icon;return(0,Om.jsxs)("button",{onClick:()=>u(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat(c===e.id?"bg-blue-500 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"),children:[(0,Om.jsx)(t,{className:"w-4 h-4"}),(0,Om.jsx)("span",{children:e.label})]},e.id)})}),(0,Om.jsxs)("div",{className:"mt-8",children:["cases"===c&&(0,Om.jsx)(Gg,{children:(0,Om.jsx)("div",{className:"space-y-6",children:(0,Om.jsxs)("div",{className:"text-center py-12",children:[(0,Om.jsx)(Cg,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Case Management"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Create and manage legal case files with role-based access control"})]})})}),"documents"===c&&(0,Om.jsx)("div",{className:"space-y-6",children:0===P.length?(0,Om.jsxs)("div",{className:"text-center py-12",children:[(0,Om.jsx)(Ag,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No Legal Documents"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Upload and notarize documents to get started with legal document management"})]}):(0,Om.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(t=>(0,Om.jsx)(Zm,{className:"hover:bg-slate-800/50 transition-colors",children:(0,Om.jsxs)("div",{className:"p-6",children:[(0,Om.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsx)("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:(0,Om.jsx)(Ag,{className:"w-5 h-5 text-blue-500"})}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h3",{className:"font-medium text-white",children:t.name}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:new Date(t.timestamp).toLocaleDateString()})]})]}),(0,Om.jsxs)("div",{className:"flex items-center space-x-2",children:[O(t.status),(0,Om.jsx)("span",{className:"text-xs text-slate-400 capitalize",children:t.status.replace("_"," ")})]})]}),(0,Om.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Hash:"}),(0,Om.jsxs)("span",{className:"text-white font-mono text-xs",children:[t.docHash.slice(0,8),"..."]})]}),(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"IPFS CID:"}),(0,Om.jsxs)("span",{className:"text-white font-mono text-xs",children:[t.cid.slice(0,8),"..."]})]}),t.parentHash&&(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Parent Document:"}),(0,Om.jsxs)("span",{className:"text-blue-400 font-mono text-xs",children:[t.parentHash.slice(0,8),"..."]})]}),t.transformationType&&(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Transformation:"}),(0,Om.jsx)("span",{className:"text-purple-400 capitalize",children:t.transformationType})]})]}),(0,Om.jsxs)("div",{className:"flex flex-wrap gap-2",children:[n("canCreateRedactions")?(0,Om.jsxs)(Jm,{size:"sm",variant:"outline",onClick:()=>_("redact",t),children:[(0,Om.jsx)(kg,{className:"w-3 h-3 mr-1"}),"Redact"]}):(0,Om.jsxs)(Jm,{size:"sm",variant:"outline",disabled:!0,className:"opacity-50 cursor-not-allowed",title:"".concat(Wg((null===e||void 0===e?void 0:e.currentRole)||"client")," role cannot create redactions"),children:[(0,Om.jsx)(ug,{className:"w-3 h-3 mr-1"}),"Redact"]}),n("canSignDocuments")?(0,Om.jsxs)(Jm,{size:"sm",variant:"outline",onClick:()=>_("sign",t),children:[(0,Om.jsx)(Sg,{className:"w-3 h-3 mr-1"}),"Sign"]}):(0,Om.jsxs)(Jm,{size:"sm",variant:"outline",disabled:!0,className:"opacity-50 cursor-not-allowed",title:"".concat(Wg((null===e||void 0===e?void 0:e.currentRole)||"client")," role cannot sign documents"),children:[(0,Om.jsx)(ug,{className:"w-3 h-3 mr-1"}),"Sign"]}),n("canRequestSignatures")?(0,Om.jsxs)(Jm,{size:"sm",variant:"outline",onClick:()=>_("request-signature",t),children:[(0,Om.jsx)(Cg,{className:"w-3 h-3 mr-1"}),"Request"]}):(0,Om.jsxs)(Jm,{size:"sm",variant:"outline",disabled:!0,className:"opacity-50 cursor-not-allowed",title:"".concat(Wg((null===e||void 0===e?void 0:e.currentRole)||"client")," role cannot request signatures"),children:[(0,Om.jsx)(ug,{className:"w-3 h-3 mr-1"}),"Request"]}),n("canRunZKMLAnalysis")?(0,Om.jsxs)(Jm,{size:"sm",variant:"outline",onClick:()=>_("analyze",t),children:[(0,Om.jsx)(Ng,{className:"w-3 h-3 mr-1"}),"Analyze"]}):(0,Om.jsxs)(Jm,{size:"sm",variant:"outline",disabled:!0,className:"opacity-50 cursor-not-allowed",title:"".concat(Wg((null===e||void 0===e?void 0:e.currentRole)||"client")," role cannot run AI analysis"),children:[(0,Om.jsx)(ug,{className:"w-3 h-3 mr-1"}),"Analyze"]}),(0,Om.jsxs)(Jm,{size:"sm",variant:"outline",onClick:()=>window.open("/documents/".concat(t.file_id,"/download"),"_blank"),children:[(0,Om.jsx)(Km,{className:"w-3 h-3 mr-1"}),"Download"]})]})]})},t.id))})}),"signatures"===c&&(0,Om.jsx)(zg,{}),"sent-signatures"===c&&(0,Om.jsx)(Kg,{}),"analysis"===c&&(0,Om.jsxs)("div",{className:"text-center py-12",children:[(0,Om.jsx)(Ng,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"AI Analysis"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Run verifiable AI analysis on your legal documents using ZKML protocols"})]}),"chain"===c&&(0,Om.jsxs)("div",{className:"space-y-6",children:[(0,Om.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Chain of Custody"}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:"Complete audit trail of all document actions and transformations"})]}),(0,Om.jsxs)("div",{className:"text-sm text-slate-400",children:[d.length," entries"]})]}),0===d.length?(0,Om.jsxs)("div",{className:"text-center py-12",children:[(0,Om.jsx)(Vn,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),(0,Om.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No Chain of Custody Data"}),(0,Om.jsx)("p",{className:"text-slate-400",children:"Upload and process documents to see the complete audit trail"})]}):(0,Om.jsx)("div",{className:"space-y-4",children:d.map((e,t)=>(0,Om.jsx)(Zm,{className:"hover:bg-slate-800/50 transition-colors",children:(0,Om.jsxs)("div",{className:"p-6",children:[(0,Om.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Om.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Om.jsxs)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center ".concat("creation"===e.type?"bg-green-500/10":"transformation"===e.type?"bg-purple-500/10":"signature"===e.type?"bg-blue-500/10":"analysis"===e.type?"bg-orange-500/10":"bg-slate-500/10"),children:["creation"===e.type&&(0,Om.jsx)(Ag,{className:"w-5 h-5 text-green-500"}),"transformation"===e.type&&(0,Om.jsx)(kg,{className:"w-5 h-5 text-purple-500"}),"signature"===e.type&&(0,Om.jsx)(Sg,{className:"w-5 h-5 text-blue-500"}),"analysis"===e.type&&(0,Om.jsx)(Ng,{className:"w-5 h-5 text-orange-500"})]}),(0,Om.jsxs)("div",{children:[(0,Om.jsx)("h4",{className:"font-medium text-white",children:e.action}),(0,Om.jsx)("p",{className:"text-sm text-slate-400",children:e.documentName})]})]}),(0,Om.jsxs)("div",{className:"text-right",children:[(0,Om.jsx)("div",{className:"text-sm text-slate-400",children:new Date(e.timestamp).toLocaleString()}),(0,Om.jsx)("div",{className:"text-xs text-slate-500",children:e.user})]})]}),(0,Om.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Om.jsx)("p",{className:"text-sm text-slate-300",children:e.details}),e.hash&&(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Document Hash:"}),(0,Om.jsxs)("span",{className:"text-white font-mono text-xs",children:[e.hash.slice(0,16),"..."]})]}),e.cid&&(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"IPFS CID:"}),(0,Om.jsxs)("span",{className:"text-white font-mono text-xs",children:[e.cid.slice(0,16),"..."]})]}),e.parentHash&&(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Parent Document:"}),(0,Om.jsxs)("span",{className:"text-blue-400 font-mono text-xs",children:[e.parentHash.slice(0,16),"..."]})]}),e.transformationType&&(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Transformation:"}),(0,Om.jsx)("span",{className:"text-purple-400 capitalize",children:e.transformationType})]}),void 0!==e.verified&&(0,Om.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Om.jsx)("span",{className:"text-slate-400",children:"Verified:"}),(0,Om.jsx)("span",{className:"".concat(e.verified?"text-green-400":"text-red-400"),children:e.verified?"Yes":"No"})]})]}),t<d.length-1&&(0,Om.jsx)("div",{className:"flex justify-center",children:(0,Om.jsx)("div",{className:"w-px h-4 bg-slate-600"})})]})},e.id))})]})]})]}),f&&(0,Om.jsx)(Pg,{onClose:()=>p(!1),onSuccess:()=>{p(!1),L(),_n.success("Document notarized successfully!")}}),m&&S&&(0,Om.jsx)(Dg,{document:S,onClose:()=>{g(!1),N(null)},onSuccess:()=>{g(!1),N(null),L(),_n.success("Verifiable redaction created!")}}),y&&S&&(0,Om.jsx)(Og,{document:S,onClose:()=>{v(!1),N(null)},onSuccess:()=>{v(!1),N(null),L(),_n.success("Document signed successfully!")}}),b&&S&&(0,Om.jsx)(Mg,{document:S,onClose:()=>{w(!1),N(null)},onSuccess:()=>{w(!1),N(null),L(),_n.success("AI analysis completed!")}}),x&&(0,Om.jsx)(Gg,{children:(0,Om.jsx)(ey,{onClose:()=>E(!1),onSuccess:e=>{E(!1),_n.success("Case created successfully!")}})}),C&&S&&(0,Om.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Om.jsxs)("div",{className:"bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Om.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Request Signature"}),(0,Om.jsx)("p",{className:"text-slate-400 mb-4",children:"Request signature functionality will be implemented here."}),(0,Om.jsxs)("div",{className:"flex space-x-3",children:[(0,Om.jsx)(Jm,{variant:"outline",onClick:()=>{A(!1),N(null)},className:"flex-1",children:"Cancel"}),(0,Om.jsx)(Jm,{onClick:()=>{A(!1),N(null),_n.success("Signature request sent!")},className:"flex-1",children:"Send Request"})]})]})})]})):(0,Om.jsx)(ly,{onConnect:e=>{i({walletAddress:e,currentRole:void 0,currentCaseId:void 0})}})};const dy=function(){return(0,Om.jsx)(Mm,{children:(0,Om.jsx)(og,{children:(0,Om.jsx)(Xg,{children:(0,Om.jsx)(ht,{children:(0,Om.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[(0,Om.jsx)($m,{}),(0,Om.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,Om.jsxs)(Pe,{children:[(0,Om.jsx)(Re,{path:"/",element:(0,Om.jsx)(Eg,{})}),(0,Om.jsx)(Re,{path:"/legal",element:(0,Om.jsx)(uy,{})})]})}),(0,Om.jsx)(On,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(30, 41, 59, 0.9)",color:"#f1f5f9",border:"1px solid rgba(59, 130, 246, 0.3)",backdropFilter:"blur(10px)"},success:{iconTheme:{primary:"#10b981",secondary:"#f1f5f9"}},error:{iconTheme:{primary:"#ef4444",secondary:"#f1f5f9"}}}})]})})})})})};r.createRoot(document.getElementById("root")).render((0,Om.jsx)(t.StrictMode,{children:(0,Om.jsx)(dy,{})}))})()})();
//# sourceMappingURL=main.16baca0f.js.map